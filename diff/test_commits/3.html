<html>
<head>
<style>
a{color:#444;}a:hover{color:#000;}a.index{color:white;}a.index:hover{color:#efefef;}a.archive{color:#5f7489;//color:#275b8f;//color:#f06;//color:#895f7b;}a.archive:hover{color:#324659;}a.file{color:#555;}a.file:hover{color:#000;}.hidden{display:none;}.lineNumberColumr{border-right:solid 1px #444;padding:0 2px;}#lineNoWrapper{position:absolute;background-color:#ddd;}#actualLineNumbers{background-color:#ddd;float:left;position:relative;display:none;top:0;}body{margin:0;padding:0;width:100%;font-family:Monaco;font-size:11px;}.line{padding-left:8px;}.longline{background-color:#fad7ff;color:#ae00c8;}.difftextarea{display:none;width:1px;height:1px;}.delline,.oldfile{background-color:#fef3f3;color:#B00;}.addline,.newfile{background-color:#eafee9;color:#080;}table,table tr,table tr td{margin:0;padding:0;border-spacing:0;}.fileHeader,.firstFileHeader{height:21px;line-height:22px;color:white;display:block;padding-left:8px;background-color:#2b2b2b;}.fileHeader{margin-top:15px;border-top:solid 1px #ddd;}code .firsthunkheader,code .hunkheader{height:17px;line-height:18px;font-size:9px;color:#111;padding-left:9px;margin-bottom:8px;background-color:#f7f7f7;border-top:solid 1px #ddd;border-bottom:solid 1px #ddd;}code .hunkheader{margin-top:8px;}pre{width:100%;font-family:Monaco;font-size:11px;line-height:16px;}.addedWhitespace{background-color:rgba(0,255,0,0.8);}.removedWhitespace{background-color:rgba(255,0,0,0.5);}.binaryChange{height:17px;line-height:18px;font-size:9px;color:#111;padding-left:8px;margin-bottom:8px;background-color:#f7f7f7;border-top:solid 1px #ddd;border-bottom:solid 1px #ddd;}td.detailItemLabel{width:73px;text-align:right;}td.detailItem{padding-left:10px;}table.commitDetails{width:100%;margin-top:3px;margin-bottom:5px;font:11px Monaco;}tr.author{background-color:#ebfff0;}tr.sha{background-color:#eafeff;}table.commitDetails tr td{padding-top:2px;}#diffpre{margin-top:5px;}div.sep{display:block;height:1px;background-color:#eee;}table.monaco{font:11px Monaco;}#fileStatuses{margin-top:8px;margin-left:9px;}.fileStatus{display:block;text-align:right;padding:1px;padding-left:3px;padding-right:3px;line-height:14px;width:70px;text-align:center;color:#555;}#spacer{height:4px;}.changedFileStatus{background-color:#ffe8b6;border:solid 1px #d58301;color:#a1640e;}.changedFileStatus{background-color:#f3e6ff;border:solid 1px #651ca8;color:#651ca8;}.newFileStatus{background-color:#eafee8;border:solid 1px #709a15;color:#3c8700;}.removedFileStatus{background-color:#fef3f3;border:solid 1px #bd0e00;color:#bd0e00;}.renamedFileStatus{background-color:#e6f8ff;border:solid 1px #0185bc;color:#0185bc;}.statusFile{padding-left:18px;}.fileStatusList{list-style:none;margin:0;padding:0;margin-left:15px;}.fileStatusList li{margin-bottom:3px;}#commitMessageContainer{margin-left:9px;}span.renameFrom{color:#444;}
</style>
<script type="text/javascript" charset="utf-8">
(function(){var l=this,g,y=l.jQuery,p=l.$,o=l.jQuery=l.$=function(E,F){return new o.fn.init(E,F)},D=/^[^<]*(<(.|\s)+>)[^>]*$|^#([\w-]+)$/,f=/^.[^:#\[\.,]*$/;o.fn=o.prototype={init:function(E,H){E=E||document;if(E.nodeType){this[0]=E;this.length=1;this.context=E;return this}if(typeof E==="string"){var G=D.exec(E);if(G&&(G[1]||!H)){if(G[1]){E=o.clean([G[1]],H)}else{var I=document.getElementById(G[3]);if(I&&I.id!=G[3]){return o().find(E)}var F=o(I||[]);F.context=document;F.selector=E;return F}}else{return o(H).find(E)}}else{if(o.isFunction(E)){return o(document).ready(E)}}if(E.selector&&E.context){this.selector=E.selector;this.context=E.context}return this.setArray(o.isArray(E)?E:o.makeArray(E))},selector:"",jquery:"1.3.2",size:function(){return this.length},get:function(E){return E===g?Array.prototype.slice.call(this):this[E]},pushStack:function(F,H,E){var G=o(F);G.prevObject=this;G.context=this.context;if(H==="find"){G.selector=this.selector+(this.selector?" ":"")+E}else{if(H){G.selector=this.selector+"."+H+"("+E+")"}}return G},setArray:function(E){this.length=0;Array.prototype.push.apply(this,E);return this},each:function(F,E){return o.each(this,F,E)},index:function(E){return o.inArray(E&&E.jquery?E[0]:E,this)},attr:function(F,H,G){var E=F;if(typeof F==="string"){if(H===g){return this[0]&&o[G||"attr"](this[0],F)}else{E={};E[F]=H}}return this.each(function(I){for(F in E){o.attr(G?this.style:this,F,o.prop(this,E[F],G,I,F))}})},css:function(E,F){if((E=="width"||E=="height")&&parseFloat(F)<0){F=g}return this.attr(E,F,"curCSS")},text:function(F){if(typeof F!=="object"&&F!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(F))}var E="";o.each(F||this,function(){o.each(this.childNodes,function(){if(this.nodeType!=8){E+=this.nodeType!=1?this.nodeValue:o.fn.text([this])}})});return E},wrapAll:function(E){if(this[0]){var F=o(E,this[0].ownerDocument).clone();if(this[0].parentNode){F.insertBefore(this[0])}F.map(function(){var G=this;while(G.firstChild){G=G.firstChild}return G}).append(this)}return this},wrapInner:function(E){return this.each(function(){o(this).contents().wrapAll(E)})},wrap:function(E){return this.each(function(){o(this).wrapAll(E)})},append:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.appendChild(E)}})},prepend:function(){return this.domManip(arguments,true,function(E){if(this.nodeType==1){this.insertBefore(E,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this)})},after:function(){return this.domManip(arguments,false,function(E){this.parentNode.insertBefore(E,this.nextSibling)})},end:function(){return this.prevObject||o([])},push:[].push,sort:[].sort,splice:[].splice,find:function(E){if(this.length===1){var F=this.pushStack([],"find",E);F.length=0;o.find(E,this[0],F);return F}else{return this.pushStack(o.unique(o.map(this,function(G){return o.find(E,G)})),"find",E)}},clone:function(G){var E=this.map(function(){if(!o.support.noCloneEvent&&!o.isXMLDoc(this)){var I=this.outerHTML;if(!I){var J=this.ownerDocument.createElement("div");J.appendChild(this.cloneNode(true));I=J.innerHTML}return o.clean([I.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s*/,"")])[0]}else{return this.cloneNode(true)}});if(G===true){var H=this.find("*").andSelf(),F=0;E.find("*").andSelf().each(function(){if(this.nodeName!==H[F].nodeName){return}var I=o.data(H[F],"events");for(var K in I){for(var J in I[K]){o.event.add(this,K,I[K][J],I[K][J].data)}}F++})}return E},filter:function(E){return this.pushStack(o.isFunction(E)&&o.grep(this,function(G,F){return E.call(G,F)})||o.multiFilter(E,o.grep(this,function(F){return F.nodeType===1})),"filter",E)},closest:function(E){var G=o.expr.match.POS.test(E)?o(E):null,F=0;return this.map(function(){var H=this;while(H&&H.ownerDocument){if(G?G.index(H)>-1:o(H).is(E)){o.data(H,"closest",F);return H}H=H.parentNode;F++}})},not:function(E){if(typeof E==="string"){if(f.test(E)){return this.pushStack(o.multiFilter(E,this,true),"not",E)}else{E=o.multiFilter(E,this)}}var F=E.length&&E[E.length-1]!==g&&!E.nodeType;return this.filter(function(){return F?o.inArray(this,E)<0:this!=E})},add:function(E){return this.pushStack(o.unique(o.merge(this.get(),typeof E==="string"?o(E):o.makeArray(E))))},is:function(E){return !!E&&o.multiFilter(E,this).length>0},hasClass:function(E){return !!E&&this.is("."+E)},val:function(K){if(K===g){var E=this[0];if(E){if(o.nodeName(E,"option")){return(E.attributes.value||{}).specified?E.value:E.text}if(o.nodeName(E,"select")){var I=E.selectedIndex,L=[],M=E.options,H=E.type=="select-one";if(I<0){return null}for(var F=H?I:0,J=H?I+1:M.length;F<J;F++){var G=M[F];if(G.selected){K=o(G).val();if(H){return K}L.push(K)}}return L}return(E.value||"").replace(/\r/g,"")}return g}if(typeof K==="number"){K+=""}return this.each(function(){if(this.nodeType!=1){return}if(o.isArray(K)&&/radio|checkbox/.test(this.type)){this.checked=(o.inArray(this.value,K)>=0||o.inArray(this.name,K)>=0)}else{if(o.nodeName(this,"select")){var N=o.makeArray(K);o("option",this).each(function(){this.selected=(o.inArray(this.value,N)>=0||o.inArray(this.text,N)>=0)});if(!N.length){this.selectedIndex=-1}}else{this.value=K}}})},html:function(E){return E===g?(this[0]?this[0].innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,""):null):this.empty().append(E)},replaceWith:function(E){return this.after(E).remove()},eq:function(E){return this.slice(E,+E+1)},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments),"slice",Array.prototype.slice.call(arguments).join(","))},map:function(E){return this.pushStack(o.map(this,function(G,F){return E.call(G,F,G)}))},andSelf:function(){return this.add(this.prevObject)},domManip:function(J,M,L){if(this[0]){var I=(this[0].ownerDocument||this[0]).createDocumentFragment(),F=o.clean(J,(this[0].ownerDocument||this[0]),I),H=I.firstChild;if(H){for(var G=0,E=this.length;G<E;G++){L.call(K(this[G],H),this.length>1||G>0?I.cloneNode(true):I)}}if(F){o.each(F,z)}}return this;function K(N,O){return M&&o.nodeName(N,"table")&&o.nodeName(O,"tr")?(N.getElementsByTagName("tbody")[0]||N.appendChild(N.ownerDocument.createElement("tbody"))):N}}};o.fn.init.prototype=o.fn;function z(E,F){if(F.src){o.ajax({url:F.src,async:false,dataType:"script"})}else{o.globalEval(F.text||F.textContent||F.innerHTML||"")}if(F.parentNode){F.parentNode.removeChild(F)}}function e(){return +new Date}o.extend=o.fn.extend=function(){var J=arguments[0]||{},H=1,I=arguments.length,E=false,G;if(typeof J==="boolean"){E=J;J=arguments[1]||{};H=2}if(typeof J!=="object"&&!o.isFunction(J)){J={}}if(I==H){J=this;--H}for(;H<I;H++){if((G=arguments[H])!=null){for(var F in G){var K=J[F],L=G[F];if(J===L){continue}if(E&&L&&typeof L==="object"&&!L.nodeType){J[F]=o.extend(E,K||(L.length!=null?[]:{}),L)}else{if(L!==g){J[F]=L}}}}}return J};var b=/z-?index|font-?weight|opacity|zoom|line-?height/i,q=document.defaultView||{},s=Object.prototype.toString;o.extend({noConflict:function(E){l.$=p;if(E){l.jQuery=y}return o},isFunction:function(E){return s.call(E)==="[object Function]"},isArray:function(E){return s.call(E)==="[object Array]"},isXMLDoc:function(E){return E.nodeType===9&&E.documentElement.nodeName!=="HTML"||!!E.ownerDocument&&o.isXMLDoc(E.ownerDocument)},globalEval:function(G){if(G&&/\S/.test(G)){var F=document.getElementsByTagName("head")[0]||document.documentElement,E=document.createElement("script");E.type="text/javascript";if(o.support.scriptEval){E.appendChild(document.createTextNode(G))}else{E.text=G}F.insertBefore(E,F.firstChild);F.removeChild(E)}},nodeName:function(F,E){return F.nodeName&&F.nodeName.toUpperCase()==E.toUpperCase()},each:function(G,K,F){var E,H=0,I=G.length;if(F){if(I===g){for(E in G){if(K.apply(G[E],F)===false){break}}}else{for(;H<I;){if(K.apply(G[H++],F)===false){break}}}}else{if(I===g){for(E in G){if(K.call(G[E],E,G[E])===false){break}}}else{for(var J=G[0];H<I&&K.call(J,H,J)!==false;J=G[++H]){}}}return G},prop:function(H,I,G,F,E){if(o.isFunction(I)){I=I.call(H,F)}return typeof I==="number"&&G=="curCSS"&&!b.test(E)?I+"px":I},className:{add:function(E,F){o.each((F||"").split(/\s+/),function(G,H){if(E.nodeType==1&&!o.className.has(E.className,H)){E.className+=(E.className?" ":"")+H}})},remove:function(E,F){if(E.nodeType==1){E.className=F!==g?o.grep(E.className.split(/\s+/),function(G){return !o.className.has(F,G)}).join(" "):""}},has:function(F,E){return F&&o.inArray(E,(F.className||F).toString().split(/\s+/))>-1}},swap:function(H,G,I){var E={};for(var F in G){E[F]=H.style[F];H.style[F]=G[F]}I.call(H);for(var F in G){H.style[F]=E[F]}},css:function(H,F,J,E){if(F=="width"||F=="height"){var L,G={position:"absolute",visibility:"hidden",display:"block"},K=F=="width"?["Left","Right"]:["Top","Bottom"];function I(){L=F=="width"?H.offsetWidth:H.offsetHeight;if(E==="border"){return}o.each(K,function(){if(!E){L-=parseFloat(o.curCSS(H,"padding"+this,true))||0}if(E==="margin"){L+=parseFloat(o.curCSS(H,"margin"+this,true))||0}else{L-=parseFloat(o.curCSS(H,"border"+this+"Width",true))||0}})}if(H.offsetWidth!==0){I()}else{o.swap(H,G,I)}return Math.max(0,Math.round(L))}return o.curCSS(H,F,J)},curCSS:function(I,F,G){var L,E=I.style;if(F=="opacity"&&!o.support.opacity){L=o.attr(E,"opacity");return L==""?"1":L}if(F.match(/float/i)){F=w}if(!G&&E&&E[F]){L=E[F]}else{if(q.getComputedStyle){if(F.match(/float/i)){F="float"}F=F.replace(/([A-Z])/g,"-$1").toLowerCase();var M=q.getComputedStyle(I,null);if(M){L=M.getPropertyValue(F)}if(F=="opacity"&&L==""){L="1"}}else{if(I.currentStyle){var J=F.replace(/\-(\w)/g,function(N,O){return O.toUpperCase()});L=I.currentStyle[F]||I.currentStyle[J];if(!/^\d+(px)?$/i.test(L)&&/^\d/.test(L)){var H=E.left,K=I.runtimeStyle.left;I.runtimeStyle.left=I.currentStyle.left;E.left=L||0;L=E.pixelLeft+"px";E.left=H;I.runtimeStyle.left=K}}}}return L},clean:function(F,K,I){K=K||document;if(typeof K.createElement==="undefined"){K=K.ownerDocument||K[0]&&K[0].ownerDocument||document}if(!I&&F.length===1&&typeof F[0]==="string"){var H=/^<(\w+)\s*\/?>$/.exec(F[0]);if(H){return[K.createElement(H[1])]}}var G=[],E=[],L=K.createElement("div");o.each(F,function(P,S){if(typeof S==="number"){S+=""}if(!S){return}if(typeof S==="string"){S=S.replace(/(<(\w+)[^>]*?)\/>/g,function(U,V,T){return T.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?U:V+"></"+T+">"});var O=S.replace(/^\s+/,"").substring(0,10).toLowerCase();var Q=!O.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!O.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||O.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!O.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!O.indexOf("<td")||!O.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!O.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||!o.support.htmlSerialize&&[1,"div<div>","</div>"]||[0,"",""];L.innerHTML=Q[1]+S+Q[2];while(Q[0]--){L=L.lastChild}if(!o.support.tbody){var R=/<tbody/i.test(S),N=!O.indexOf("<table")&&!R?L.firstChild&&L.firstChild.childNodes:Q[1]=="<table>"&&!R?L.childNodes:[];for(var M=N.length-1;M>=0;--M){if(o.nodeName(N[M],"tbody")&&!N[M].childNodes.length){N[M].parentNode.removeChild(N[M])}}}if(!o.support.leadingWhitespace&&/^\s/.test(S)){L.insertBefore(K.createTextNode(S.match(/^\s*/)[0]),L.firstChild)}S=o.makeArray(L.childNodes)}if(S.nodeType){G.push(S)}else{G=o.merge(G,S)}});if(I){for(var J=0;G[J];J++){if(o.nodeName(G[J],"script")&&(!G[J].type||G[J].type.toLowerCase()==="text/javascript")){E.push(G[J].parentNode?G[J].parentNode.removeChild(G[J]):G[J])}else{if(G[J].nodeType===1){G.splice.apply(G,[J+1,0].concat(o.makeArray(G[J].getElementsByTagName("script"))))}I.appendChild(G[J])}}return E}return G},attr:function(J,G,K){if(!J||J.nodeType==3||J.nodeType==8){return g}var H=!o.isXMLDoc(J),L=K!==g;G=H&&o.props[G]||G;if(J.tagName){var F=/href|src|style/.test(G);if(G=="selected"&&J.parentNode){J.parentNode.selectedIndex}if(G in J&&H&&!F){if(L){if(G=="type"&&o.nodeName(J,"input")&&J.parentNode){throw"type property can't be changed"}J[G]=K}if(o.nodeName(J,"form")&&J.getAttributeNode(G)){return J.getAttributeNode(G).nodeValue}if(G=="tabIndex"){var I=J.getAttributeNode("tabIndex");return I&&I.specified?I.value:J.nodeName.match(/(button|input|object|select|textarea)/i)?0:J.nodeName.match(/^(a|area)$/i)&&J.href?0:g}return J[G]}if(!o.support.style&&H&&G=="style"){return o.attr(J.style,"cssText",K)}if(L){J.setAttribute(G,""+K)}var E=!o.support.hrefNormalized&&H&&F?J.getAttribute(G,2):J.getAttribute(G);return E===null?g:E}if(!o.support.opacity&&G=="opacity"){if(L){J.zoom=1;J.filter=(J.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(K)+""=="NaN"?"":"alpha(opacity="+K*100+")")}return J.filter&&J.filter.indexOf("opacity=")>=0?(parseFloat(J.filter.match(/opacity=([^)]*)/)[1])/100)+"":""}G=G.replace(/-([a-z])/ig,function(M,N){return N.toUpperCase()});if(L){J[G]=K}return J[G]},trim:function(E){return(E||"").replace(/^\s+|\s+$/g,"")},makeArray:function(G){var E=[];if(G!=null){var F=G.length;if(F==null||typeof G==="string"||o.isFunction(G)||G.setInterval){E[0]=G}else{while(F){E[--F]=G[F]}}}return E},inArray:function(G,H){for(var E=0,F=H.length;E<F;E++){if(H[E]===G){return E}}return -1},merge:function(H,E){var F=0,G,I=H.length;if(!o.support.getAll){while((G=E[F++])!=null){if(G.nodeType!=8){H[I++]=G}}}else{while((G=E[F++])!=null){H[I++]=G}}return H},unique:function(K){var F=[],E={};try{for(var G=0,H=K.length;G<H;G++){var J=o.data(K[G]);if(!E[J]){E[J]=true;F.push(K[G])}}}catch(I){F=K}return F},grep:function(F,J,E){var G=[];for(var H=0,I=F.length;H<I;H++){if(!E!=!J(F[H],H)){G.push(F[H])}}return G},map:function(E,J){var F=[];for(var G=0,H=E.length;G<H;G++){var I=J(E[G],G);if(I!=null){F[F.length]=I}}return F.concat.apply([],F)}});var C=navigator.userAgent.toLowerCase();o.browser={version:(C.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(C),opera:/opera/.test(C),msie:/msie/.test(C)&&!/opera/.test(C),mozilla:/mozilla/.test(C)&&!/(compatible|webkit)/.test(C)};o.each({parent:function(E){return E.parentNode},parents:function(E){return o.dir(E,"parentNode")},next:function(E){return o.nth(E,2,"nextSibling")},prev:function(E){return o.nth(E,2,"previousSibling")},nextAll:function(E){return o.dir(E,"nextSibling")},prevAll:function(E){return o.dir(E,"previousSibling")},siblings:function(E){return o.sibling(E.parentNode.firstChild,E)},children:function(E){return o.sibling(E.firstChild)},contents:function(E){return o.nodeName(E,"iframe")?E.contentDocument||E.contentWindow.document:o.makeArray(E.childNodes)}},function(E,F){o.fn[E]=function(G){var H=o.map(this,F);if(G&&typeof G=="string"){H=o.multiFilter(G,H)}return this.pushStack(o.unique(H),E,G)}});o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(E,F){o.fn[E]=function(G){var J=[],L=o(G);for(var K=0,H=L.length;K<H;K++){var I=(K>0?this.clone(true):this).get();o.fn[F].apply(o(L[K]),I);J=J.concat(I)}return this.pushStack(J,E,G)}});o.each({removeAttr:function(E){o.attr(this,E,"");if(this.nodeType==1){this.removeAttribute(E)}},addClass:function(E){o.className.add(this,E)},removeClass:function(E){o.className.remove(this,E)},toggleClass:function(F,E){if(typeof E!=="boolean"){E=!o.className.has(this,F)}o.className[E?"add":"remove"](this,F)},remove:function(E){if(!E||o.filter(E,[this]).length){o("*",this).add([this]).each(function(){o.event.remove(this);o.removeData(this)});if(this.parentNode){this.parentNode.removeChild(this)}}},empty:function(){o(this).children().remove();while(this.firstChild){this.removeChild(this.firstChild)}}},function(E,F){o.fn[E]=function(){return this.each(F,arguments)}});function j(E,F){return E[0]&&parseInt(o.curCSS(E[0],F,true),10)||0}var h="jQuery"+e(),v=0,A={};o.extend({cache:{},data:function(F,E,G){F=F==l?A:F;var H=F[h];if(!H){H=F[h]=++v}if(E&&!o.cache[H]){o.cache[H]={}}if(G!==g){o.cache[H][E]=G}return E?o.cache[H][E]:H},removeData:function(F,E){F=F==l?A:F;var H=F[h];if(E){if(o.cache[H]){delete o.cache[H][E];E="";for(E in o.cache[H]){break}if(!E){o.removeData(F)}}}else{try{delete F[h]}catch(G){if(F.removeAttribute){F.removeAttribute(h)}}delete o.cache[H]}},queue:function(F,E,H){if(F){E=(E||"fx")+"queue";var G=o.data(F,E);if(!G||o.isArray(H)){G=o.data(F,E,o.makeArray(H))}else{if(H){G.push(H)}}}return G},dequeue:function(H,G){var E=o.queue(H,G),F=E.shift();if(!G||G==="fx"){F=E[0]}if(F!==g){F.call(H)}}});o.fn.extend({data:function(E,G){var H=E.split(".");H[1]=H[1]?"."+H[1]:"";if(G===g){var F=this.triggerHandler("getData"+H[1]+"!",[H[0]]);if(F===g&&this.length){F=o.data(this[0],E)}return F===g&&H[1]?this.data(H[0]):F}else{return this.trigger("setData"+H[1]+"!",[H[0],G]).each(function(){o.data(this,E,G)})}},removeData:function(E){return this.each(function(){o.removeData(this,E)})},queue:function(E,F){if(typeof E!=="string"){F=E;E="fx"}if(F===g){return o.queue(this[0],E)}return this.each(function(){var G=o.queue(this,E,F);if(E=="fx"&&G.length==1){G[0].call(this)}})},dequeue:function(E){return this.each(function(){o.dequeue(this,E)})}});
(function(){var R=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,L=0,H=Object.prototype.toString;var F=function(Y,U,ab,ac){ab=ab||[];U=U||document;if(U.nodeType!==1&&U.nodeType!==9){return[]}if(!Y||typeof Y!=="string"){return ab}var Z=[],W,af,ai,T,ad,V,X=true;R.lastIndex=0;while((W=R.exec(Y))!==null){Z.push(W[1]);if(W[2]){V=RegExp.rightContext;break}}if(Z.length>1&&M.exec(Y)){if(Z.length===2&&I.relative[Z[0]]){af=J(Z[0]+Z[1],U)}else{af=I.relative[Z[0]]?[U]:F(Z.shift(),U);while(Z.length){Y=Z.shift();if(I.relative[Y]){Y+=Z.shift()}af=J(Y,af)}}}else{var ae=ac?{expr:Z.pop(),set:E(ac)}:F.find(Z.pop(),Z.length===1&&U.parentNode?U.parentNode:U,Q(U));af=F.filter(ae.expr,ae.set);if(Z.length>0){ai=E(af)}else{X=false}while(Z.length){var ah=Z.pop(),ag=ah;if(!I.relative[ah]){ah=""}else{ag=Z.pop()}if(ag==null){ag=U}I.relative[ah](ai,ag,Q(U))}}if(!ai){ai=af}if(!ai){throw"Syntax error, unrecognized expression: "+(ah||Y)}if(H.call(ai)==="[object Array]"){if(!X){ab.push.apply(ab,ai)}else{if(U.nodeType===1){for(var aa=0;ai[aa]!=null;aa++){if(ai[aa]&&(ai[aa]===true||ai[aa].nodeType===1&&K(U,ai[aa]))){ab.push(af[aa])}}}else{for(var aa=0;ai[aa]!=null;aa++){if(ai[aa]&&ai[aa].nodeType===1){ab.push(af[aa])}}}}}else{E(ai,ab)}if(V){F(V,U,ab,ac);if(G){hasDuplicate=false;ab.sort(G);if(hasDuplicate){for(var aa=1;aa<ab.length;aa++){if(ab[aa]===ab[aa-1]){ab.splice(aa--,1)}}}}}return ab};F.matches=function(T,U){return F(T,null,null,U)};F.find=function(aa,T,ab){var Z,X;if(!aa){return[]}for(var W=0,V=I.order.length;W<V;W++){var Y=I.order[W],X;if((X=I.match[Y].exec(aa))){var U=RegExp.leftContext;if(U.substr(U.length-1)!=="\\"){X[1]=(X[1]||"").replace(/\\/g,"");Z=I.find[Y](X,T,ab);if(Z!=null){aa=aa.replace(I.match[Y],"");break}}}}if(!Z){Z=T.getElementsByTagName("*")}return{set:Z,expr:aa}};F.filter=function(ad,ac,ag,W){var V=ad,ai=[],aa=ac,Y,T,Z=ac&&ac[0]&&Q(ac[0]);while(ad&&ac.length){for(var ab in I.filter){if((Y=I.match[ab].exec(ad))!=null){var U=I.filter[ab],ah,af;T=false;if(aa==ai){ai=[]}if(I.preFilter[ab]){Y=I.preFilter[ab](Y,aa,ag,ai,W,Z);if(!Y){T=ah=true}else{if(Y===true){continue}}}if(Y){for(var X=0;(af=aa[X])!=null;X++){if(af){ah=U(af,Y,X,aa);var ae=W^!!ah;if(ag&&ah!=null){if(ae){T=true}else{aa[X]=false}}else{if(ae){ai.push(af);T=true}}}}}if(ah!==g){if(!ag){aa=ai}ad=ad.replace(I.match[ab],"");if(!T){return[]}break}}}if(ad==V){if(T==null){throw"Syntax error, unrecognized expression: "+ad}else{break}}V=ad}return aa};var I=F.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(T){return T.getAttribute("href")}},relative:{"+":function(aa,T,Z){var X=typeof T==="string",ab=X&&!/\W/.test(T),Y=X&&!ab;if(ab&&!Z){T=T.toUpperCase()}for(var W=0,V=aa.length,U;W<V;W++){if((U=aa[W])){while((U=U.previousSibling)&&U.nodeType!==1){}aa[W]=Y||U&&U.nodeName===T?U||false:U===T}}if(Y){F.filter(T,aa,true)}},">":function(Z,U,aa){var X=typeof U==="string";if(X&&!/\W/.test(U)){U=aa?U:U.toUpperCase();for(var V=0,T=Z.length;V<T;V++){var Y=Z[V];if(Y){var W=Y.parentNode;Z[V]=W.nodeName===U?W:false}}}else{for(var V=0,T=Z.length;V<T;V++){var Y=Z[V];if(Y){Z[V]=X?Y.parentNode:Y.parentNode===U}}if(X){F.filter(U,Z,true)}}},"":function(W,U,Y){var V=L++,T=S;if(!U.match(/\W/)){var X=U=Y?U:U.toUpperCase();T=P}T("parentNode",U,V,W,X,Y)},"~":function(W,U,Y){var V=L++,T=S;if(typeof U==="string"&&!U.match(/\W/)){var X=U=Y?U:U.toUpperCase();T=P}T("previousSibling",U,V,W,X,Y)}},find:{ID:function(U,V,W){if(typeof V.getElementById!=="undefined"&&!W){var T=V.getElementById(U[1]);return T?[T]:[]}},NAME:function(V,Y,Z){if(typeof Y.getElementsByName!=="undefined"){var U=[],X=Y.getElementsByName(V[1]);for(var W=0,T=X.length;W<T;W++){if(X[W].getAttribute("name")===V[1]){U.push(X[W])}}return U.length===0?null:U}},TAG:function(T,U){return U.getElementsByTagName(T[1])}},preFilter:{CLASS:function(W,U,V,T,Z,aa){W=" "+W[1].replace(/\\/g,"")+" ";if(aa){return W}for(var X=0,Y;(Y=U[X])!=null;X++){if(Y){if(Z^(Y.className&&(" "+Y.className+" ").indexOf(W)>=0)){if(!V){T.push(Y)}}else{if(V){U[X]=false}}}}return false},ID:function(T){return T[1].replace(/\\/g,"")},TAG:function(U,T){for(var V=0;T[V]===false;V++){}return T[V]&&Q(T[V])?U[1]:U[1].toUpperCase()},CHILD:function(T){if(T[1]=="nth"){var U=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(T[2]=="even"&&"2n"||T[2]=="odd"&&"2n+1"||!/\D/.test(T[2])&&"0n+"+T[2]||T[2]);T[2]=(U[1]+(U[2]||1))-0;T[3]=U[3]-0}T[0]=L++;return T},ATTR:function(X,U,V,T,Y,Z){var W=X[1].replace(/\\/g,"");if(!Z&&I.attrMap[W]){X[1]=I.attrMap[W]}if(X[2]==="~="){X[4]=" "+X[4]+" "}return X},PSEUDO:function(X,U,V,T,Y){if(X[1]==="not"){if(X[3].match(R).length>1||/^\w/.test(X[3])){X[3]=F(X[3],null,null,U)}else{var W=F.filter(X[3],U,V,true^Y);if(!V){T.push.apply(T,W)}return false}}else{if(I.match.POS.test(X[0])||I.match.CHILD.test(X[0])){return true}}return X},POS:function(T){T.unshift(true);return T}},filters:{enabled:function(T){return T.disabled===false&&T.type!=="hidden"},disabled:function(T){return T.disabled===true},checked:function(T){return T.checked===true},selected:function(T){T.parentNode.selectedIndex;return T.selected===true},parent:function(T){return !!T.firstChild},empty:function(T){return !T.firstChild},has:function(V,U,T){return !!F(T[3],V).length},header:function(T){return/h\d/i.test(T.nodeName)},text:function(T){return"text"===T.type},radio:function(T){return"radio"===T.type},checkbox:function(T){return"checkbox"===T.type},file:function(T){return"file"===T.type},password:function(T){return"password"===T.type},submit:function(T){return"submit"===T.type},image:function(T){return"image"===T.type},reset:function(T){return"reset"===T.type},button:function(T){return"button"===T.type||T.nodeName.toUpperCase()==="BUTTON"},input:function(T){return/input|select|textarea|button/i.test(T.nodeName)}},setFilters:{first:function(U,T){return T===0},last:function(V,U,T,W){return U===W.length-1},even:function(U,T){return T%2===0},odd:function(U,T){return T%2===1},lt:function(V,U,T){return U<T[3]-0},gt:function(V,U,T){return U>T[3]-0},nth:function(V,U,T){return T[3]-0==U},eq:function(V,U,T){return T[3]-0==U}},filter:{PSEUDO:function(Z,V,W,aa){var U=V[1],X=I.filters[U];if(X){return X(Z,W,V,aa)}else{if(U==="contains"){return(Z.textContent||Z.innerText||"").indexOf(V[3])>=0}else{if(U==="not"){var Y=V[3];for(var W=0,T=Y.length;W<T;W++){if(Y[W]===Z){return false}}return true}}}},CHILD:function(T,W){var Z=W[1],U=T;switch(Z){case"only":case"first":while(U=U.previousSibling){if(U.nodeType===1){return false}}if(Z=="first"){return true}U=T;case"last":while(U=U.nextSibling){if(U.nodeType===1){return false}}return true;case"nth":var V=W[2],ac=W[3];if(V==1&&ac==0){return true}var Y=W[0],ab=T.parentNode;if(ab&&(ab.sizcache!==Y||!T.nodeIndex)){var X=0;for(U=ab.firstChild;U;U=U.nextSibling){if(U.nodeType===1){U.nodeIndex=++X}}ab.sizcache=Y}var aa=T.nodeIndex-ac;if(V==0){return aa==0}else{return(aa%V==0&&aa/V>=0)}}},ID:function(U,T){return U.nodeType===1&&U.getAttribute("id")===T},TAG:function(U,T){return(T==="*"&&U.nodeType===1)||U.nodeName===T},CLASS:function(U,T){return(" "+(U.className||U.getAttribute("class"))+" ").indexOf(T)>-1},ATTR:function(Y,W){var V=W[1],T=I.attrHandle[V]?I.attrHandle[V](Y):Y[V]!=null?Y[V]:Y.getAttribute(V),Z=T+"",X=W[2],U=W[4];return T==null?X==="!=":X==="="?Z===U:X==="*="?Z.indexOf(U)>=0:X==="~="?(" "+Z+" ").indexOf(U)>=0:!U?Z&&T!==false:X==="!="?Z!=U:X==="^="?Z.indexOf(U)===0:X==="$="?Z.substr(Z.length-U.length)===U:X==="|="?Z===U||Z.substr(0,U.length+1)===U+"-":false},POS:function(X,U,V,Y){var T=U[2],W=I.setFilters[T];if(W){return W(X,V,U,Y)}}}};var M=I.match.POS;for(var O in I.match){I.match[O]=RegExp(I.match[O].source+/(?![^\[]*\])(?![^\(]*\))/.source)}var E=function(U,T){U=Array.prototype.slice.call(U);if(T){T.push.apply(T,U);return T}return U};try{Array.prototype.slice.call(document.documentElement.childNodes)}catch(N){E=function(X,W){var U=W||[];if(H.call(X)==="[object Array]"){Array.prototype.push.apply(U,X)}else{if(typeof X.length==="number"){for(var V=0,T=X.length;V<T;V++){U.push(X[V])}}else{for(var V=0;X[V];V++){U.push(X[V])}}}return U}}var G;if(document.documentElement.compareDocumentPosition){G=function(U,T){var V=U.compareDocumentPosition(T)&4?-1:U===T?0:1;if(V===0){hasDuplicate=true}return V}}else{if("sourceIndex" in document.documentElement){G=function(U,T){var V=U.sourceIndex-T.sourceIndex;if(V===0){hasDuplicate=true}return V}}else{if(document.createRange){G=function(W,U){var V=W.ownerDocument.createRange(),T=U.ownerDocument.createRange();V.selectNode(W);V.collapse(true);T.selectNode(U);T.collapse(true);var X=V.compareBoundaryPoints(Range.START_TO_END,T);if(X===0){hasDuplicate=true}return X}}}}(function(){var U=document.createElement("form"),V="script"+(new Date).getTime();U.innerHTML="<input name='"+V+"'/>";var T=document.documentElement;T.insertBefore(U,T.firstChild);if(!!document.getElementById(V)){I.find.ID=function(X,Y,Z){if(typeof Y.getElementById!=="undefined"&&!Z){var W=Y.getElementById(X[1]);return W?W.id===X[1]||typeof W.getAttributeNode!=="undefined"&&W.getAttributeNode("id").nodeValue===X[1]?[W]:g:[]}};I.filter.ID=function(Y,W){var X=typeof Y.getAttributeNode!=="undefined"&&Y.getAttributeNode("id");return Y.nodeType===1&&X&&X.nodeValue===W}}T.removeChild(U)})();(function(){var T=document.createElement("div");T.appendChild(document.createComment(""));if(T.getElementsByTagName("*").length>0){I.find.TAG=function(U,Y){var X=Y.getElementsByTagName(U[1]);if(U[1]==="*"){var W=[];for(var V=0;X[V];V++){if(X[V].nodeType===1){W.push(X[V])}}X=W}return X}}T.innerHTML="<a href='#'></a>";if(T.firstChild&&typeof T.firstChild.getAttribute!=="undefined"&&T.firstChild.getAttribute("href")!=="#"){I.attrHandle.href=function(U){return U.getAttribute("href",2)}}})();if(document.querySelectorAll){(function(){var T=F,U=document.createElement("div");U.innerHTML="<p class='TEST'></p>";if(U.querySelectorAll&&U.querySelectorAll(".TEST").length===0){return}F=function(Y,X,V,W){X=X||document;if(!W&&X.nodeType===9&&!Q(X)){try{return E(X.querySelectorAll(Y),V)}catch(Z){}}return T(Y,X,V,W)};F.find=T.find;F.filter=T.filter;F.selectors=T.selectors;F.matches=T.matches})()}if(document.getElementsByClassName&&document.documentElement.getElementsByClassName){(function(){var T=document.createElement("div");T.innerHTML="<div class='test e'></div><div class='test'></div>";if(T.getElementsByClassName("e").length===0){return}T.lastChild.className="e";if(T.getElementsByClassName("e").length===1){return}I.order.splice(1,0,"CLASS");I.find.CLASS=function(U,V,W){if(typeof V.getElementsByClassName!=="undefined"&&!W){return V.getElementsByClassName(U[1])}}})()}function P(U,Z,Y,ad,aa,ac){var ab=U=="previousSibling"&&!ac;for(var W=0,V=ad.length;W<V;W++){var T=ad[W];if(T){if(ab&&T.nodeType===1){T.sizcache=Y;T.sizset=W}T=T[U];var X=false;while(T){if(T.sizcache===Y){X=ad[T.sizset];break}if(T.nodeType===1&&!ac){T.sizcache=Y;T.sizset=W}if(T.nodeName===Z){X=T;break}T=T[U]}ad[W]=X}}}function S(U,Z,Y,ad,aa,ac){var ab=U=="previousSibling"&&!ac;for(var W=0,V=ad.length;W<V;W++){var T=ad[W];if(T){if(ab&&T.nodeType===1){T.sizcache=Y;T.sizset=W}T=T[U];var X=false;while(T){if(T.sizcache===Y){X=ad[T.sizset];break}if(T.nodeType===1){if(!ac){T.sizcache=Y;T.sizset=W}if(typeof Z!=="string"){if(T===Z){X=true;break}}else{if(F.filter(Z,[T]).length>0){X=T;break}}}T=T[U]}ad[W]=X}}}var K=document.compareDocumentPosition?function(U,T){return U.compareDocumentPosition(T)&16}:function(U,T){return U!==T&&(U.contains?U.contains(T):true)};var Q=function(T){return T.nodeType===9&&T.documentElement.nodeName!=="HTML"||!!T.ownerDocument&&Q(T.ownerDocument)};var J=function(T,aa){var W=[],X="",Y,V=aa.nodeType?[aa]:aa;while((Y=I.match.PSEUDO.exec(T))){X+=Y[0];T=T.replace(I.match.PSEUDO,"")}T=I.relative[T]?T+"*":T;for(var Z=0,U=V.length;Z<U;Z++){F(T,V[Z],W)}return F.filter(X,W)};o.find=F;o.filter=F.filter;o.expr=F.selectors;o.expr[":"]=o.expr.filters;F.selectors.filters.hidden=function(T){return T.offsetWidth===0||T.offsetHeight===0};F.selectors.filters.visible=function(T){return T.offsetWidth>0||T.offsetHeight>0};F.selectors.filters.animated=function(T){return o.grep(o.timers,function(U){return T===U.elem}).length};o.multiFilter=function(V,T,U){if(U){V=":not("+V+")"}return F.matches(V,T)};o.dir=function(V,U){var T=[],W=V[U];while(W&&W!=document){if(W.nodeType==1){T.push(W)}W=W[U]}return T};o.nth=function(X,T,V,W){T=T||1;var U=0;for(;X;X=X[V]){if(X.nodeType==1&&++U==T){break}}return X};o.sibling=function(V,U){var T=[];for(;V;V=V.nextSibling){if(V.nodeType==1&&V!=U){T.push(V)}}return T};return;l.Sizzle=F})();o.event={add:function(I,F,H,K){if(I.nodeType==3||I.nodeType==8){return}if(I.setInterval&&I!=l){I=l}if(!H.guid){H.guid=this.guid++}if(K!==g){var G=H;H=this.proxy(G);H.data=K}var E=o.data(I,"events")||o.data(I,"events",{}),J=o.data(I,"handle")||o.data(I,"handle",function(){return typeof o!=="undefined"&&!o.event.triggered?o.event.handle.apply(arguments.callee.elem,arguments):g});J.elem=I;o.each(F.split(/\s+/),function(M,N){var O=N.split(".");N=O.shift();H.type=O.slice().sort().join(".");var L=E[N];if(o.event.specialAll[N]){o.event.specialAll[N].setup.call(I,K,O)}if(!L){L=E[N]={};if(!o.event.special[N]||o.event.special[N].setup.call(I,K,O)===false){if(I.addEventListener){I.addEventListener(N,J,false)}else{if(I.attachEvent){I.attachEvent("on"+N,J)}}}}L[H.guid]=H;o.event.global[N]=true});I=null},guid:1,global:{},remove:function(K,H,J){if(K.nodeType==3||K.nodeType==8){return}var G=o.data(K,"events"),F,E;if(G){if(H===g||(typeof H==="string"&&H.charAt(0)==".")){for(var I in G){this.remove(K,I+(H||""))}}else{if(H.type){J=H.handler;H=H.type}o.each(H.split(/\s+/),function(M,O){var Q=O.split(".");O=Q.shift();var N=RegExp("(^|\\.)"+Q.slice().sort().join(".*\\.")+"(\\.|$)");if(G[O]){if(J){delete G[O][J.guid]}else{for(var P in G[O]){if(N.test(G[O][P].type)){delete G[O][P]}}}if(o.event.specialAll[O]){o.event.specialAll[O].teardown.call(K,Q)}for(F in G[O]){break}if(!F){if(!o.event.special[O]||o.event.special[O].teardown.call(K,Q)===false){if(K.removeEventListener){K.removeEventListener(O,o.data(K,"handle"),false)}else{if(K.detachEvent){K.detachEvent("on"+O,o.data(K,"handle"))}}}F=null;delete G[O]}}})}for(F in G){break}if(!F){var L=o.data(K,"handle");if(L){L.elem=null}o.removeData(K,"events");o.removeData(K,"handle")}}},trigger:function(I,K,H,E){var G=I.type||I;if(!E){I=typeof I==="object"?I[h]?I:o.extend(o.Event(G),I):o.Event(G);if(G.indexOf("!")>=0){I.type=G=G.slice(0,-1);I.exclusive=true}if(!H){I.stopPropagation();if(this.global[G]){o.each(o.cache,function(){if(this.events&&this.events[G]){o.event.trigger(I,K,this.handle.elem)}})}}if(!H||H.nodeType==3||H.nodeType==8){return g}I.result=g;I.target=H;K=o.makeArray(K);K.unshift(I)}I.currentTarget=H;var J=o.data(H,"handle");if(J){J.apply(H,K)}if((!H[G]||(o.nodeName(H,"a")&&G=="click"))&&H["on"+G]&&H["on"+G].apply(H,K)===false){I.result=false}if(!E&&H[G]&&!I.isDefaultPrevented()&&!(o.nodeName(H,"a")&&G=="click")){this.triggered=true;try{H[G]()}catch(L){}}this.triggered=false;if(!I.isPropagationStopped()){var F=H.parentNode||H.ownerDocument;if(F){o.event.trigger(I,K,F,true)}}},handle:function(K){var J,E;K=arguments[0]=o.event.fix(K||l.event);K.currentTarget=this;var L=K.type.split(".");K.type=L.shift();J=!L.length&&!K.exclusive;var I=RegExp("(^|\\.)"+L.slice().sort().join(".*\\.")+"(\\.|$)");E=(o.data(this,"events")||{})[K.type];for(var G in E){var H=E[G];if(J||I.test(H.type)){K.handler=H;K.data=H.data;var F=H.apply(this,arguments);if(F!==g){K.result=F;if(F===false){K.preventDefault();K.stopPropagation()}}if(K.isImmediatePropagationStopped()){break}}}},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(H){if(H[h]){return H}var F=H;H=o.Event(F);for(var G=this.props.length,J;G;){J=this.props[--G];H[J]=F[J]}if(!H.target){H.target=H.srcElement||document}if(H.target.nodeType==3){H.target=H.target.parentNode}if(!H.relatedTarget&&H.fromElement){H.relatedTarget=H.fromElement==H.target?H.toElement:H.fromElement}if(H.pageX==null&&H.clientX!=null){var I=document.documentElement,E=document.body;H.pageX=H.clientX+(I&&I.scrollLeft||E&&E.scrollLeft||0)-(I.clientLeft||0);H.pageY=H.clientY+(I&&I.scrollTop||E&&E.scrollTop||0)-(I.clientTop||0)}if(!H.which&&((H.charCode||H.charCode===0)?H.charCode:H.keyCode)){H.which=H.charCode||H.keyCode}if(!H.metaKey&&H.ctrlKey){H.metaKey=H.ctrlKey}if(!H.which&&H.button){H.which=(H.button&1?1:(H.button&2?3:(H.button&4?2:0)))}return H},proxy:function(F,E){E=E||function(){return F.apply(this,arguments)};E.guid=F.guid=F.guid||E.guid||this.guid++;return E},special:{ready:{setup:B,teardown:function(){}}},specialAll:{live:{setup:function(E,F){o.event.add(this,F[0],c)},teardown:function(G){if(G.length){var E=0,F=RegExp("(^|\\.)"+G[0]+"(\\.|$)");o.each((o.data(this,"events").live||{}),function(){if(F.test(this.type)){E++}});if(E<1){o.event.remove(this,G[0],c)}}}}}};o.Event=function(E){if(!this.preventDefault){return new o.Event(E)}if(E&&E.type){this.originalEvent=E;this.type=E.type}else{this.type=E}this.timeStamp=e();this[h]=true};function k(){return false}function u(){return true}o.Event.prototype={preventDefault:function(){this.isDefaultPrevented=u;var E=this.originalEvent;if(!E){return}if(E.preventDefault){E.preventDefault()}E.returnValue=false},stopPropagation:function(){this.isPropagationStopped=u;var E=this.originalEvent;if(!E){return}if(E.stopPropagation){E.stopPropagation()}E.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u;this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k};var a=function(F){var E=F.relatedTarget;while(E&&E!=this){try{E=E.parentNode}catch(G){E=this}}if(E!=this){F.type=F.data;o.event.handle.apply(this,arguments)}};o.each({mouseover:"mouseenter",mouseout:"mouseleave"},function(F,E){o.event.special[E]={setup:function(){o.event.add(this,F,a,E)},teardown:function(){o.event.remove(this,F,a)}}});o.fn.extend({bind:function(F,G,E){return F=="unload"?this.one(F,G,E):this.each(function(){o.event.add(this,F,E||G,E&&G)})},one:function(G,H,F){var E=o.event.proxy(F||H,function(I){o(this).unbind(I,E);return(F||H).apply(this,arguments)});return this.each(function(){o.event.add(this,G,E,F&&H)})},unbind:function(F,E){return this.each(function(){o.event.remove(this,F,E)})},trigger:function(E,F){return this.each(function(){o.event.trigger(E,F,this)})},triggerHandler:function(E,G){if(this[0]){var F=o.Event(E);F.preventDefault();F.stopPropagation();o.event.trigger(F,G,this[0]);return F.result}},toggle:function(G){var E=arguments,F=1;while(F<E.length){o.event.proxy(G,E[F++])}return this.click(o.event.proxy(G,function(H){this.lastToggle=(this.lastToggle||0)%F;H.preventDefault();return E[this.lastToggle++].apply(this,arguments)||false}))},hover:function(E,F){return this.mouseenter(E).mouseleave(F)},ready:function(E){B();if(o.isReady){E.call(document,o)}else{o.readyList.push(E)}return this},live:function(G,F){var E=o.event.proxy(F);E.guid+=this.selector+G;o(document).bind(i(G,this.selector),this.selector,E);return this},die:function(F,E){o(document).unbind(i(F,this.selector),E?{guid:E.guid+this.selector+F}:null);return this}});function c(H){var E=RegExp("(^|\\.)"+H.type+"(\\.|$)"),G=true,F=[];o.each(o.data(this,"events").live||[],function(I,J){if(E.test(J.type)){var K=o(H.target).closest(J.data)[0];if(K){F.push({elem:K,fn:J})}}});F.sort(function(J,I){return o.data(J.elem,"closest")-o.data(I.elem,"closest")});o.each(F,function(){if(this.fn.call(this.elem,H,this.fn.data)===false){return(G=false)}});return G}function i(F,E){return["live",F,E.replace(/\./g,"`").replace(/ /g,"|")].join(".")}o.extend({isReady:false,readyList:[],ready:function(){if(!o.isReady){o.isReady=true;if(o.readyList){o.each(o.readyList,function(){this.call(document,o)});o.readyList=null}o(document).triggerHandler("ready")}}});var x=false;function B(){if(x){return}x=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);o.ready()},false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);o.ready()}});if(document.documentElement.doScroll&&l==l.top){(function(){if(o.isReady){return}try{document.documentElement.doScroll("left")}catch(E){setTimeout(arguments.callee,0);return}o.ready()})()}}}o.event.add(l,"load",o.ready)}o.each(("blur,focus,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error").split(","),function(F,E){o.fn[E]=function(G){return G?this.bind(E,G):this.trigger(E)}});o(l).bind("unload",function(){for(var E in o.cache){if(E!=1&&o.cache[E].handle){o.event.remove(o.cache[E].handle.elem)}}});(function(){o.support={};var F=document.documentElement,G=document.createElement("script"),K=document.createElement("div"),J="script"+(new Date).getTime();K.style.display="none";K.innerHTML='   <link/><table></table><a href="/a" style="color:red;float:left;opacity:.5;">a</a><select><option>text</option></select><object><param/></object>';var H=K.getElementsByTagName("*"),E=K.getElementsByTagName("a")[0];if(!H||!H.length||!E){return}o.support={leadingWhitespace:K.firstChild.nodeType==3,tbody:!K.getElementsByTagName("tbody").length,objectAll:!!K.getElementsByTagName("object")[0].getElementsByTagName("*").length,htmlSerialize:!!K.getElementsByTagName("link").length,style:/red/.test(E.getAttribute("style")),hrefNormalized:E.getAttribute("href")==="/a",opacity:E.style.opacity==="0.5",cssFloat:!!E.style.cssFloat,scriptEval:false,noCloneEvent:true,boxModel:null};G.type="text/javascript";try{G.appendChild(document.createTextNode("window."+J+"=1;"))}catch(I){}F.insertBefore(G,F.firstChild);if(l[J]){o.support.scriptEval=true;delete l[J]}F.removeChild(G);if(K.attachEvent&&K.fireEvent){K.attachEvent("onclick",function(){o.support.noCloneEvent=false;K.detachEvent("onclick",arguments.callee)});K.cloneNode(true).fireEvent("onclick")}o(function(){var L=document.createElement("div");L.style.width=L.style.paddingLeft="1px";document.body.appendChild(L);o.boxModel=o.support.boxModel=L.offsetWidth===2;document.body.removeChild(L).style.display="none"})})();var w=o.support.cssFloat?"cssFloat":"styleFloat";o.props={"for":"htmlFor","class":"className","float":w,cssFloat:w,styleFloat:w,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",tabindex:"tabIndex"};o.fn.extend({_load:o.fn.load,load:function(G,J,K){if(typeof G!=="string"){return this._load(G)}var I=G.indexOf(" ");if(I>=0){var E=G.slice(I,G.length);G=G.slice(0,I)}var H="GET";if(J){if(o.isFunction(J)){K=J;J=null}else{if(typeof J==="object"){J=o.param(J);H="POST"}}}var F=this;o.ajax({url:G,type:H,dataType:"html",data:J,complete:function(M,L){if(L=="success"||L=="notmodified"){F.html(E?o("<div/>").append(M.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(E):M.responseText)}if(K){F.each(K,[M.responseText,L,M])}}});return this},serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?o.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password|search/i.test(this.type))}).map(function(E,F){var G=o(this).val();return G==null?null:o.isArray(G)?o.map(G,function(I,H){return{name:F.name,value:I}}):{name:F.name,value:G}}).get()}});o.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(E,F){o.fn[F]=function(G){return this.bind(F,G)}});var r=e();o.extend({get:function(E,G,H,F){if(o.isFunction(G)){H=G;G=null}return o.ajax({type:"GET",url:E,data:G,success:H,dataType:F})},getScript:function(E,F){return o.get(E,null,F,"script")},getJSON:function(E,F,G){return o.get(E,F,G,"json")},post:function(E,G,H,F){if(o.isFunction(G)){H=G;G={}}return o.ajax({type:"POST",url:E,data:G,success:H,dataType:F})},ajaxSetup:function(E){o.extend(o.ajaxSettings,E)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return l.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(M){M=o.extend(true,M,o.extend(true,{},o.ajaxSettings,M));var W,F=/=\?(&|$)/g,R,V,G=M.type.toUpperCase();if(M.data&&M.processData&&typeof M.data!=="string"){M.data=o.param(M.data)}if(M.dataType=="jsonp"){if(G=="GET"){if(!M.url.match(F)){M.url+=(M.url.match(/\?/)?"&":"?")+(M.jsonp||"callback")+"=?"}}else{if(!M.data||!M.data.match(F)){M.data=(M.data?M.data+"&":"")+(M.jsonp||"callback")+"=?"}}M.dataType="json"}if(M.dataType=="json"&&(M.data&&M.data.match(F)||M.url.match(F))){W="jsonp"+r++;if(M.data){M.data=(M.data+"").replace(F,"="+W+"$1")}M.url=M.url.replace(F,"="+W+"$1");M.dataType="script";l[W]=function(X){V=X;I();L();l[W]=g;try{delete l[W]}catch(Y){}if(H){H.removeChild(T)}}}if(M.dataType=="script"&&M.cache==null){M.cache=false}if(M.cache===false&&G=="GET"){var E=e();var U=M.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+E+"$2");M.url=U+((U==M.url)?(M.url.match(/\?/)?"&":"?")+"_="+E:"")}if(M.data&&G=="GET"){M.url+=(M.url.match(/\?/)?"&":"?")+M.data;M.data=null}if(M.global&&!o.active++){o.event.trigger("ajaxStart")}var Q=/^(\w+:)?\/\/([^\/?#]+)/.exec(M.url);if(M.dataType=="script"&&G=="GET"&&Q&&(Q[1]&&Q[1]!=location.protocol||Q[2]!=location.host)){var H=document.getElementsByTagName("head")[0];var T=document.createElement("script");T.src=M.url;if(M.scriptCharset){T.charset=M.scriptCharset}if(!W){var O=false;T.onload=T.onreadystatechange=function(){if(!O&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){O=true;I();L();T.onload=T.onreadystatechange=null;H.removeChild(T)}}}H.appendChild(T);return g}var K=false;var J=M.xhr();if(M.username){J.open(G,M.url,M.async,M.username,M.password)}else{J.open(G,M.url,M.async)}try{if(M.data){J.setRequestHeader("Content-Type",M.contentType)}if(M.ifModified){J.setRequestHeader("If-Modified-Since",o.lastModified[M.url]||"Thu, 01 Jan 1970 00:00:00 GMT")}J.setRequestHeader("X-Requested-With","XMLHttpRequest");J.setRequestHeader("Accept",M.dataType&&M.accepts[M.dataType]?M.accepts[M.dataType]+", */*":M.accepts._default)}catch(S){}if(M.beforeSend&&M.beforeSend(J,M)===false){if(M.global&&!--o.active){o.event.trigger("ajaxStop")}J.abort();return false}if(M.global){o.event.trigger("ajaxSend",[J,M])}var N=function(X){if(J.readyState==0){if(P){clearInterval(P);P=null;if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}}else{if(!K&&J&&(J.readyState==4||X=="timeout")){K=true;if(P){clearInterval(P);P=null}R=X=="timeout"?"timeout":!o.httpSuccess(J)?"error":M.ifModified&&o.httpNotModified(J,M.url)?"notmodified":"success";if(R=="success"){try{V=o.httpData(J,M.dataType,M)}catch(Z){R="parsererror"}}if(R=="success"){var Y;try{Y=J.getResponseHeader("Last-Modified")}catch(Z){}if(M.ifModified&&Y){o.lastModified[M.url]=Y}if(!W){I()}}else{o.handleError(M,J,R)}L();if(X){J.abort()}if(M.async){J=null}}}};if(M.async){var P=setInterval(N,13);if(M.timeout>0){setTimeout(function(){if(J&&!K){N("timeout")}},M.timeout)}}try{J.send(M.data)}catch(S){o.handleError(M,J,null,S)}if(!M.async){N()}function I(){if(M.success){M.success(V,R)}if(M.global){o.event.trigger("ajaxSuccess",[J,M])}}function L(){if(M.complete){M.complete(J,R)}if(M.global){o.event.trigger("ajaxComplete",[J,M])}if(M.global&&!--o.active){o.event.trigger("ajaxStop")}}return J},handleError:function(F,H,E,G){if(F.error){F.error(H,E,G)}if(F.global){o.event.trigger("ajaxError",[H,F,G])}},active:0,httpSuccess:function(F){try{return !F.status&&location.protocol=="file:"||(F.status>=200&&F.status<300)||F.status==304||F.status==1223}catch(E){}return false},httpNotModified:function(G,E){try{var H=G.getResponseHeader("Last-Modified");return G.status==304||H==o.lastModified[E]}catch(F){}return false},httpData:function(J,H,G){var F=J.getResponseHeader("content-type"),E=H=="xml"||!H&&F&&F.indexOf("xml")>=0,I=E?J.responseXML:J.responseText;if(E&&I.documentElement.tagName=="parsererror"){throw"parsererror"}if(G&&G.dataFilter){I=G.dataFilter(I,H)}if(typeof I==="string"){if(H=="script"){o.globalEval(I)}if(H=="json"){I=l["eval"]("("+I+")")}}return I},param:function(E){var G=[];function H(I,J){G[G.length]=encodeURIComponent(I)+"="+encodeURIComponent(J)}if(o.isArray(E)||E.jquery){o.each(E,function(){H(this.name,this.value)})}else{for(var F in E){if(o.isArray(E[F])){o.each(E[F],function(){H(F,this)})}else{H(F,o.isFunction(E[F])?E[F]():E[F])}}}return G.join("&").replace(/%20/g,"+")}});var m={},n,d=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];function t(F,E){var G={};o.each(d.concat.apply([],d.slice(0,E)),function(){G[this]=F});return G}o.fn.extend({show:function(J,L){if(J){return this.animate(t("show",3),J,L)}else{for(var H=0,F=this.length;H<F;H++){var E=o.data(this[H],"olddisplay");this[H].style.display=E||"";if(o.css(this[H],"display")==="none"){var G=this[H].tagName,K;if(m[G]){K=m[G]}else{var I=o("<"+G+" />").appendTo("body");K=I.css("display");if(K==="none"){K="block"}I.remove();m[G]=K}o.data(this[H],"olddisplay",K)}}for(var H=0,F=this.length;H<F;H++){this[H].style.display=o.data(this[H],"olddisplay")||""}return this}},hide:function(H,I){if(H){return this.animate(t("hide",3),H,I)}else{for(var G=0,F=this.length;G<F;G++){var E=o.data(this[G],"olddisplay");if(!E&&E!=="none"){o.data(this[G],"olddisplay",o.css(this[G],"display"))}}for(var G=0,F=this.length;G<F;G++){this[G].style.display="none"}return this}},_toggle:o.fn.toggle,toggle:function(G,F){var E=typeof G==="boolean";return o.isFunction(G)&&o.isFunction(F)?this._toggle.apply(this,arguments):G==null||E?this.each(function(){var H=E?G:o(this).is(":hidden");o(this)[H?"show":"hide"]()}):this.animate(t("toggle",3),G,F)},fadeTo:function(E,G,F){return this.animate({opacity:G},E,F)},animate:function(I,F,H,G){var E=o.speed(F,H,G);return this[E.queue===false?"each":"queue"](function(){var K=o.extend({},E),M,L=this.nodeType==1&&o(this).is(":hidden"),J=this;for(M in I){if(I[M]=="hide"&&L||I[M]=="show"&&!L){return K.complete.call(this)}if((M=="height"||M=="width")&&this.style){K.display=o.css(this,"display");K.overflow=this.style.overflow}}if(K.overflow!=null){this.style.overflow="hidden"}K.curAnim=o.extend({},I);o.each(I,function(O,S){var R=new o.fx(J,K,O);if(/toggle|show|hide/.test(S)){R[S=="toggle"?L?"show":"hide":S](I)}else{var Q=S.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),T=R.cur(true)||0;if(Q){var N=parseFloat(Q[2]),P=Q[3]||"px";if(P!="px"){J.style[O]=(N||1)+P;T=((N||1)/R.cur(true))*T;J.style[O]=T+P}if(Q[1]){N=((Q[1]=="-="?-1:1)*N)+T}R.custom(T,N,P)}else{R.custom(T,S,"")}}});return true})},stop:function(F,E){var G=o.timers;if(F){this.queue([])}this.each(function(){for(var H=G.length-1;H>=0;H--){if(G[H].elem==this){if(E){G[H](true)}G.splice(H,1)}}});if(!E){this.dequeue()}return this}});o.each({slideDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(E,F){o.fn[E]=function(G,H){return this.animate(F,G,H)}});o.extend({speed:function(G,H,F){var E=typeof G==="object"?G:{complete:F||!F&&H||o.isFunction(G)&&G,duration:G,easing:F&&H||H&&!o.isFunction(H)&&H};E.duration=o.fx.off?0:typeof E.duration==="number"?E.duration:o.fx.speeds[E.duration]||o.fx.speeds._default;E.old=E.complete;E.complete=function(){if(E.queue!==false){o(this).dequeue()}if(o.isFunction(E.old)){E.old.call(this)}};return E},easing:{linear:function(G,H,E,F){return E+F*G},swing:function(G,H,E,F){return((-Math.cos(G*Math.PI)/2)+0.5)*F+E}},timers:[],fx:function(F,E,G){this.options=E;this.elem=F;this.prop=G;if(!E.orig){E.orig={}}}});o.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(o.fx.step[this.prop]||o.fx.step._default)(this);if((this.prop=="height"||this.prop=="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(F){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var E=parseFloat(o.css(this.elem,this.prop,F));return E&&E>-10000?E:parseFloat(o.curCSS(this.elem,this.prop))||0},custom:function(I,H,G){this.startTime=e();this.start=I;this.end=H;this.unit=G||this.unit||"px";this.now=this.start;this.pos=this.state=0;var E=this;function F(J){return E.step(J)}F.elem=this.elem;if(F()&&o.timers.push(F)&&!n){n=setInterval(function(){var K=o.timers;for(var J=0;J<K.length;J++){if(!K[J]()){K.splice(J--,1)}}if(!K.length){clearInterval(n);n=g}},13)}},show:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.show=true;this.custom(this.prop=="width"||this.prop=="height"?1:0,this.cur());o(this.elem).show()},hide:function(){this.options.orig[this.prop]=o.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(H){var G=e();if(H||G>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var E=true;for(var F in this.options.curAnim){if(this.options.curAnim[F]!==true){E=false}}if(E){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(o.css(this.elem,"display")=="none"){this.elem.style.display="block"}}if(this.options.hide){o(this.elem).hide()}if(this.options.hide||this.options.show){for(var I in this.options.curAnim){o.attr(this.elem.style,I,this.options.orig[I])}}this.options.complete.call(this.elem)}return false}else{var J=G-this.startTime;this.state=J/this.options.duration;this.pos=o.easing[this.options.easing||(o.easing.swing?"swing":"linear")](this.state,J,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};o.extend(o.fx,{speeds:{slow:600,fast:200,_default:400},step:{opacity:function(E){o.attr(E.elem.style,"opacity",E.now)},_default:function(E){if(E.elem.style&&E.elem.style[E.prop]!=null){E.elem.style[E.prop]=E.now+E.unit}else{E.elem[E.prop]=E.now}}}});if(document.documentElement.getBoundingClientRect){o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}var G=this[0].getBoundingClientRect(),J=this[0].ownerDocument,F=J.body,E=J.documentElement,L=E.clientTop||F.clientTop||0,K=E.clientLeft||F.clientLeft||0,I=G.top+(self.pageYOffset||o.boxModel&&E.scrollTop||F.scrollTop)-L,H=G.left+(self.pageXOffset||o.boxModel&&E.scrollLeft||F.scrollLeft)-K;return{top:I,left:H}}}else{o.fn.offset=function(){if(!this[0]){return{top:0,left:0}}if(this[0]===this[0].ownerDocument.body){return o.offset.bodyOffset(this[0])}o.offset.initialized||o.offset.initialize();var J=this[0],G=J.offsetParent,F=J,O=J.ownerDocument,M,H=O.documentElement,K=O.body,L=O.defaultView,E=L.getComputedStyle(J,null),N=J.offsetTop,I=J.offsetLeft;while((J=J.parentNode)&&J!==K&&J!==H){M=L.getComputedStyle(J,null);N-=J.scrollTop,I-=J.scrollLeft;if(J===G){N+=J.offsetTop,I+=J.offsetLeft;if(o.offset.doesNotAddBorder&&!(o.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(J.tagName))){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}F=G,G=J.offsetParent}if(o.offset.subtractsBorderForOverflowNotVisible&&M.overflow!=="visible"){N+=parseInt(M.borderTopWidth,10)||0,I+=parseInt(M.borderLeftWidth,10)||0}E=M}if(E.position==="relative"||E.position==="static"){N+=K.offsetTop,I+=K.offsetLeft}if(E.position==="fixed"){N+=Math.max(H.scrollTop,K.scrollTop),I+=Math.max(H.scrollLeft,K.scrollLeft)}return{top:N,left:I}}}o.offset={initialize:function(){if(this.initialized){return}var L=document.body,F=document.createElement("div"),H,G,N,I,M,E,J=L.style.marginTop,K='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>';M={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(E in M){F.style[E]=M[E]}F.innerHTML=K;L.insertBefore(F,L.firstChild);H=F.firstChild,G=H.firstChild,I=H.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(G.offsetTop!==5);this.doesAddBorderForTableAndCells=(I.offsetTop===5);H.style.overflow="hidden",H.style.position="relative";this.subtractsBorderForOverflowNotVisible=(G.offsetTop===-5);L.style.marginTop="1px";this.doesNotIncludeMarginInBodyOffset=(L.offsetTop===0);L.style.marginTop=J;L.removeChild(F);this.initialized=true},bodyOffset:function(E){o.offset.initialized||o.offset.initialize();var G=E.offsetTop,F=E.offsetLeft;if(o.offset.doesNotIncludeMarginInBodyOffset){G+=parseInt(o.curCSS(E,"marginTop",true),10)||0,F+=parseInt(o.curCSS(E,"marginLeft",true),10)||0}return{top:G,left:F}}};o.fn.extend({position:function(){var I=0,H=0,F;if(this[0]){var G=this.offsetParent(),J=this.offset(),E=/^body|html$/i.test(G[0].tagName)?{top:0,left:0}:G.offset();J.top-=j(this,"marginTop");J.left-=j(this,"marginLeft");E.top+=j(G,"borderTopWidth");E.left+=j(G,"borderLeftWidth");F={top:J.top-E.top,left:J.left-E.left}}return F},offsetParent:function(){var E=this[0].offsetParent||document.body;while(E&&(!/^body|html$/i.test(E.tagName)&&o.css(E,"position")=="static")){E=E.offsetParent}return o(E)}});o.each(["Left","Top"],function(F,E){var G="scroll"+E;o.fn[G]=function(H){if(!this[0]){return null}return H!==g?this.each(function(){this==l||this==document?l.scrollTo(!F?H:o(l).scrollLeft(),F?H:o(l).scrollTop()):this[G]=H}):this[0]==l||this[0]==document?self[F?"pageYOffset":"pageXOffset"]||o.boxModel&&document.documentElement[G]||document.body[G]:this[0][G]}});o.each(["Height","Width"],function(I,G){var E=I?"Left":"Top",H=I?"Right":"Bottom",F=G.toLowerCase();o.fn["inner"+G]=function(){return this[0]?o.css(this[0],F,false,"padding"):null};o.fn["outer"+G]=function(K){return this[0]?o.css(this[0],F,false,K?"margin":"border"):null};var J=G.toLowerCase();o.fn[J]=function(K){return this[0]==l?document.compatMode=="CSS1Compat"&&document.documentElement["client"+G]||document.body["client"+G]:this[0]==document?Math.max(document.documentElement["client"+G],document.body["scroll"+G],document.documentElement["scroll"+G],document.body["offset"+G],document.documentElement["offset"+G]):K===g?(this.length?o.css(this[0],J):null):this.css(J,typeof K==="string"?K:K+"px")}})})();
</script>
<script type="text/javascript" charset="utf-8">
var months=["January","February","March","April","May","June","July","August","September","October","November","December"];var lines;var l;var nl;var nnl;var nnnl;var k=0;var i=0;var linkCount=0;var isCommitDetails=false;var commitDetails={};var commitDetailsTable;var commitDetailFiles={};function startDiff(){var b=$("#diff");var a=b.val().replace(/\&/g,"&amp;");a=a.replace(/</g,"&lt;");$("#updateddiff").html(a);highlightDiffs()}function startCommit(){commitDetailFiles.changed=[];commitDetailFiles.removed=[];commitDetailFiles["new"]=[];commitDetailFiles.renamed=[];commitDetailsTable=$("#commitDetailsTable");commitRawMessageDiv=$("#commitMessageContainer");isCommitDetails=true;parseCommitDetails();addAuthor();addDate();addSubject();addRefs();addSHA();addTree();addParents();addRawMessage();startDiff();updateCommitFiles()}function exportTar(){if(window.historyDetailsView){window.historyDetailsView.exportTar()}}function exportZip(a){if(window.historyDetailsView){window.historyDetailsView.exportZip()}}function loadParent(a){if(window.historyDetailsView){window.historyDetailsView.loadParent_(a)}}function loadTree(a){if(window.historyDetailsView){window.historyDetailsView.loadTree_(a)}}function nextLineIsAllSpaces(){if(!nl){return false}if(nl.match(/^\s{0,}$/)){return true}return false}function isLineIsAllSpaces(){var a=lines[i];if(a.match(/^\s{0,}$/)){return true}return false}function isNewFile(a){if(!a){return false}return(a.match("^[a-zA-Z0-9_]*")[0].toLowerCase()=="new")}function isDeletedFile(a){if(!a){return false}return(a.match("^[a-zA-Z0-9_]*")[0].toLowerCase()=="deleted")}function stepOverALine(){var a=i+2;if(lines.length-1<a){return null}return lines[a]}function isNextLineNewFile(){if(!nl){return false}return isNewFile(nl)}function isNextLineDeletedFile(){if(!nl){return false}return isDeletedFile(nl)}function isThisFileBinary(){if(!nnl){return false}return(nnl.match("^[a-zA-Z0-9_]*")[0].toLowerCase()=="binary")}function isNewBinaryFile(){if(!nnnl){return false}return(nnnl.match("^[a-zA-Z0-9_]*")[0].toLowerCase()=="binary")}function isFileNoContent(){if(!nnl){return false}if(nnl.match("^diff")||nnnl.match("^diff")){return true}if(nnnl==""){return true}return false}function isRenamedFile(){if(nnl.match("^rename from")&&nnnl.match("^rename to")){return true}return false}function isLineTooLong(){return(l.length>24887)}function parseCommitDetails(){var a=$("#commitDetails");var e=a.val().replace(/\&/g,"&amp;");e=e.replace(/</g,"&lt;");var h=e.indexOf("\ndiff ");var c=e.indexOf("\n\n")+2;if(h==-1){h=e.length}var n=e.substring(h);$("#diff").html(n);var g=e.substring(0,h);var f=g.match(/\nauthor (.*) \&lt\;(.*@.*|.*)> ([0-9].*)/);if(!(f[2].match(/@[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/))){commitDetails.authorEmail=f[2]}commitDetails.authorDate=new Date(parseInt(f[3])*1000);f=g.match(/\ncommitter (.*) \&lt\;(.*@.*|.*)> ([0-9].*)/);commitDetails.name=f[1];commitDetails.email=f[2];commitDetails.date=new Date(parseInt(f[3])*1000);f=g.match("^commit ([a-zA-Z0-9]*)\n");commitDetails.sha=f[1].substring(0,10);f=g.match("tree ([a-zA-Z0-9]*)\n");commitDetails.tree=f[1];f=g.match(/^parent ([a-zA-Z0-9]*)\n/gm);commitDetails.parents=[];if(f){var d=0;var b=f.length;var j="";for(d;d<b;d++){j=f[d].split(" ")[1];commitDetails.parents.push(j)}}var o=e.substring(c,h).replace(/^    /gm,"");commitDetails.rawMessage=o;commitDetails.subject=o.split("\n\n")[0].replace(/^    /gm,"")}function updateCommitFiles(){var c=0;var a;var f;var d;var b=false;var e=commitDetailFiles["new"].length+commitDetailFiles.renamed.length+commitDetailFiles.changed.length+commitDetailFiles.removed.length;if(commitDetails.rawMessage.match("^Merge branch")&&e<1){b=true;$("#commitIndex").html("")}if(e<1&&!b){$("#commitIndex").html("");return}if(commitDetailFiles["new"].length>0){c=0;f=[];a=commitDetailFiles["new"].length;f.push("<table id='fileStatuses' class='monaco'><tr><td><span class='fileStatus newFileStatus'>New</span><div id='spacer'>&nbsp;</div></td></tr>");f.push("<tr><td><ul class='fileStatusList'>");for(c;c<a;c++){d=commitDetailFiles["new"][c];if(!d.binary){f.push("<li><a href='#"+d.linkCount+"' title='go to "+d.file+"' class='file'>"+d.file+"</a></li>")}else{f.push("<li><a href='#"+d.linkCount+"' title='go to "+d.file+"' class='file'>"+d.file+"</a> (binary)</li>")}}f.push("</ul></td></tr></table>");$("#fileStatusesContainer").append(f.join(""))}if(commitDetailFiles.renamed.length>0){c=0;f=[];a=commitDetailFiles.renamed.length;f.push("<table id='fileStatuses' class='monaco'><tr><td><span class='fileStatus renamedFileStatus'>Renamed</span><div id='spacer'>&nbsp;</div></td></tr>");f.push("<tr><td><ul class='fileStatusList'>");for(c;c<a;c++){d=commitDetailFiles.renamed[c];if(!d.binary){f.push("<li><span class='renameFrom'>"+d.from+"</span> -> "+d.to+"</li>")}else{f.push("<li><span class='renameFrom'>"+d.from+"</span> -> "+d.to+" (binary)</li>")}}f.push("</ul></td></tr></table>");$("#fileStatusesContainer").append(f.join(""))}if(commitDetailFiles.changed.length>0){c=0;f=[];a=commitDetailFiles.changed.length;f.push("<table id='fileStatuses' class='monaco'><tr><td><span class='fileStatus changedFileStatus'>Modified</span><div id='spacer'>&nbsp;</div></td></tr>");f.push("<tr><td><ul class='fileStatusList'>");for(c;c<a;c++){d=commitDetailFiles.changed[c];if(!d.binary){f.push("<li><a href='#"+d.linkCount+"' title='go to "+d.file+"' class='file'>"+d.file+"</a></li>")}else{f.push("<li><a href='#"+d.linkCount+"' title='go to "+d.file+"' class='file'>"+d.file+"</a> (binary)</li>")}}f.push("</ul></td></tr></table>");$("#fileStatusesContainer").append(f.join(""))}if(commitDetailFiles.removed.length>0){c=0;f=[];a=commitDetailFiles.removed.length;f.push("<table id='fileStatuses' class='monaco'><tr><td><span class='fileStatus removedFileStatus'>Removed</span><div id='spacer'>&nbsp;</div></td></tr>");f.push("<tr><td><ul class='fileStatusList'>");for(c;c<a;c++){d=commitDetailFiles.removed[c];if(!d.binary){f.push("<li><a href='#"+d.linkCount+"' title='go to "+d.file+"'>"+d.file+"</a></li>")}else{f.push("<li><a href='#"+d.linkCount+"' title='go to "+d.file+"'>"+d.file+"</a> (binary)</li>")}}f.push("</ul></td></tr></table>");$("#fileStatusesContainer").append(f.join(""))}}function addAuthor(){if(commitDetails.authorEmail){commitDetailsTable.append("<tr><td class='detailItemLabel'>Author:</td><td class='detailItem'>"+commitDetails.name+" (<a href='mailto:"+commitDetails.authorEmail+"'>"+commitDetails.authorEmail+"</a>)</td></tr>")}else{commitDetailsTable.append("<tr><td class='detailItemLabel'>Author:</td><td class='detailItem'>"+commitDetails.name+"</td></tr>")}}function addDate(){var a=commitDetails.date.format("ddd mmmm dS yyyy @ hh:MM:sstt ('GMT'o Z)");commitDetailsTable.append("<tr><td class='detailItemLabel'>Date:</td><td class='detailItem'>"+a+"</td></tr>")}function addSubject(){if(!commitDetails.subject){return}commitDetailsTable.append("<tr><td class='detailItemLabel' valign='top'>Subject:</td><td class='detailItem subjectItem'><b>"+commitDetails.subject+"</b></td></tr>")}function clearExtendedMessage(){$("#extendedMessageContainer").html("")}function addRawMessage(){if(!commitDetails.rawMessage){clearExtendedMessage();return}if(commitDetails.rawMessage.trim()==commitDetails.subject.trim()){clearExtendedMessage();return}var a=commitDetails.rawMessage;a=a.replace(/\n/gm,"<br/>");commitRawMessageDiv.append(a)}function addSHA(){if(!commitDetails.sha){return}commitDetailsTable.append("<tr><td class='detailItemLabel'>SHA:</td><td class='detailItem'>"+commitDetails.sha+" <a href='javascript:exportTar();' class='archive' title='Export a tar of this commit'>tar</a> <a href='javascript:exportZip();' class='archive' title='Export a zip of this commit'>zip</a></td></tr>")}function addTree(){var a=commitDetails.tree;var b=a.substring(0,10);commitDetailsTable.append("<tr><td class='detailItemLabel'>Tree:</td><td class='detailItem'><a href='javascript:loadTree(\""+a+"\")' title='Inspect this tree'>"+b+"</a></td></tr>")}function addRefs(){}function addParents(){var e;var c;var b=commitDetails.parents;var d=0;var a=b.length;if(a<1){return}for(d;d<a;d++){e=b[d];c=e.substring(0,10);commitDetailsTable.append("<tr><td class='detailItemLabel'>Parent:</td><td class='detailItem'><a href='javascript:loadParent(\""+e+"\")' title='Load this parent commit'>"+c+"</a></td></tr>")}}function highlightDiffs(){var s=$("#updateddiff")[0];var u=s.innerHTML.replace(/\t/g,"  ");lines=u.split("\n");var q="";var p="";var b="";var j=-1;var h=-1;var w=true;var n=true;var B=false;var t=false;var v=false;k=lines.length;for(i;i<k;i++){l=lines[i];var A=l.charAt(0);var y=l.match("^[a-zA-Z0-9_]*")[0].toLowerCase();if(A=="\\"){continue}try{nl=lines[i+1]}catch(z){nl=null}try{nnl=lines[i+2]}catch(z){nnl=null}try{nnnl=lines[i+3]}catch(z){nnnl=null}if(v){if(A=="+"||A=="-"){if(nl.match("^diff --")||nl==""){b+='<div class="line binaryChange">No diff content</div>'}continue}}if(y=="index"){continue}if(v&&y=="binary"){msg=l;m=l.match("Binary files a/(.*) and");if(m.length==2){msg=msg="Binary file "+m[1]+" has changed"}b+='<div class="line binaryChange">'+msg+"</div>";v=false;continue}if(B){b+='<div class="line binaryChange">New binary file</div>';B=false;continue}if(t){b+='<div class="line binaryChange">Deleted binary file</div>';t=false;continue}if(y=="diff"){v=true;var d;var c=false;var C=false;var D=false;var a=false;var g=false;var x=false;l=l.replace("--cc ","");l=l.replace("--c","");if(isRenamedFile()){x=true}if(isNextLineNewFile()){c=true}if(isThisFileBinary()){a=true}if(isNextLineDeletedFile()){C=true}if(isNewBinaryFile()){B=true;if(C){D=true;C=false;t=true;B=false}v=false;g=true}if(l.match("b/")){pieces=l.split("b/")}else{pieces=l.split(" ")}file=pieces[pieces.length-1];w=true;linkCount++;if(isCommitDetails){var r={};r.file=file;r.linkCount=linkCount;if(x){var o=nnl.match("^rename from (t/)?(.*)");var f=nnnl.match("^rename to (t/)?(.*)");r.from=o[2];r.to=f[2];commitDetailFiles.renamed.push(r);continue}if(a||D||g){r.binary=true}if(D||C){commitDetailFiles.removed.push(r)}else{if(g||c){commitDetailFiles["new"].push(r)}else{commitDetailFiles.changed.push(r)}}if(D&&n&&!isCommitDetails){d='<div class="firstFileHeader"><a name="'+linkCount+'"></a>'+file+' (binary) <a href="#index" class="index">index</a></div>'}else{if(D){d='<div class="fileHeader"><a name="'+linkCount+'"></a>'+file+' (binary) <a href="#index" class="index">index</a></div>'}else{if(C&&n&&!isCommitDetails){d='<div class="firstFileHeader"><a name="'+linkCount+'"></a>'+file+' (deleted file) <a href="#index" class="index">index</a></div>'}else{if(C){d='<div class="fileHeader"><a name="'+linkCount+'"></a>'+file+' (deleted file) <a href="#index" class="index">index</a></div>'}else{if(g&&n&&!isCommitDetails){d='<div class="firstFileHeader"><a name="'+linkCount+'"></a>'+file+' (binary) <a href="#index" class="index">index</a></div>'}else{if(g){d='<div class="fileHeader"><a name="'+linkCount+'"></a>'+file+' (binary) <a href="#index" class="index">index</a></div>'}else{if(a&&n&&!isCommitDetails){d='<div class="firstFileHeader"><a name="'+linkCount+'"></a>'+file+' (binary) <a href="#index" class="index">index</a></div>'}else{if(a){d='<div class="fileHeader"><a name="'+linkCount+'"></a>'+file+' (binary) <a href="#index" class="index">index</a></div>'}else{if(c&&n&&!isCommitDetails){d='<div class="firstFileHeader"><a name="'+linkCount+'"></a>'+file+' (new file) <a href="#index" class="index">index</a></div>'}else{if(c){d='<div class="fileHeader"><a name="'+linkCount+'"></a>'+file+' (new file) <a href="#index" class="index">index</a></div>'}else{if(n&&!isCommitDetails){d='<div class="firstFileHeader"><a name="'+linkCount+'"></a>'+file+' | <a href="#index" class="index">index</a></div>'}else{d='<div class="fileHeader"><a name="'+linkCount+'"></a>'+file+' | <a href="#index" class="index">index</a></div>'}}}}}}}}}}}}else{if(D&&n&&!isCommitDetails){d='<div class="firstFileHeader">'+file+" (binary)</div>"}else{if(D){d='<div class="fileHeader">'+file+" (binary)</div>"}else{if(C&&n&&!isCommitDetails){d='<div class="firstFileHeader">'+file+" (deleted file)</div>"}else{if(C){d='<div class="fileHeader">'+file+" (deleted file)</div>"}else{if(g&&n&&!isCommitDetails){d='<div class="firstFileHeader">'+file+" (binary)</div>"}else{if(g){d='<div class="fileHeader">'+file+" (binary)</div>"}else{if(a&&n&&!isCommitDetails){d='<div class="firstFileHeader">'+file+" (binary)</div>"}else{if(a){d='<div class="fileHeader">'+file+" (binary)</div>"}else{if(c&&n&&!isCommitDetails){d='<div class="firstFileHeader">'+file+" (new file)</div>"}else{if(c){d='<div class="fileHeader">'+file+" (new file)</div>"}else{if(n&&!isCommitDetails){d='<div class="firstFileHeader">'+file+"</div>"}else{d='<div class="fileHeader">'+file+"</div>"}}}}}}}}}}}}b+=d;if(((g||c)||(D||C))&&isFileNoContent()){b+='<div class="line binaryChange">Empty file</div>'}n=false;q+="\n";p+="\n";continue}if(isLineTooLong()){if(A=="+"){b+="<div class='longline line'>+ This line is too long to display. Lines cannot exceed 24,500 characters.</div>";q+="\n";p+=++h+"\n"}else{if(A=="-"){b+="<div class='longline line'>- This line is too long to display. Lines cannot exceed 24,500 characters.</div>";q+=++j+"\n";p+="\n"}else{b+="<div class='longline line'> This line is too long to display. Lines cannot exceed 24,500 characters.</div>";q+="\n";p+="\n"}}}else{if(A=="+"){b+="<div class='addline line'>"+l+"</div>";q+="\n";p+=++h+"\n"}else{if(A=="-"){b+="<div class='delline line'>"+l+"</div>";q+=++j+"\n";p+="\n"}else{if(A=="@"){q="";p="";if(m=l.match(/@@ \-([0-9]+),\d+ \+(\d+),\d+ @@/)){j=parseInt(m[1])-1;h=parseInt(m[2])-1}l=l.replace(/@ ?/g,"");if(w){b+="<div class='firsthunkheader'>"+l+"</div>"}else{b+="<div class='hunkheader'>"+l+"</div>"}w=false;v=false;q+="\n";p+="\n";if(nextLineIsAllSpaces()){i+=1;continue}}else{if(A==" "){b+="<span class='line'>"+l+"</span>\n";q+=++j+"\n";p+=++h+"\n"}}}}}}s.innerHTML="<table width='100%'><td><pre>"+b+"</pre></td></tr></table>"}var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(j,z,u){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(j)=="[object String]"&&!/\d/.test(j)){z=j;j=undefined}j=j?new Date(j):new Date;if(isNaN(j)){throw SyntaxError("invalid date")}z=String(g.masks[z]||z||g.masks["default"]);if(z.slice(0,4)=="UTC:"){z=z.slice(4);u=true}var w=u?"getUTC":"get",q=j[w+"Date"](),e=j[w+"Day"](),n=j[w+"Month"](),t=j[w+"FullYear"](),v=j[w+"Hours"](),p=j[w+"Minutes"](),x=j[w+"Seconds"](),r=j[w+"Milliseconds"](),f=u?0:j.getTimezoneOffset(),h={d:q,dd:c(q),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:n+1,mm:c(n+1),mmm:g.i18n.monthNames[n],mmmm:g.i18n.monthNames[n+12],yy:String(t).slice(2),yyyy:t,h:v%12||12,hh:c(v%12||12),H:v,HH:c(v),M:p,MM:c(p),s:x,ss:c(x),l:c(r,3),L:c(r>99?Math.round(r/10):r),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:u?"UTC":(String(j).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][q%10>3?0:(q%100-q%10!=10)*q%10]};return z.replace(a,function(o){return o in h?h[o]:o.slice(1,o.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(a,b){return dateFormat(this,a,b)};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.ltrim=function(){return this.replace(/^\s+/,"")};String.prototype.rtrim=function(){return this.replace(/\s+$/,"")};
</script>
<script type="text/javascript" charset="utf-8">
$(document).ready(startCommit);
</script>
</head>
<body>
	<div class="firstFileHeader" style="border-bottom:solid 1px #DDD;">
		commit details
	</div>
	<div id="commitDetailsContainer" style="margin-top:10px">
		<table class="commitDetails" id="commitDetailsTable">
		</table>
	</div>
	<div id="extendedMessageContainer">
		<div class="fileHeader" style="padding-left:9px;background-color:#F7F7F7;color:black;border-bottom:solid 1px #DDD;font-size:9px;line-height:18px;height:18px;">
			commit message
		</div>
		<div id="commitMessageContainer" style="margin-top:10px">
		</div>
	</div>
	<a name="index"></a>
	<div id="commitIndex">
	<div class="fileHeader" style="padding-left:9px;background-color:#F7F7F7;color:black;border-bottom:solid 1px #DDD;font-size:9px;line-height:18px;height:18px;">
		affected files
	</div>
	</div>
<div id="fileStatusesContainer" style="margin-top:10px;">
</div>
<textarea id="commitDetails" class="hidden">
commit dae3fc098e6ea5def9bf244ef260e624fb75e6cd
tree 6b424249a248b755c5d9dc3b22c9b1ed18134892
author Aaron Smith &lt;aaron@rubyamf.org> 1234513643 -0800
committer Aaron Smith &lt;aaron@rubyamf.org> 1234513643 -0800

    Initial commit

diff --git a/.gitignore b/.gitignore
new file mode 100644
index 0000000..aad2fe3
--- /dev/null
+++ b/.gitignore
@@ -0,0 +1,3 @@
+.DS_S*
+__MAC*
+docs/*
diff --git a/bin/guttershark_1.0.22.swc b/bin/guttershark_1.0.22.swc
new file mode 100644
index 0000000..9b37a90
Binary files /dev/null and b/bin/guttershark_1.0.22.swc differ
diff --git a/bin/guttershark_1.0.22.swf b/bin/guttershark_1.0.22.swf
new file mode 100644
index 0000000..5ef4434
Binary files /dev/null and b/bin/guttershark_1.0.22.swf differ
diff --git a/bin/guttershark_1.0.44.swc b/bin/guttershark_1.0.44.swc
new file mode 100644
index 0000000..638f392
Binary files /dev/null and b/bin/guttershark_1.0.44.swc differ
diff --git a/bin/guttershark_1.0.44.swf b/bin/guttershark_1.0.44.swf
new file mode 100644
index 0000000..5bdbd0c
Binary files /dev/null and b/bin/guttershark_1.0.44.swf differ
diff --git a/bin/guttershark_1.0.45.swc b/bin/guttershark_1.0.45.swc
new file mode 100644
index 0000000..571833a
Binary files /dev/null and b/bin/guttershark_1.0.45.swc differ
diff --git a/bin/guttershark_1.0.45.swf b/bin/guttershark_1.0.45.swf
new file mode 100644
index 0000000..86e70ca
Binary files /dev/null and b/bin/guttershark_1.0.45.swf differ
diff --git a/bin/guttershark_1.0.47.swc b/bin/guttershark_1.0.47.swc
new file mode 100644
index 0000000..93cb2d8
Binary files /dev/null and b/bin/guttershark_1.0.47.swc differ
diff --git a/bin/guttershark_1.0.47.swf b/bin/guttershark_1.0.47.swf
new file mode 100644
index 0000000..c033a2b
Binary files /dev/null and b/bin/guttershark_1.0.47.swf differ
diff --git a/bin/guttershark_1.0.53.swc b/bin/guttershark_1.0.53.swc
new file mode 100644
index 0000000..ddcfe17
Binary files /dev/null and b/bin/guttershark_1.0.53.swc differ
diff --git a/bin/guttershark_1.0.53.swf b/bin/guttershark_1.0.53.swf
new file mode 100644
index 0000000..39cca05
Binary files /dev/null and b/bin/guttershark_1.0.53.swf differ
diff --git a/bin/guttershark_1.0.58.swc b/bin/guttershark_1.0.58.swc
new file mode 100644
index 0000000..5878f8e
Binary files /dev/null and b/bin/guttershark_1.0.58.swc differ
diff --git a/bin/guttershark_1.0.58.swf b/bin/guttershark_1.0.58.swf
new file mode 100644
index 0000000..501f3d0
Binary files /dev/null and b/bin/guttershark_1.0.58.swf differ
diff --git a/bin/guttershark_1.0.60.swc b/bin/guttershark_1.0.60.swc
new file mode 100644
index 0000000..cafc458
Binary files /dev/null and b/bin/guttershark_1.0.60.swc differ
diff --git a/bin/guttershark_1.0.60.swf b/bin/guttershark_1.0.60.swf
new file mode 100644
index 0000000..e670558
Binary files /dev/null and b/bin/guttershark_1.0.60.swf differ
diff --git a/bin/guttershark_1.0.63.swc b/bin/guttershark_1.0.63.swc
new file mode 100644
index 0000000..14ad067
Binary files /dev/null and b/bin/guttershark_1.0.63.swc differ
diff --git a/bin/guttershark_1.0.63.swf b/bin/guttershark_1.0.63.swf
new file mode 100644
index 0000000..8f0b856
Binary files /dev/null and b/bin/guttershark_1.0.63.swf differ
diff --git a/bin/guttershark_1.0.65.swc b/bin/guttershark_1.0.65.swc
new file mode 100644
index 0000000..99a68f1
Binary files /dev/null and b/bin/guttershark_1.0.65.swc differ
diff --git a/bin/guttershark_1.0.65.swf b/bin/guttershark_1.0.65.swf
new file mode 100644
index 0000000..cc9a5bd
Binary files /dev/null and b/bin/guttershark_1.0.65.swf differ
diff --git a/bin/guttershark_1.0.65_debug.swc b/bin/guttershark_1.0.65_debug.swc
new file mode 100644
index 0000000..74cecfd
Binary files /dev/null and b/bin/guttershark_1.0.65_debug.swc differ
diff --git a/license b/license
new file mode 100644
index 0000000..9b0dd0a
--- /dev/null
+++ b/license
@@ -0,0 +1,31 @@
+               __    __                         __                       __         
+              /\ \__/\ \__                     /\ \                     /\ \        
+   __   __  __\ \ ,_\ \ ,_\    __   _ __   ____\ \ \___      __     _ __\ \ \/'\    
+ /'_ `\/\ \/\ \\ \ \/\ \ \/  /'__`\/\`'__\/',__\\ \  _ `\  /'__`\  /\`'__\ \ , &lt;    
+/\ \_\ g \ \_u \\ \ t_\ \ t_/\  __e\ \ \/r\__, `s\ \ \ \ h/\ \L\.a_\ \ r/ \ \ \\`k  
+\ \____ \ \____/ \ \__\\ \__\ \____\\ \_\\/\____/ \ \_\ \_\ \__/.\_\\ \_\  \ \_\ \_\
+ \/___L\ \/___/   \/__/ \/__/\/____/ \/_/ \/___/   \/_/\/_/\/__/\/_/ \/_/   \/_/\/_/
+   /\____/                                                                          
+   \_/__/                                                                           
+
+Actionscript 3 Library
+
+Copyright (c) 2008 Aaron Smith
+
+Permission is hereby granted, free of charge, to any person obtaining a copy
+of this software and associated documentation files (the "Software"), to deal
+in the Software without restriction, including without limitation the rights
+to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+copies of the Software, and to permit persons to whom the Software is
+furnished to do so, subject to the following conditions:
+
+The above copyright notice and this permission notice shall be included in
+all copies or substantial portions of the Software.
+
+THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+THE SOFTWARE.
\ No newline at end of file
diff --git a/logo.jpg b/logo.jpg
new file mode 100644
index 0000000..e4aad1b
Binary files /dev/null and b/logo.jpg differ
diff --git a/readme b/readme
new file mode 100644
index 0000000..45aad6d
--- /dev/null
+++ b/readme
@@ -0,0 +1,7 @@
+INSTALLATION:
+---
+# Add the "guttershark/lib/as" folder to your global document class paths in Flash. (Flash > Preferences > Actionscript > 
+# Actionscript 3.0 Settings>). It's important that it's added to Flash's global class paths, otherwise you'll have to
+# add it as a classpath to every FLA.
+---
+# Use the "guttershark/lib/as" folder as a classpath for any other editor.
\ No newline at end of file
diff --git a/scripts/deploy.rb b/scripts/deploy.rb
new file mode 100644
index 0000000..839d675
--- /dev/null
+++ b/scripts/deploy.rb
@@ -0,0 +1,5 @@
+version=ARGV[0]
+system("./scripts/gendocs.sh")
+system("ruby ./scripts/genswc.rb #{version}")
+system("ruby ./scripts/genswc_debug.rb #{version}")
+system("ruby ./scripts/genswflib.rb #{version}")
\ No newline at end of file
diff --git a/scripts/gendocs.sh b/scripts/gendocs.sh
new file mode 100755
index 0000000..d66f0be
--- /dev/null
+++ b/scripts/gendocs.sh
@@ -0,0 +1,111 @@
+#!/usr/bin/env bash
+#-exclude-classes net.guttershark.StartHere \
+ME=`whoami`
+ASDOC="/Users/${ME}/dev/flex3sdk/bin/"
+AS_PATH="/Users/${ME}/dev/codelibs/as/"
+rm -rf ./docs/*
+${ASDOC}asdoc \
+-source-path ./src/as/ \
+-source-path ${AS_PATH}/externals/ \
+-source-path "/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/User Interface" \
+-source-path "/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/FLVPlayback" \
+-source-path "/Applications/Adobe CS3/Adobe Flash CS3/Configuration/ActionScript 3.0/Classes"  \
+-doc-sources ./src/as/net/guttershark/ \
+-main-title "Guttershark Flash API Docs" \
+-window-title "Guttershark Flash API Docs" \
+-output ./docs/ \
+-exclude-classes net.guttershark.decorators.SoundDecorator \
+-exclude-classes com.asual.swfaddress.SWFAddress \
+-exclude-classes com.asual.swfaddress.SWFAddressEvent \
+-exclude-classes net.guttershark.display.video.FLVPlayer \
+-exclude-classes fl.events.ColorPickerEvent \
+-exclude-classes fl.events.ComponentEvent \
+-exclude-classes fl.events.DataChangeEvent \
+-exclude-classes fl.events.DataChangeType \
+-exclude-classes fl.events.DataGridEvent \
+-exclude-classes fl.events.DataGridEventReason \
+-exclude-classes fl.events.ListEvent \
+-exclude-classes fl.motion.easing.Quadratic \
+-exclude-classes fl.data.DataProvider \
+-exclude-classes fl.data.SimpleCollectionItem \
+-exclude-classes fl.core.InvalidationType \
+-exclude-classes fl.core.UIComponent \
+-exclude-classes fl.containers.BaseScrollPane \
+-exclude-classes fl.controls.dataGridClasses.DataGridCellRenderer \
+-exclude-classes fl.controls.dataGridClasses.DataGridColumn \
+-exclude-classes fl.controls.dataGridClasses.HeaderRenderer \
+-exclude-classes fl.controls.dataGridClasses.DataGridCellEditor \
+-exclude-classes fl.controls.listClasses.ListData \
+-exclude-classes fl.controls.listClasses.CellRenderer \
+-exclude-classes fl.controls.listClasses.ICellRenderer \
+-exclude-classes fl.controls.BaseButton \
+-exclude-classes fl.controls.Button \
+-exclude-classes fl.controls.ButtonLabelPlacement \
+-exclude-classes fl.controls.ColorPicker \
+-exclude-classes fl.controls.ComboBox \
+-exclude-classes fl.controls.DataGrid \
+-exclude-classes fl.controls.LabelButton \
+-exclude-classes fl.controls.List \
+-exclude-classes fl.controls.ScrollBar \
+-exclude-classes fl.controls.ScrollBarDirection \
+-exclude-classes fl.controls.ScrollPolicy \
+-exclude-classes fl.controls.SelectableList \
+-exclude-classes fl.controls.TextInput \
+-exclude-classes fl.managers.IFocusManager \
+-exclude-classes fl.managers.IFocusManagerGroup \
+-exclude-classes fl.managers.IFocusManagerComponent \
+-exclude-classes fl.managers.FocusManager \
+-exclude-classes fl.managers.StyleManager \
+-exclude-classes com.pixelbreaker.ui.osx.MacMouseWheel \
+-exclude-classes gs.TweenMax \
+-exclude-classes gs.events.TweenEvent \
+-exclude-classes gs.TweenLite \
+-exclude-classes gs.TweenFilterLite \
+-exclude-classes fl.events.ScrollEvent \
+-exclude-classes fl.video.INCManager \
+-exclude-classes fl.video.IVPEvent \
+-exclude-classes fl.video.AutoLayoutEvent \
+-exclude-classes fl.video.CuePointEvent \
+-exclude-classes fl.video.CuePointType \
+-exclude-classes fl.video.FLVPlayback \
+-exclude-classes fl.video.LayoutEvent \
+-exclude-classes fl.video.MetadataEvent \
+-exclude-classes fl.video.NCManager \
+-exclude-classes fl.video.SkinErrorEvent \
+-exclude-classes fl.video.SoundEvent \
+-exclude-classes fl.video.VideoAlign \
+-exclude-classes fl.video.VideoError \
+-exclude-classes fl.video.VideoEvent \
+-exclude-classes fl.video.VideoPlayer \
+-exclude-classes fl.video.VideoProgressEvent \
+-exclude-classes fl.video.VideoScaleMode \
+-exclude-classes fl.video.VideoState \
+-left-frameset-width 350 \
+-package net.guttershark "The net.guttershark package contains all Actionscript 3 classes, namespaces, and meta data for the net.guttershark package." \
+-package net.guttershark.control "The net.guttershark.control package contains controller classes for an FLA, and preloading." \
+-package net.guttershark.decorators "The net.guttershark.decorators package contains common decorators." \
+-package net.guttershark.display "The net.guttershark.display package contains all classes that are display objects, and are used in the display list." \
+-package net.guttershark.display.buttons "The net.guttershark.display.buttons package contains base classes for generic buttons." \
+-package net.guttershark.display.draw "The net.guttershark.display.draw package contains display objects that are drawn with vectors." \
+-package net.guttershark.display.text "The net.guttershark.display.text package contains generic text display objects." \
+-package net.guttershark.display.video "The net.guttershark.video package contains classes use for video objects." \
+-package net.guttershark.display.views "The net.guttershark.display.controls.views package contains base classes for generic views." \
+-package net.guttershark.managers "The net.guttershark.managers package contains manager classes that simplify many mundane programming tasks." \
+-package net.guttershark.model "The net.guttershark.model package contains classes for working with model classes and model xml." \
+-package net.guttershark.support "The net.guttershark.support package contains all classes that support, managers,controllers and events and generally aren't used directly, with the exception of a couple classes." \
+-package net.guttershark.support.eventmanager "The net.guttershark.support.eventmanager contains all support classes for the EventManager, and other event listener delegates you can opt into for components." \
+-package net.guttershark.support.events "The net.guttershark.support.events package contains supporting events for guttershark controllers, models, and display objects." \
+-package net.guttershark.support.layoutmanager "The net.guttershark.support.layoutmanager package contains classes that support the LayoutManager." \
+-package net.guttershark.support.preloading "The net.guttershark.support.preloading package contains classes that support a PreloadController" \
+-package net.guttershark.support.preloading.events "The net.guttershark.support.preloading.events package contains event classes used with a PreloadController." \
+-package net.guttershark.support.preloading.workers "The net.guttershark.support.preloading.worker package contains worker classes that implement loading of different types of assets from a PreloadingController." \
+-package net.guttershark.support.servicemanager.http "The net.guttershark.support.servicemanager.http package contains classes that implement HTTP service calls with the ServiceManager." \
+-package net.guttershark.support.servicemanager.remoting "The net.guttershark.support.servicemanager.remoting package contains classes that implement Flash Remoting calls with the ServiceManager." \
+-package net.guttershark.support.servicemanager.shared "The net.guttershark.support.servicemanager.shared package contains classes that are shared between different service call implementations with the ServiceManager." \
+-package net.guttershark.util "The net.guttershark.util package contains all utility classes and sub packages." \
+-package net.guttershark.util.akamai "The net.guttershark.akamai package contains utility classes for Akamai services." \
+-package net.guttershark.util.autosuggest "The net.guttershark.util.autosuggest package contains utility classes that help create an auto suggest." \
+-package net.guttershark.util.cache "The net.guttershark.util.cache package contains utility classes that cache objects in memory." \
+-package net.guttershark.util.collections "The net.guttershark.util.collections package contains utility classes that define abstract data structures." \
+-package net.guttershark.util.filters "The net.guttershark.util.filters package contains utility classes that simplify working with filters." \
+-package net.guttershark.util.geom "The net.guttershark.util.geom package contains classes that define basic geomitry." 
\ No newline at end of file
diff --git a/scripts/genswc.rb b/scripts/genswc.rb
new file mode 100644
index 0000000..5e7ae5f
--- /dev/null
+++ b/scripts/genswc.rb
@@ -0,0 +1,27 @@
+asfiles=File.join("./src/as/**","*.as")
+d=Dir.glob(asfiles)
+final_out="~/dev/flex3sdk/bin/compc "
+final_out &lt;&lt; "-sp ~/dev/_projects/_git/guttershark/src/as/ "
+final_out &lt;&lt; "-sp ~/dev/codelibs/as/externals/ "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/ActionScript 3.0/Classes' "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/FLVPlayback' "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/User Interface' "
+final_out &lt;&lt; "-o ./bin/guttershark_#{ARGV[0]}.swc "
+final_out &lt;&lt; "-ic "
+d.each do |dir|
+  if(dir.match(/support/)) then next end;
+  if(dir.match(/akamai/)) then next end;
+  s=dir.split("/").join(".")
+  j=s.split(".")
+  j.pop()
+  s=j.join(".")
+  s.sub!("..src.as.","")
+  final_out &lt;&lt; "#{s} "
+end
+#final_out &lt;&lt; "-optimize"
+#final_out &lt;&lt; " -directory"
+#final_out &lt;&lt; " -debug=false"
+final_out &lt;&lt; " -compute-digest=true"
+final_out &lt;&lt; " -include-lookup-only=true"
+final_out &lt;&lt; " -verify-digests=true"
+system(final_out)
\ No newline at end of file
diff --git a/scripts/genswc_debug.rb b/scripts/genswc_debug.rb
new file mode 100644
index 0000000..40ce122
--- /dev/null
+++ b/scripts/genswc_debug.rb
@@ -0,0 +1,24 @@
+asfiles=File.join("./src/as/**","*.as")
+d=Dir.glob(asfiles)
+final_out="~/dev/flex3sdk/bin/compc "
+final_out &lt;&lt; "-sp ~/dev/_projects/_git/guttershark/src/as/ "
+final_out &lt;&lt; "-sp ~/dev/codelibs/as/externals/ "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/ActionScript 3.0/Classes' "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/FLVPlayback' "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/User Interface' "
+final_out &lt;&lt; "-o ./bin/guttershark_#{ARGV[0]}_debug.swc "
+final_out &lt;&lt; "-ic "
+d.each do |dir|
+  if(dir.match(/support/)) then next end;
+  if(dir.match(/akamai/)) then next end;
+  s=dir.split("/").join(".")
+  j=s.split(".")
+  j.pop()
+  s=j.join(".")
+  s.sub!("..src.as.","")
+  final_out &lt;&lt; "#{s} "
+end
+#final_out &lt;&lt; "-optimize"
+#final_out &lt;&lt; " -directory"
+#final_out &lt;&lt; " -debug=false"
+system(final_out)
\ No newline at end of file
diff --git a/scripts/genswflib.rb b/scripts/genswflib.rb
new file mode 100644
index 0000000..dbc764f
--- /dev/null
+++ b/scripts/genswflib.rb
@@ -0,0 +1,29 @@
+require "fileutils"
+asfiles=File.join("./src/as/**","*.as")
+d=Dir.glob(asfiles)
+final_out="~/dev/flex3sdk/bin/compc "
+final_out &lt;&lt; "-sp ~/dev/_projects/_git/guttershark/src/as/ "
+final_out &lt;&lt; "-sp ~/dev/codelibs/as/externals/ "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/ActionScript 3.0/Classes' "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/FLVPlayback' "
+final_out &lt;&lt; "-sp '/Applications/Adobe CS3/Adobe Flash CS3/Configuration/Component Source/ActionScript 3.0/User Interface' "
+final_out &lt;&lt; "-directory=true -o ./bin/tmplib/ "
+final_out &lt;&lt; "-ic "
+d.each do |dir|
+  if(dir.match(/support/)) then next end;
+  if(dir.match(/akamai/)) then next end;
+  s=dir.split("/").join(".")
+  j=s.split(".")
+  j.pop()
+  s=j.join(".")
+  s.sub!("..src.as.","")
+  final_out &lt;&lt; "#{s} "
+end
+#puts final_out
+final_out &lt;&lt; " -compute-digest=false"
+system(final_out)
+FileUtils.mv("./bin/tmplib/library.swf","./bin/library.swf")
+final_out = "~/dev/flex3sdk/bin/optimizer -keep-as3-metadata=\"Bindable,Managed,ChangeEvent,NonCommittingChangeEvent,Transient\" -input ./bin/library.swf -output ./bin/guttershark_#{ARGV[0]}.swf";
+system(final_out)
+FileUtils.remove_dir("./bin/tmplib",true)
+FileUtils.rm("./bin/library.swf")
\ No newline at end of file
diff --git a/scripts/help_toc.xml b/scripts/help_toc.xml
new file mode 100644
index 0000000..948f939
--- /dev/null
+++ b/scripts/help_toc.xml
@@ -0,0 +1,5 @@
+&lt;?xml version="1.0" encoding="utf-8"?>
+&lt;!-- this can be placed in the adobe help docs directory, to add guttershark as a book. -->
+&lt;book title="Guttershark" directory="guttershark" language="en" version="2.0" sort="mm_45">
+	&lt;level1 href="index.html" name="Guttershark API" />
+&lt;/book>
\ No newline at end of file
diff --git a/src/as/net/guttershark/control/DocumentController.as b/src/as/net/guttershark/control/DocumentController.as
new file mode 100644
index 0000000..d9c2af0
--- /dev/null
+++ b/src/as/net/guttershark/control/DocumentController.as
@@ -0,0 +1,688 @@
+/*                   __    __                         __                       __         
+ *                  /\ \__/\ \__                     /\ \                     /\ \        
+ *       __   __  __\ \ ,_\ \ ,_\    __   _ __   ____\ \ \___      __     _ __\ \ \/'\    
+ *     /'_ `\/\ \/\ \\ \ \/\ \ \/  /'__`\/\`'__\/',__\\ \  _ `\  /'__`\  /\`'__\ \ , &lt;    
+ *    /\ \_\ g \ \_u \\ \ t_\ \ t_/\  __e\ \ \/r\__, `s\ \ \ \ h/\ \L\.a_\ \ r/ \ \ \\`k  
+ *    \ \____ \ \____/ \ \__\\ \__\ \____\\ \_\\/\____/ \ \_\ \_\ \__/.\_\\ \_\  \ \_\ \_\
+ *     \/___L\ \/___/   \/__/ \/__/\/____/ \/_/ \/___/   \/_/\/_/\/__/\/_/ \/_/   \/_/\/_/
+ *       /\____/                                                                          
+ *       \_/__/                                                                           
+ */
+package net.guttershark.control
+{
+	import net.guttershark.display.CoreSprite;
+	import net.guttershark.managers.LayoutManager;
+	import net.guttershark.model.Model;
+	import net.guttershark.util.PlayerUtils;
+	import net.guttershark.util.Profiler;
+	import net.guttershark.util.Tracking;
+	import net.guttershark.util.XMLLoader;
+	import net.guttershark.util.akamai.Ident;
+	
+	import com.asual.swfaddress.SWFAddress;
+	import com.asual.swfaddress.SWFAddressEvent;
+	import com.pixelbreaker.ui.osx.MacMouseWheel;
+	
+	import flash.display.Loader;
+	import flash.display.MovieClip;
+	import flash.display.Stage;
+	import flash.display.StageDisplayState;
+	import flash.events.Event;
+	import flash.events.HTTPStatusEvent;
+	import flash.events.IOErrorEvent;
+	import flash.events.StatusEvent;
+	import flash.events.TimerEvent;
+	import flash.external.ExternalInterface;
+	import flash.filters.BlurFilter;
+	import flash.net.LocalConnection;
+	import flash.net.URLRequest;
+	import flash.net.URLRequestHeader;
+	import flash.utils.Dictionary;
+	import flash.utils.Timer;
+	import flash.utils.getTimer;
+
+	//&lt;li>&lt;strong>(in development)trackingMonitor&lt;/strong> (Boolean) - Connect to the tracking monitor, and send notifications from the javascript tracking library to the trackingMonitor.&lt;/li>
+	//&lt;li>&lt;strong>(in development)trackingSimulateXMLFile&lt;/strong> (String) - The path to a tracking xml file to use for making simulated tracking calls. This is specifically for when you're in the Flash IDE and need to at least simulate tracking calls for QA. The tags get sent to the tracking monitor.&lt;/li>
+	
+	/**
+	 * The DocumentController class is the document class for an FLA, it contains
+	 * default startup functionality that you can hook into, and most logic
+	 * is controllable through flashvars.
+	 * 
+	 * &lt;p>Typically, you do not use the DocumentController directly, as 
+	 * a document class for an FLA. You would instead, extend DocumentController,
+	 * and use that as the base class of an FLA.&lt;/p>
+	 * 
+	 * &lt;p>You can use multiple document controller's as a base document controller.
+	 * Only the top most swf (typically a shell), will perform all of the
+	 * startup logic provided by the document controller. If you load in
+	 * additional swfs that use a document controller as it's base class,
+	 * all startup functionality is skipped, and only the &lt;em>setupComplete&lt;/em>
+	 * method is called.&lt;/p>
+	 * 
+	 * &lt;p>Using mutiple document controllers is useful when you have multiple FLA's,
+	 * and you need to have the same startup logic available for non-shell
+	 * swf's (when running in the flash IDE), which rely on the Model, or other
+	 * startup functionality, but does not need to be available when your child swf
+	 * is loaded (because the shell, will have already performed startup).&lt;/p>
+	 * 
+	 * &lt;p>It detects bandwidth, based off of the swf size and how much time it
+	 * took to download.&lt;/p>
+	 * 
+	 * &lt;p>Available flashvar properties:&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>&lt;strong>akamaiHost&lt;/strong> (String) - An akamai host address to use for the ident service. EX: 'http://cp44952.edgefcs.net/'&lt;/li>
+	 * &lt;li>&lt;strong>embeddedProfiler&lt;/strong> (Boolean) - Whether or not to enable the embedded flash profiler (memory graphs, frame rate, etc.) This enables a context menu called "Show Profiler" which turns on the profiler.&lt;/li>
+	 * &lt;li>&lt;strong>initServices&lt;/strong> (Boolean) - Initialize the &lt;code>&lt;em>ServiceManager&lt;/em>&lt;/code>, with all of the service declarations defined in a model.xml file.&lt;/li>
+	 * &lt;li>&lt;strong>macMouseWheel&lt;/strong> (Boolean) - Initialize MacMouseWheel.&lt;/li>
+	 * &lt;li>&lt;strong>model&lt;/strong> (String) - Specify an XML file to load as the site's model file. Specify a file name like "model.xml".&lt;/li>
+	 * &lt;li>&lt;strong>onlineStatus&lt;/strong> (Boolean) - Ping for online status.&lt;/li>
+	 * &lt;li>&lt;strong>onlineStatusPingFrequency&lt;/strong> (Number) - Specify the ping time in milliseconds. The default is 60000 (1 minute).&lt;/li>
+	 * &lt;li>&lt;strong>onlineStatusPingURL&lt;/strong> (String) - Specify the URL to an image to ping for online status. The default is "./ping.png".&lt;/li>
+	 * &lt;li>&lt;strong>swfAddress&lt;/strong> (Boolean) - Specify whether or not to listen for SWFAddress change events.&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>Flashvar properties can be specified when running in the Flash IDE, which mimic HTML flashvars, 
+	 * by overriding the &lt;code>&lt;a href="#flashvarsForStandalone()">flashvarsForStandalone()&lt;/a>&lt;/code> 
+	 * method. Otherwise you &lt;strong>must&lt;/strong> declare the flashvars on the flash object in HTML.&lt;/p>
+	 * 
+	 * @example Overriding the &lt;em>flashvarsForStandalone&lt;/em> method to provide flashvars for IDE development:
+	 * &lt;listing>	
+	 * override protected function flashvarsForStandalone():Object
+	 * {
+	 *     return {model:"model.xml"};
+	 * }	
+	 * &lt;/listing>
+	 * 
+	 * @example Declaring flashvars on a flash object with SWFObject2:
+	 * &lt;listing>	
+	 * &lt;script type="text/javascript"&gt;
+	 *     var vars={model:"model.xml"};
+	 *     swfobject.embedSWF("main.swf","flashcontent","992","600","9.0.0",null,vars,params,attributes);
+	 * &lt;/script&gt;
+	 * &lt;/listing> 
+	 */
+	public class DocumentController extends CoreSprite
+	{
+		
+		/**
+		 * A stage reference for display state toggling.
+		 */
+		private static var StageRef:Stage;
+
+		/**
+		 * The version of guttershark.
+		 */
+		public static const VERSION:String="1.0.65";
+		
+		/**
+		 * The kilobytes per second that the movie downloaded at.
+		 */
+		public static var kbps:Number;
+		
+		/**
+		 * A friendlier representation of the bandwidth.
+		 * 
+		 * &lt;ul>
+		 * &lt;li>If kpbs is lower than 5, this is set to "trickle", meaning 56Kb dial up or slower.&lt;/li>
+		 * &lt;li>If kbps is lower than 32, this is set to "low", generally meaning a slow DSL.&lt;/li>
+		 * &lt;li>If kbps is lower than 132, this is set to "med", generally meaning an ok T1 line.&lt;/li>
+		 * &lt;li>If kpbs is higher than 132, this is set to "high", which could be a dsl,cable,or t1 that's 
+		 * performing very well.&lt;/li>
+		 * &lt;/ul>
+		 */
+		public static var bandwidth:String;
+		
+		/**
+		 * The raw benchmark that was calculated for the cpuEstimation.
+		 */
+		public static var cpuBenchmark:Number;
+		
+		/**
+		 * An estimation for cpu speed - fast, med, or slow.
+		 */
+		public static var cpuEstimation:String;
+		
+		/**
+		 * Whether or not a document controller has already
+		 * run it's course.
+		 */
+		private static var hasInitiated:Boolean;
+		
+		/**
+		 * The model XML - this is the xml that gets loaded from flashvars.model property.
+		 */
+		public var model:XML;
+		
+		/**
+		 * The flashvars on this movie.
+		 */
+		public var flashvars:Object;
+
+		/**
+		 * The loader used to load site model xml file.
+		 */
+		private var modelXMLLoader:XMLLoader;
+		
+		/**
+		 * An akamai Ident instance.
+		 */
+		private var ident:Ident;
+
+		/**
+		 * The timer used to initiate the ping loader.
+		 */
+		private var statusPingTimer:Timer;
+
+		/**
+		 * A loader used for online status watching.
+		 */
+		private var statusLoader:Loader;
+		
+		/**
+		 * The url request for the ping image.
+		 */
+		private var pingimg:URLRequest;
+		
+		/**
+		 * Online indicator.
+		 */
+		public var online:Boolean;
+		
+		/**
+		 * The trackingMonitor connection if required.
+		 */
+		private var lc:LocalConnection;
+		
+		/**
+		 * Loader for tracking xml when needed;
+		 */
+		private var trackingXMLLoader:XMLLoader;
+		
+		/**
+		 * The start time of the first progress event from the swf downloading.
+		 */
+		private var startTime:Number;
+		
+		/**
+		 * The end time after the swf has downloaded.
+		 */
+		private var endTime:Number;
+		
+		/**
+		 * The movies total bytes.
+		 */
+		private var totalBytes:Number;
+		
+		/**
+		 * Constructor for DocumentController instances - this should not
+		 * be used directly, only subclassed as a document class for an FLA.
+		 */
+		public function DocumentController()
+		{
+			super();
+			if(hasInitiated)
+			{
+				setupComplete();
+				return;
+			}
+			loaderInfo.addEventListener(Event.COMPLETE,onSWFComplete);
+			stage.stageFocusRect=false;
+			online=true;
+			setupFlashvars();
+			initStage();
+			LayoutManager.SetStageReference(stage);
+			StageRef=stage;
+			if(flashvars.embeddedProfiler==true||flashvars.embeddedProfiler== "true")Profiler.init(stage,this);
+			if(!flashvars.embeddedProfiler||flashvars.embeddedProfiler=="false")stage.showDefaultContextMenu=false;
+			if(flashvars.macMouseWheel)MacMouseWheel.setup(stage);
+			if(flashvars.swfAddress&&!utils.player.isStandAlonePlayer() && !utils.player.isIDEPlayer()) SWFAddress.addEventListener(SWFAddressEvent.CHANGE,swfAddressChange);
+			if(flashvars.trackingSimulateXMLFile)setupSimulateTracking();
+			if(flashvars.trackingMonitor)setupTrackingMonitor();
+			if(flashvars.model||flashvars.siteXML||flashVarModelProperty())loadModel();
+			if(flashvars.akamaiHost)loadAkamai();
+			if(flashvars.onlineStatus)initOnlineStatus();
+			if(!flashvars.model)
+			{
+				initModel();
+				if(utils.player.isIDEPlayer()||utils.player.isStandAlonePlayer()) initPathsForStandalone();
+				restoreSharedObject();
+				setupComplete();
+			}
+			hasInitiated=true;
+		}
+		
+		/**
+		 * On swf complete loaded.
+		 */
+		private function onSWFComplete(e:Event):void
+		{
+			startTime=0;
+			endTime=getTimer();
+			totalBytes=loaderInfo.bytesTotal;
+			loaderInfo.removeEventListener(Event.COMPLETE,onSWFComplete);
+			var kbytes:Number=(totalBytes/1024);
+			kbps=Math.round((kbytes/Math.ceil(((endTime-startTime)/1000))));
+			bandwidth="high";
+			if(kbps&lt;5)bandwidth="trickle";
+			if(kbps&lt;32)bandwidth="low";
+			if(kbps&lt;132)bandwidth="med";
+			if(kbps>=(kbytes-1))bandwidth="high";
+			endTime=NaN;
+			startTime=NaN;
+			totalBytes=NaN;
+			var mc:MovieClip=new MovieClip();
+			mc.graphics.beginFill(0xFF0066);
+			mc.graphics.drawRect(0, 0, 200, 200);
+			mc.graphics.endFill();
+			var blurFilter:BlurFilter=new BlurFilter(4,4,1);
+			var filters:Array=[];
+			var passes:int=3;
+			var h:int=0;
+			var i:int=0;
+			var t:Number;
+			var benchmark:Number;
+			for(h;h&lt;passes;h++)
+			{
+				t=getTimer();
+				for(i=0;i&lt;((h+1)*200);i++)
+				{
+					filters.push(blurFilter);
+					mc.filters=filters;
+				}
+				benchmark=(getTimer() - t);
+				filters=[];
+			}
+			if(benchmark&lt;45)cpuEstimation="fast";
+			else if(benchmark&lt;80)cpuEstimation="medium";
+			else cpuEstimation="slow";
+			onBandwidthAndCPUReady();
+		}
+		
+		/**
+		 * A method you can override to hook into the completion
+		 * of bandwidth calculation, and cpu estimation.
+		 * 
+		 * &lt;p>This is needed because setupComplete may fire before
+		 * the SWF has completely downloaded. The swf must be
+		 * completely downloaded before bandwidth is calculated
+		 * and cpu is estamated.&lt;/p>
+		 */
+		protected function onBandwidthAndCPUReady():void{}
+		
+		/**
+		 * A stub method you can override to initialize stage properties.
+		 */
+		protected function initStage():void{}
+		
+		/**
+		 * Setup the flash vars on this movie.
+		 */
+		private function setupFlashvars():void
+		{
+			if(utils.player.isStandAlonePlayer() || utils.player.isIDEPlayer()) flashvars=flashvarsForStandalone();
+			else flashvars=this.root.loaderInfo.parameters;
+		}
+		
+		/**
+		 * A method you can override to restore a shared object from disk.
+		 * 
+		 * @example Using the sharedObject property to restore the shared object to:
+		 * &lt;listing>	
+		 * override protected function restoreSharedObject():void
+		 * {
+		 *     sharedObject=SharedObject.getLocal("test");
+		 *     ml.sharedObject=sharedObject;
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * &lt;span class="hide">
+		 *  &lt;span class="scaffold method">
+		 * 	//hook into restoring a shared object.
+		 * 	override protected function restoreSharedObject():void
+		 * 	{
+		 * 	    //super();
+		 * 	    //ml.sharedObject=SharedObject.getLocal("myapp");
+		 * 	}
+		 * 	&lt;/span>
+		 * &lt;/span>
+		 */
+		protected function restoreSharedObject():void{}
+		
+		/**
+		 * A method you can override to hook into SWFAddress change events.
+		 */
+		protected function swfAddressChange(sae:SWFAddressEvent):void{}
+		
+		/**
+		 * Setup tracking for all AS implemented tracking.
+		 */
+		private function setupSimulateTracking():void
+		{
+			trackingXMLLoader=new XMLLoader();
+			var x:String=(flashvars.trackingXMLFile) ? flashvars.trackingXMLFile : "./tracking.xml";
+			trackingXMLLoader.contentLoader.addEventListener(Event.COMPLETE,ontc);
+			trackingXMLLoader.load(new URLRequest(x));
+		}
+		
+		/**
+		 * Setup connections for the tracking monitor, and listen for
+		 * external interface calls.
+		 */
+		private function setupTrackingMonitor():void
+		{
+			if((utils.player.isStandAlonePlayer() || utils.player.isIDEPlayer())) return;
+			lc=new LocalConnection();
+			lc.addEventListener(StatusEvent.STATUS, onLCStatus);
+			ExternalInterface.addCallback("tracked", onJSTrack);
+		}
+		
+		/**
+		 * Load the site xml.
+		 */
+		private function loadModel():void
+		{
+			modelXMLLoader=new XMLLoader();
+			modelXMLLoader.contentLoader.addEventListener(Event.COMPLETE,onSiteXMLComplete);
+			modelXMLLoader.load(new URLRequest(flashVarModelProperty()||flashvars.model||flashvars.siteXML));
+		}
+		
+		/**
+		 * A method you can override to alter the flashvar property
+		 * that the document controller users as the model. By default
+		 * the document controller reads flashvars.model for the xml to
+		 * load, if you use this method, you can change it to read, 
+		 * for example: flashvars.someOtherModel.
+		 */
+		protected function flashVarModelProperty():String
+		{
+			return null;
+		}
+		
+		/**
+		 * A method you can override to intialize path logic with the
+		 * model, when running in the Flash IDE.
+		 * 
+		 * &lt;p>This will only execute if you're running the player as
+		 * standalone.&lt;/p>
+		 * 
+		 * &lt;p>See external (lib/js/guttershark.js) file&lt;/p>
+		 */
+		protected function initPathsForStandalone():void{}
+		
+		/**
+		 * Hits an akamai ident service.
+		 */
+		private function loadAkamai():void
+		{
+			ident=new Ident();
+			ident.contentLoader.addEventListener(Event.COMPLETE, onAkamaiIdentComplete);
+			ident.findBestIPForAkamaiApplication(flashvars.akamaiHost);
+		}
+		
+		/**
+		 * Start the online status watching.
+		 */
+		private function initOnlineStatus():void
+		{
+			statusLoader=new Loader();
+			statusLoader.contentLoaderInfo.addEventListener(Event.COMPLETE, onPingComplete);
+			statusLoader.contentLoaderInfo.addEventListener(IOErrorEvent.DISK_ERROR, onPingError);
+			statusLoader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR,onPingError);
+			statusLoader.contentLoaderInfo.addEventListener(IOErrorEvent.NETWORK_ERROR,onPingError);
+			statusLoader.contentLoaderInfo.addEventListener(IOErrorEvent.VERIFY_ERROR,onPingError);
+			statusLoader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, onPingStatus);
+			if(flashvars.onlineStatusPingURL) pingimg=new URLRequest(flashvars.onlineStatusPingURL); 
+			else pingimg=new URLRequest("./ping.png");
+			var nocache:URLRequestHeader=new URLRequestHeader("Cache-Control","no-cache");
+			pingimg.requestHeaders=[nocache];
+			if(flashvars.onlineStatusPingFrequency) statusPingTimer=new Timer(flashvars.onlineStatusPingFrequency);
+			else statusPingTimer=new Timer(60000);
+			statusPingTimer.addEventListener(TimerEvent.TIMER,onTimeToPing);
+			statusPingTimer.start();
+		}
+		
+		/**
+		 * A method you can override to initialize your own model - you should
+		 * always call super.initModel().
+		 * 
+		 * @example A custom initModel method:
+		 * &lt;listing>	
+		 * override protected function initModel():void
+		 * {
+		 *     super.initModel();
+		 *     fm=FooBarModel.gi(); //your model
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * &lt;span class="hide">
+		 *  &lt;span class="scaffold method">
+		 *  //initialize your model.
+		 *  override protected function initModel():void
+		 *  {
+		 *      super.initModel();
+		 *      //myModel=MyModel.gi();
+		 *      //myModel.ml=ml //set the guttershark model on your model.
+		 *  }
+		 *  &lt;/span>
+		 * &lt;/span>
+		 */
+		protected function initModel():void
+		{
+			if(model) ml.xml=model;
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * When the site xml completes loading.
+		 */
+		private function onSiteXMLComplete(e:Event):void
+		{
+			model=modelXMLLoader.data;
+			initModel();
+			restoreSharedObject();
+			modelXMLLoader.contentLoader.removeEventListener(Event.COMPLETE,onSiteXMLComplete);
+			modelXMLLoader.dispose();
+			modelXMLLoader=null;
+			if(utils.player.isIDEPlayer() || utils.player.isStandAlonePlayer()) initPathsForStandalone();
+			if(flashvars.initServices) ml.initServices();
+			setupComplete();
+		}
+		
+		/**
+		 * On tracking xml load complete.
+		 */
+		private function ontc(e:Event):void
+		{
+			Tracking.simulationTrackingXML=trackingXMLLoader.data;
+		}
+				
+		/**
+		 * On call from ExternalInterface.. from javascript tracking framework.
+		 */
+		private function onJSTrack(msg:String):void
+		{
+			lc.send("TrackingMonitor","tracked",msg);
+		}
+		
+		/**
+		 * LocalConnection status event.
+		 */
+		private function onLCStatus(se:StatusEvent):void
+		{
+			switch (se.level)
+			{
+                case "status":
+                    break;
+                case "error":
+                    trace("TrackingMonitor could not connect. Code: " + se.code);
+                    break;
+            }
+		}
+	
+		/**
+		 * On ping complete.
+		 */
+		private function onPingComplete(e:Event):void
+		{
+			if(online) return;
+			online=true;
+			applicationOnline();
+		}
+		
+		/**
+		 * On a ping http status.
+		 */
+		private function onPingStatus(ht:HTTPStatusEvent):void
+		{
+			if(ht.status != 200 && ht.status != 0) throw new Error("HTTP Status Error, code:" + ht.status.toString());
+		}
+
+		/**
+		 * On ping timer tick.
+		 */
+		private function onTimeToPing(e:*):void
+		{
+			statusLoader.load(pingimg);
+		}
+
+		/**
+		 * On a ping error.
+		 */
+		private function onPingError(e:IOErrorEvent):void
+		{
+			if(!online) return;
+			online=false;
+			applicationOffline();
+		}
+		
+		
+		/**
+		 * event handler method for akamai ident sniff.
+		 */
+		private function onAkamaiIdentComplete(e:Event):void
+		{
+			akamaiIdentComplete(XML(ident.contentLoader.data).ip.toString());
+			ident.dispose();
+			ident=null;
+		}
+
+		/**
+		 * A method you should override that provides the final hook in the
+		 * chain of setup method calls.
+		 * 
+		 * &lt;/p>setupComplete ensures that the model xml file has finished loading
+		 * (if flashvars.model was set). But it will not wait for sniffBandwidth,
+		 * or akamai idents.&lt;/p>
+		 */
+		protected function setupComplete():void{}
+		
+		/**
+		 * A method you can override when publishing from the flash IDE to provide
+		 * a default set of flashvars. Flashvars won't exist when
+		 * publishing from the flash IDE, so in this case, you just return
+		 * an Object with properties on it that fake what your flashvars will
+		 * actually be when coming from HTML.
+		 * 
+		 * @return A generic object with hard code properties.
+		 */
+		protected function flashvarsForStandalone():Object
+		{
+			return {};
+		}
+		
+		/**
+		 * A method you can override when publishing from the flash IDE to provide
+		 * a default set of querystring data.
+		 * 
+		 * @return A dictionary with deeplink keys and values.
+		 */
+		protected function queryStringForStandalone():Dictionary
+		{
+			return new Dictionary();
+		}
+		
+		/**
+		 * A method you can override to hook into the complete event from the akamai
+		 * ident hit. This will only be called if you provided the &lt;code>&lt;strong>&lt;em>akamaiHost&lt;/em>&lt;/strong>&lt;/code>
+		 * property in flashvars.
+		 * 
+		 * &lt;p>You should hook into this for two things.&lt;/p>
+		 * &lt;ul>
+		 * &lt;li>Set the &lt;code>AkamaiNCManager.FMS_IP=ip;&lt;/code>&lt;/li>
+		 * &lt;li>Set the &lt;code>VideoPlayer.iNCManager="net.guttershark.akamai.AkamaiNCManager";&lt;/code>&lt;/li>
+		 * &lt;/ul>
+		 * &lt;/p>
+		 * 
+		 * @param ip The IP that was found from the Ident service.
+		 */
+		protected function akamaiIdentComplete(ip:String):void{}
+		
+		/**
+		 * A method you can override to hook into the application offline event. This is only useful
+		 * if you've opted into the &lt;code>onlineStatus&lt;/code> flashvar property. 
+		 */
+		protected function applicationOffline():void{}
+		
+		/**
+		 * A method you can override to hook into the application online event. This is only useful
+		 * if you've opted into the &lt;code>onlineStatus&lt;/code> flashvar property.
+		 */
+		protected function applicationOnline():void{}
+		
+		/**
+		 * Stop the online status pinging.
+		 */
+		public function stopOnlineStatus():void
+		{
+			statusPingTimer.stop();
+		}
+		
+		/**
+		 * Start the online status pinging. The online status pinging will
+		 * start by default if you specify the &lt;code>onlineStatus&lt;/code> flashvar
+		 * property. This should be used to restart the pinging if you stopped it
+		 * at some point.
+		 */
+		public function startOnlineStatus():void
+		{
+			statusPingTimer.start();
+		}
+		
+		/**
+		 * Check a version against the guttershark version - an error
+		 * is thrown if they don't match.
+		 * 
+		 * @example Using the versionCheck method:
+		 * &lt;listing>	
+		 * override protected function setupComplete():void
+		 * {
+		 *     versionCheck("1.0.496"); //throws error if 1.0.496 does not match the DocumentController.VERSION property.
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * @param version The version of guttershark you're using.
+		 * @param suppress Whether or not to suppress the error that's thrown, and just trace a warning instead.
+		 */
+		public function versionCheck(version:String,suppress:Boolean=false):void
+		{
+			var err:String="The specified version, and the version of guttershark you're linking against do not match. There could be differences in the code bases.";
+			if(version!=VERSION)
+			{
+				if(suppress)trace("WARNING: "+err);
+				else throw new Error(err);
+			}
+		}
+		
+		/**
+		 * Toggle fullscreen display mode.
+		 */
+		public static function toggleFullScreen():void
+		{
+			if(!StageRef)return;
+			if(StageRef.displayState==StageDisplayState.FULL_SCREEN)StageRef.displayState=StageDisplayState.NORMAL;
+			else StageRef.displayState=StageDisplayState.FULL_SCREEN;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/control/PreloadController.as b/src/as/net/guttershark/control/PreloadController.as
new file mode 100644
index 0000000..3473f6e
--- /dev/null
+++ b/src/as/net/guttershark/control/PreloadController.as
@@ -0,0 +1,526 @@
+package net.guttershark.control
+{
+	import flash.system.ApplicationDomain;	
+	import flash.events.Event;
+	import flash.events.EventDispatcher;
+	import flash.system.LoaderContext;
+	
+	import net.guttershark.managers.AssetManager;
+	import net.guttershark.support.preloading.Asset;
+	import net.guttershark.support.preloading.events.AssetCompleteEvent;
+	import net.guttershark.support.preloading.events.AssetErrorEvent;
+	import net.guttershark.support.preloading.events.AssetOpenEvent;
+	import net.guttershark.support.preloading.events.AssetProgressEvent;
+	import net.guttershark.support.preloading.events.AssetStatusEvent;
+	import net.guttershark.support.preloading.events.PreloadProgressEvent;
+	import net.guttershark.support.preloading.workers.WorkerInstances;
+	import net.guttershark.util.ArrayUtils;
+	import net.guttershark.util.FrameDelay;
+	
+	/**
+	 * Dispatched for each asset that has completed downloading.
+	 * 
+	 * @eventType net.guttershark.support.preloading.events.AssetCompleteEvent
+	 */
+	[Event("assetComplete", type="net.guttershark.support.preloading.events.AssetCompleteEvent")]
+	
+	/**
+	 * Dispatched for each asset that has started downloading.
+	 * 
+	 * @eventType net.guttershark.support.preloading.events.AssetOpenEvent
+	 */
+	[Event("assetOpen", type="net.guttershark.support.preloading.events.AssetOpenEvent")]
+	
+	/**
+	 * Dispatched for each asset that has has stopped downloading because of an error.
+	 * 
+	 * @eventType net.guttershark.support.preloading.events.AssetErrorEvent
+	 */
+	[Event("assetError", type="net.guttershark.support.preloading.events.AssetErrorEvent")]
+	
+	/**
+	 * Dispatched for each asset that is downloading.
+	 * 
+	 * @eventType net.guttershark.support.preloading.events.AssetProgressEvent
+	 */
+	[Event("assetProgress", type="net.guttershark.support.preloading.events.AssetProgressEvent")]
+	
+	/**
+	 * Dispatched for each asset that generated an http status code other than 0 or 200.
+	 * 
+	 * @eventType net.guttershark.support.preloading.events.AssetStatusEvent
+	 */
+	[Event("assetStatus", type="net.guttershark.support.preloading.events.AssetStatusEvent")]
+	
+	/**
+	 * Dispatched on progress of the entire PreloadController progress.
+	 * 
+	 * @eventType net.guttershark.support.preloading.events.PreloadProgressEvent
+	 */
+	[Event("preloadProgress", type="net.guttershark.support.preloading.events.PreloadProgressEvent")]
+	
+	/**
+	 * Dispatched when the preload controller completes downloading all assets in the queue.
+	 * 
+	 * @eventType flash.events.Event
+	 */
+	[Event("complete", type="flash.events.Event")]
+
+	/**
+	 * The PreloadController class is a controller you use for loading assets - it provides you
+	 * with methods for starting, stopping, pausing, resuming and prioritizing of assets, 
+	 * and registers all loaded assets with the asset manager.
+	 * 
+	 * &lt;p>By default, the preload controller loads all swf's and bitmap's into the same
+	 * application domain. Unless specified otherwise in the constructor.&lt;/p>
+	 * 
+	 * @example Using the preload controller:
+	 * &lt;listing>		
+	 * import net.guttershark.control.PreloadController;
+	 * import net.guttershark.managers.AssetManager;
+	 * import net.guttershark.managers.EventManager;
+	 * import net.guttershark.support.preloading.Asset;
+	 * 
+	 * public class PreloaderTest extends DocumentController 
+	 * {
+	 *    
+	 *    public var preloader:MovieClip;
+	 *    
+	 *    public function PreloaderTest()
+	 *    {
+	 *        super();
+	 *    }
+	 *    
+	 *    private function setupComplete():void
+	 *    {
+	 *        pc = new PreloadController(400);
+	 *        var assets:Array = [
+	 *           new Asset("assets/jpg1.jpg","jpg1"),
+	 *           new Asset("assets/jpg2.jpg","jpg2"),	
+	 *           new Asset("assets/png1.png","png1"),
+	 *           new Asset("assets/png2.png","png2"),
+	 *           new Asset("swfload_test.swf","swf1"),
+	 *           new Asset("assets/sound1.mp3","snd1"),
+	 *           new Asset("assets/Pizza_Song.flv","pizza")
+	 *       ];
+	 *       pc.addItems(assets);
+	 *       em.handleEvents(pc,this,"onPC",true);
+	 *       pc.prioritize(assets[4]); //prioritize the swf.
+	 *       pc.start(); //start it;
+	 *       pc.stop(); //pause it
+	 *       setTimeout(pc.start,4000); //resume it
+	 *    }
+	 *    
+	 *    private function onPCProgress(pe:PreloadProgressEvent):void
+	 *    {
+	 *        trace(pe);
+	 *        preloader.width = pe.pixels
+	 *    }
+	 *    
+	 *    private function onPCAssetComplete(e:AssetCompleteEvent):void
+	 *    {
+	 *        trace(e);
+	 *    }
+	 *    
+	 *    private function onPCComplete(e:Event):void
+	 *    {
+	 *        addChild(am.getMovieClipFromSWFLibrary("swf1", "Test"));
+	 *        addChild(am.getBitmap("jpg1"));
+	 *    }
+	 * }
+	 * &lt;/listing>
+	 */
+	final public class PreloadController extends EventDispatcher
+	{
+		
+		/**
+		 * The number of loaded items in this instance of the PreloadController.
+		 */
+		private var loaded:int;
+		
+		/**
+		 * Number of errors in this instance.
+		 */
+		private var loadErrors:int;
+
+		/**
+		 * An array of items to be loaded.
+		 */
+		private var loadItems:Array;
+		
+		/**
+		 * A duplicate of the original load items. Used internally.
+		 */
+		private var loadItemsDuplicate:Array;
+		
+		/**
+		 * The currently loading item.
+		 */
+		private var currentItem:Asset;
+		
+		/**
+		 * A pool of total bytes from each item that is loading
+		 * in this instance.
+		 */
+		private var bytesTotalPool:Array;
+		
+		/**
+		 * A loading pool, each item that is loading has an 
+		 * entry in this pool, the entry is it's bytesLoaded.
+		 */
+		private var bytesLoadedPool:Array;
+		
+		/**
+		 * Stores loading item info (bl / bt)
+		 */
+		private var loadingItemsPool:Array;
+		
+		/**
+		 * The total pixels to fill for this preloader.
+		 */
+		private var totalPixelsToFill:int;
+		
+		/**
+		 * Flag used for pausing and resuming
+		 */
+		private var _working:Boolean;
+		
+		/**
+		 * The last percent update that was dispatched.
+		 */
+		private var lastPercentUpdate:Number;
+		
+		/**
+		 * The last pixel update that was dispatched.
+		 */
+		private var lastPixelUpdate:Number;
+		
+		/**
+		 * The last asset that loaded.
+		 */
+		private var lastCompleteAsset:Asset;
+		
+		/**
+		 * ArrayUtils singleton.
+		 */
+		private var art:ArrayUtils;
+		
+		/**
+		 * The loader context for all loading.
+		 */
+		private var loaderContext:LoaderContext;
+
+		/**
+		 * Constructor for PreloadController instances.
+		 * 
+		 * @param pixelsToFill The total number of pixels this preloader needs to fill - this is used in calculating both pixels and percent. 
+		 * @param loaderContext The loader context for all assets being loaded with this preload controller.
+		 */
+		public function PreloadController(pixelsToFill:int=100,loaderContext:LoaderContext=null)
+		{
+			if(pixelsToFill&lt;=0)throw new ArgumentError("Pixels to fill must be greater than zero.");
+			WorkerInstances.RegisterDefaultWorkers();
+			if(!loaderContext)this.loaderContext=new LoaderContext(false,ApplicationDomain.currentDomain);
+			else this.loaderContext=loaderContext;
+			art=ArrayUtils.gi();
+			totalPixelsToFill=pixelsToFill;
+			bytesTotalPool=[];
+			bytesLoadedPool=[];
+			loadingItemsPool=[];
+			loadItems=[];
+			loaded=0;
+			loadErrors=0;
+			_working=false;
+		}
+		
+		/**
+		 * Add items to the controller to load - if the preloader is currently working,
+		 * these items will be appended to the items to load.
+		 * 
+		 * @param items An array of Asset instances.
+		 */
+		public function addItems(items:Array):void
+		{
+			if(!items)return;
+			if(!items[0])return;
+			if(!this.loadItems[0])this.loadItems=art.clone(items);
+			else this.loadItems.concat(art.clone(items));
+			loadItemsDuplicate=art.clone(loadItems);
+		}
+		
+		/**
+		 * Add items to the controller to load, with top priority.
+		 * 
+		 * @param items An array of Asset instances.
+		 */
+		public function addPrioritizedItems(items:Array):void
+		{
+			if(!items)return;
+			if(!items[0])return;
+			if(!this.loadItems[0])this.loadItems=art.clone(items);
+			else
+			{
+				var l:int=items.length;
+				var i:int=0;
+				for(i;i&lt;l;i++)this.loadItems.unshift(items[i]);
+			}
+			loadItemsDuplicate=art.clone(loadItems);
+		}
+
+		/**
+		 * Starts loading the assets, and resumes loading from a stopped state.
+		 */
+		public function start():void
+		{
+			if(!loadItems[0])
+			{
+				trace("WARNING: No assets are in the preloader, no preloading will start.");
+				return;
+			}
+			_working=true;
+			load();
+		}
+		
+		/**
+		 * Stops this preload controller from loading assets, if there is
+		 * an asset currently loading, that asset will finish loading, but the
+		 * controller will not continue after that.
+		 */
+		public function stop():void
+		{
+			_working=false;
+		}
+
+		/**
+		 * Indicates whether or not this controller is doing any preloading.
+		 */
+		public function get working():Boolean
+		{
+			return _working;
+		}
+		
+		/**
+		 * The number of items left in the preload queue.
+		 */
+		public function get numLeft():int
+		{
+			return loadItems.length;
+		}
+		
+		/**
+		 * Set the number of pixels to fill, useful if
+		 * the pixel calculations need to change.
+		 */
+		public function set pixelsToFill(px:int):void
+		{
+			totalPixelsToFill=px;
+		}
+		
+		/**
+		 * The number of pixels that should be filled.
+		 */
+		public function get pixelsToFill():int
+		{
+			return totalPixelsToFill;
+		}
+
+		/**
+		 * The last completed asset.
+		 */
+		public function get lastCompletedAsset():Asset
+		{
+			return lastCompleteAsset;
+		}
+
+		/**
+		 * Prioritize an asset.
+		 * 
+		 * @param asset An asset instance that's in the queue to be loaded.
+		 */
+		public function prioritize(asset:Asset):void
+		{
+			if(!asset)return;
+			if(!asset.source||!asset.libraryName)throw new Error("Both a source and an id must be provided on the Asset to prioritize.");
+			var l:int=loadItems.length;
+			var i:int=0;
+			for(i;i&lt;l;i++)
+			{
+				var item:Asset=Asset(loadItems[i]);
+				if(item.source==asset.source)
+				{
+					var litem:Asset=loadItems.splice(i,1)[0] as Asset;
+					loadItems.unshift(litem);
+					return;
+				}
+			}
+		}
+		
+		/**
+		 * Recursively called to load each item in the queue.
+		 */
+		private function load():void
+		{
+			if(!_working)return;
+			var item:Asset=Asset(this.loadItems.shift());
+			currentItem=item;
+			loadingItemsPool[item.source]=item;
+			item.load(this,loaderContext);
+		}
+		
+		/**
+		 * Internal method used to send out updates.
+		 */
+		private function updateStatus():void
+		{
+			var pixelPool:Number=0;
+			var pixelContributionPerItem:Number=Math.ceil(totalPixelsToFill/(loadItemsDuplicate.length-loadErrors));
+			var pixelUpdate:Number;
+			var percentUpdate:Number;
+			for(var key:String in loadingItemsPool)
+			{
+				var bl:* =bytesLoadedPool[key];
+				var bt:* =bytesTotalPool[key];
+				if(bl==undefined||bt==undefined)continue;
+				var pixelsForItem:Number=Math.ceil((bl/bt)*pixelContributionPerItem);
+				//trace("update: key: " + key + " bl: " + bl.toString() + " bt: " + bt.toString() + " pixelsForItem: " + pixelsForItem);
+				pixelPool+=pixelsForItem;
+			}
+			pixelUpdate=pixelPool;
+			percentUpdate=Math.ceil((pixelPool/totalPixelsToFill)*100);
+			if(lastPixelUpdate>0&&lastPercentUpdate>0&&lastPixelUpdate==pixelUpdate&&lastPercentUpdate==percentUpdate)return;
+			lastPixelUpdate=pixelUpdate;
+			lastPercentUpdate=percentUpdate;
+			dispatchEvent(new PreloadProgressEvent(PreloadProgressEvent.PROGRESS,pixelUpdate,percentUpdate));
+		}
+		
+		/**
+		 * This is used to check the status of this preloader.
+		 */
+		private function updateLoading():void
+		{
+			if(loadItems.length>0)load();
+			else if((loaded+loadErrors)>=(loadItems.length))
+			{	
+				_working=false;
+				dispatchEvent(new PreloadProgressEvent(PreloadProgressEvent.PROGRESS,totalPixelsToFill,100));
+				dispatchEvent(new Event(Event.COMPLETE));
+				var fd:FrameDelay=new FrameDelay(reset,2);
+			}
+		}
+		
+		/**
+		 * Resets internal state so the preload controller
+		 * can be re-used if needed.
+		 */
+		public function reset():void
+		{
+			loadErrors=0;
+			loaded=0;
+			loadItems=[];
+			loadItemsDuplicate=[];
+			bytesTotalPool=[];
+			bytesLoadedPool=[];
+			if(currentItem)currentItem.dispose();
+			currentItem=null;
+			if(lastCompletedAsset)lastCompleteAsset.dispose();
+			lastCompleteAsset=null;
+		}
+		
+		/**
+		 * Dispose of this preloadController.
+		 */
+		public function dispose():void
+		{
+			loadErrors=0;
+			loaded=0;
+			loadItems=null;
+			loadItemsDuplicate=null;
+			bytesTotalPool=null;
+			bytesLoadedPool=null;
+			if(currentItem)currentItem.dispose();
+			currentItem=null;
+			if(lastCompletedAsset)lastCompleteAsset.dispose();
+			lastCompleteAsset=null;
+		}
+
+		/**
+		 * @private
+		 * 
+		 * Every Asset in the queue calls this method on it's progress event.
+		 * 
+		 * @param pe AssetProgressEvent
+		 */
+		public function progress(pe:AssetProgressEvent):void
+		{
+			var item:Asset=Asset(pe.asset);
+			var source:String=pe.asset.source;
+			if(item.bytesTotal&lt;0||isNaN(item.bytesTotal))return;
+			else if(item.bytesLoaded&lt;0||isNaN(item.bytesLoaded))return;
+			if(!bytesTotalPool[source])bytesTotalPool[source]=item.bytesTotal;
+			bytesLoadedPool[source]=item.bytesLoaded;
+			updateStatus();
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Each item calls this method on it's complete.
+		 * 
+		 * @param e AssetCompleteEvent
+		 */
+		public function complete(e:AssetCompleteEvent):void
+		{
+			loaded++;
+			lastCompleteAsset=e.asset;
+			AssetManager.gi().addAsset(e.asset.libraryName,e.asset.data,e.asset.source);
+			dispatchEvent(new AssetCompleteEvent(AssetCompleteEvent.COMPLETE,e.asset));
+			updateStatus();
+			updateLoading();
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Each item calls this method on any load errors.
+		 * 
+		 * @param e AssetErrorEvent
+		 */
+		public function error(e:AssetErrorEvent):void
+		{
+			trace("Error loading: "+e.asset.source);
+			loadErrors++;
+			updateStatus();
+			updateLoading();
+			dispatchEvent(new AssetErrorEvent(AssetErrorEvent.ERROR,e.asset));
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Each item calls this method on an http status that is
+		 * not 0 or 200.
+		 * 
+		 * @param e AssetStatusEvent
+		 */
+		public function httpStatus(e:AssetStatusEvent):void
+		{
+			trace("Error loading: "+e.asset.source);
+			loadErrors++;
+			updateStatus();
+			updateLoading();
+			dispatchEvent(new AssetStatusEvent(AssetStatusEvent.STATUS,e.asset,e.status));
+		}
+
+		/**
+		 * @private
+		 * 
+		 * Each item calls this method when it starts downloading.
+		 * 
+		 * @param e AssetOpenEvent
+		 */
+		public function open(e:AssetOpenEvent):void
+		{	
+			dispatchEvent(new AssetOpenEvent(AssetOpenEvent.OPEN,e.asset));
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/display/BaseErrorView.as b/src/as/net/guttershark/display/BaseErrorView.as
new file mode 100644
index 0000000..838a4ac
--- /dev/null
+++ b/src/as/net/guttershark/display/BaseErrorView.as
@@ -0,0 +1,45 @@
+package net.guttershark.display
+{
+	import flash.text.TextField;
+	import flash.utils.setTimeout;	
+
+	/**
+	 * The BaseErrorView class provides some default functionality
+	 * that might want to be used for an "error" state of a form.
+	 */
+	public class BaseErrorView extends BaseFormView
+	{
+		
+		/**
+		 * An error message text field.
+		 */
+		public var errorField:TextField;
+		
+		/**
+		 * Constructor for BaseErrorView instances.
+		 */
+		public function BaseErrorView()
+		{
+			super();
+		}
+		
+		/**
+		 * A stub method you can use to set a message.
+		 * 
+		 * @param str The message.
+		 */
+		public function set message(str:String):void{}
+		
+		/**
+		 * This is an alternative to the default method (show), which
+		 * autoHide's this error view, after a specified amount of time.
+		 * 
+		 * @param autoHideTimeout The time the error view is shown before it auto hides.
+		 */
+		public function showAndHide(autoHideTimeout:int=2000):void
+		{
+			super.show();
+			setTimeout(hide,autoHideTimeout);
+		}
+	}
+}
diff --git a/src/as/net/guttershark/display/BaseFormView.as b/src/as/net/guttershark/display/BaseFormView.as
new file mode 100644
index 0000000..08cc2ed
--- /dev/null
+++ b/src/as/net/guttershark/display/BaseFormView.as
@@ -0,0 +1,429 @@
+package net.guttershark.display
+{
+	import flash.display.MovieClip;	
+	
+	/**
+	 * The BaseFormView class defines the base form view
+	 * should implement, to follow a good pattern of the most commonly
+	 * used form functionality.
+	 */
+	public class BaseFormView extends BaseView
+	{
+		
+		/**
+		 * The byte place that turns on the cancel button.
+		 */
+		public static const CANCEL_BTN:int=1;
+		
+		/**
+		 * The byte place that turns on the ok button.
+		 */
+		public static const OK_BTN:int=2;
+		
+		/**
+		 * The byte place that turns on the confirm button.
+		 */
+		public static const CONFIRM_BTN:int=4;
+		
+		/**
+		 * The byte place that turns on the yes button.
+		 */
+		public static const YES_BTN:int=8;
+		
+		/**
+		 * The byte place that turns on the no button.
+		 */
+		public static const NO_BTN:int=16;
+		
+		/**
+		 * The byte place that turns on the delete button.
+		 */
+		public static const DELETE_BTN:int=32;
+		
+		/**
+		 * An ok button.
+		 */
+		public var okButton:MovieClip;
+		
+		/**
+		 * A cancel button.
+		 */
+		public var cancelButton:MovieClip;
+		
+		/**
+		 * A confirm button.
+		 */
+		public var confirmButton:MovieClip;
+		
+		/**
+		 * A yes button.
+		 */
+		public var yesButton:MovieClip;
+		
+		/**
+		 * A delete button.
+		 */
+		public var deleteButton:MovieClip;
+		
+		/**
+		 * A no button.
+		 */
+		public var noButton:MovieClip;
+		
+		/**
+		 * A container for BaseErrorView's to show and hide
+		 * during validation.
+		 */
+		public var errorViews:MovieClip;
+		
+		/**
+		 * A function delegate you should use and call
+		 * when the user cancels the form operation and
+		 * any validation has passed.
+		 */
+		public var onCancel:Function;
+		
+		/**
+		 * A function delegate you should use and call
+		 * when the user confirms the form operation and
+		 * any validation has passed.
+		 */
+		public var onConfirm:Function;
+		
+		/**
+		 * A function delegate you should use and
+		 * call when the user ok's a form operatoin
+		 * and any validation has passed.
+		 */
+		public var onOK:Function;
+		
+		/**
+		 * A function delegate you should use and call
+		 * when the user agrees to the form operation and
+		 * any validation has passed.
+		 */
+		public var onYes:Function;
+		
+		/**
+		 * A function delegate you should use and call
+		 * when the user declines the form operation and
+		 * any validation has passed.
+		 */
+		public var onNo:Function;
+		
+		/**
+		 * A function delegate you should use and call
+		 * when the user agrees to delete (something) and
+		 * any validation has passed.
+		 */
+		public var onDelete:Function;
+
+		/**
+		 * Constructor for CoreFormView instances.
+		 */
+		public function BaseFormView()
+		{
+			super();
+			if(cancelButton)cancelButton.visible=false;
+			if(yesButton)yesButton.visible=false;
+			if(noButton)noButton.visible=false;
+			if(confirmButton)confirmButton.visible=false;
+			if(okButton)okButton.visible=false;
+			if(deleteButton)deleteButton.visible=false;
+		}
+		
+		/**
+		 * Show this form view - this calls &lt;a href='#addKeyMappings()'>addKeyMappings()&lt;/a>
+		 * and &lt;a href='#selectField()'>selectField()&lt;/a>.
+		 */
+		override public function show():void
+		{
+			if(visible) return;
+			super.show();
+			addKeyMappings();
+			selectField();
+		}
+		
+		/**
+		 * Hide this form view - this calls &lt;a href='#removeKeyMappings()'>removeKeyMappings()&lt;/a> 
+		 * and &lt;a href='#deselectField()'>deselectField()&lt;/a>.
+		 */
+		override public function hide():void
+		{
+			if(!visible) return;
+			super.hide();
+			removeKeyMappings();
+			deselectField();
+		}
+		
+		/**
+		 * Override this and add key event mappings with the
+		 * keyboard event manager.
+		 * 
+		 * &lt;p>This is called when the view is shown.&lt;/p>
+		 */
+		protected function addKeyMappings():void{}
+		
+		/**
+		 * Override this and remove key event mappings with the
+		 * keyboard event manager.
+		 * 
+		 * &lt;p>This is called when the view is hidden.&lt;/p>
+		 */
+		protected function removeKeyMappings():void{}
+		
+		/**
+		 * Override this and do some select/focus logic for the form field.
+		 * 
+		 * &lt;p>The is called when the view is shown.&lt;/p>
+		 */
+		protected function selectField():void{}
+		
+		/**
+		 * Override this and do some deselect logic for the form fields.
+		 * 
+		 * &lt;p>This is called with the view is hidden.&lt;/p>
+		 */
+		protected function deselectField():void{}
+		
+		/**
+		 * Override this and do some form validation.
+		 */
+		protected function validate():Boolean
+		{
+			return false;
+		}
+		
+		/**
+		 * Override this method, and use as the the click event
+		 * handler for a "confirm" button - validate this
+		 * form and then call the onConfirm delegate function.
+		 * 
+		 * @example Correctly using a delegate function:
+		 * &lt;listing>	
+		 * public class MyFormView extends BaseFormView
+		 * {
+		 *     
+		 *     public var confirm:MovieClip;
+		 *     public var email:TextField;
+		 *     
+		 *     public function MyFormView()
+		 *     {
+		 *         super();
+		 *     }
+		 *     
+		 *     override protected function addEventHandlers():void
+		 *     {
+		 *         em.handleEvents(confirm,this,"onConfirm");
+		 *     }
+		 *     
+		 *     override protected function removeEventHandlers():void
+		 *     {
+		 *         em.disposeEvents(confirm);
+		 *     }
+		 *     
+		 *     override protected function validate():Boolean
+		 *     {
+		 *         if(!utils.string.isemail(email.text))
+		 *         {
+		 *             errorViews.badEmail.showAndHide(3000); //see BaseErrorView for showAndHide()
+		 *             return false;
+		 *         }
+		 *         return true;
+		 *     }
+		 *     
+		 *     override public function onConfirmClick():void
+		 *     {
+		 *         super.onConfirmClick();
+		 *         
+		 *         //in this case, the delegate function (onConfirm) 
+		 *         //would have to accept one parameter - an email.
+		 *         //This pattern is taken from apple's cocoa
+		 *         //framework. This type of pattern is extremly
+		 *         //useful, and leads to less bugs and good design.
+		 *         if(validate()) onConfirm(email.text);
+		 *     }
+		 * }
+		 * &lt;/listing>
+		 */
+		public function onConfirmClick():void{}
+		
+		/**
+		 * Override this method, and use as the the click event
+		 * handler for a "yes" button - validate this
+		 * form and then call the onYes delegate function.
+		 */
+		public function onYesClick():void{}
+		
+		/**
+		 * Override this method, and use as the the click event
+		 * handler for a "no" button - validate this
+		 * form and then call the onNo delegate function.
+		 */
+		public function onNoClick():void{}
+		
+		/**
+		 * Override this method, and use as the the click event
+		 * handler for a "delete" button - validate this
+		 * form and then call the onDelete delegate function.
+		 */
+		public function onDeleteClick():void{}
+		
+		/**
+		 * Override this method, and use as the click event
+		 * handler for an "ok" button - validate this
+		 * form and then call the onOK delegate function.
+		 */
+		public function onOKClick():void{};
+		
+		/**
+		 * Override this method and implement a modal blocker,
+		 * which can then be called when a sub form view is shown
+		 * and this view needs to be blocked from interaction.
+		 */
+		protected function blockForInput():void{}
+		
+		/**
+		 * Override this method, and disable a modal blocker.
+		 */
+		protected function unblockFromInput():void{}
+		
+		/**
+		 * Hide's any form buttons that are currently visible.
+		 */
+		public function hideButtons():void
+		{
+			if(okButton && okButton.visible) hideOKButton();
+			if(cancelButton && cancelButton.visible) hideCancelButton();
+			if(yesButton && yesButton.visible) hideYesButton();
+			if(noButton && noButton.visible) hideNoButton();
+			if(confirmButton && confirmButton.visible) hideConfirmButton();
+			if(deleteButton && deleteButton.visible) hideDeleteButton();
+		}
+		
+		/**
+		 * Hides the delete button.
+		 */
+		protected function hideDeleteButton():void
+		{
+			deleteButton.visible=false;
+		}
+		
+		/**
+		 * Hides the confirm button.
+		 */
+		protected function hideConfirmButton():void
+		{
+			confirmButton.visible=false;
+		}
+		
+		/**
+		 * Hides the no button.
+		 */
+		protected function hideNoButton():void
+		{
+			noButton.visible=false;
+		}
+		
+		/**
+		 * Hides the yes button.
+		 */
+		protected function hideYesButton():void
+		{
+			yesButton.visible=false;
+		}
+		
+		/**
+		 * Hides the cancel button.
+		 */
+		protected function hideCancelButton():void
+		{
+			cancelButton.visible=false;
+		}
+		
+		/**
+		 * Hides the ok button.
+		 */
+		protected function hideOKButton():void
+		{
+			okButton.visible=false;
+		}
+		
+		/**
+		 * Show any button, (yes,no,confirm,delete,ok,cancel)
+		 * based off of what is or'ed (|) together - for each
+		 * button that is shown, it calls the appropriate
+		 * method (showOKButton, showYesButton, etc), which
+		 * you could override if needed.
+		 * 
+		 * @example Showing combinations of buttons:
+		 * &lt;listing>	
+		 * myView.showButtons(BaseFormView.OK_BTN|BaseFormView.CANCEL_BTN);
+		 * myView.showButtons(BaseFormView.YES_BTN|BaseFormView.NO_BTN);
+		 * &lt;/listing>
+		 */
+		public function showButtons(buttons:uint):void
+		{
+			if(buttons&CANCEL_BTN) showCancelButton();
+			if(buttons&OK_BTN) showOKButton();
+			if(buttons&CONFIRM_BTN) showConfirmButton();
+			if(buttons&YES_BTN) showYesButton();
+			if(buttons&NO_BTN) showNoButton();
+			if(buttons&DELETE_BTN) showDeleteButton();
+		}
+		
+		/**
+		 * Shows the ok button, (sets visible to true),
+		 * override to use something other than visible.
+		 */
+		protected function showOKButton():void
+		{
+			okButton.visible=true;
+		}
+		
+		/**
+		 * Shows the cancel button, (sets visible to true),
+		 * override to use something other than visible.
+		 */
+		protected function showCancelButton():void
+		{
+			cancelButton.visible=true;
+		}
+		
+		/**
+		 * Shows the confirm button, (sets visible to true),
+		 * override to use something other than visible.
+		 */
+		protected function showConfirmButton():void
+		{
+			confirmButton.visible=true;
+		}
+		
+		/**
+		 * Shows the yes button, (sets visible to true),
+		 * override to use something other than visible.
+		 */
+		protected function showYesButton():void
+		{
+			yesButton.visible=true;
+		}
+		
+		/**
+		 * Shows the no button, (sets visible to true),
+		 * override to use something other than visible.
+		 */
+		protected function showNoButton():void
+		{
+			noButton.visible=true;
+		}
+		
+		/**
+		 * Shows the delete button, (sets visible to true),
+		 * override to use something other than visible.
+		 */
+		protected function showDeleteButton():void
+		{
+			deleteButton.visible=true;
+		}
+	}
+}
diff --git a/src/as/net/guttershark/display/BaseView.as b/src/as/net/guttershark/display/BaseView.as
new file mode 100644
index 0000000..4069338
--- /dev/null
+++ b/src/as/net/guttershark/display/BaseView.as
@@ -0,0 +1,165 @@
+package net.guttershark.display
+{
+	import flash.events.Event;
+	
+	import net.guttershark.display.CoreClip;	
+
+	/**
+	 * The BaseView class is the base for any views, and provides
+	 * common hooks and properties.
+	 */
+	public class BaseView extends CoreClip
+	{
+				
+		/**
+		 * A controller for this view.
+		 */
+		public var controller:*;
+
+		/**
+		 * Constructor for BaseView instances.
+		 */
+		public function BaseView()
+		{
+			super();
+			addEventListener(Event.ADDED_TO_STAGE,ona,false,10,true);
+			addEventListener(Event.REMOVED_FROM_STAGE,onre,false,10,true);
+			addEventListener(Event.ACTIVATE,onac,false,10,true);
+			addEventListener(Event.DEACTIVATE,ond,false,10,true);
+			addEventListener(Event.MOUSE_LEAVE,onml,false,10,true);
+			init();
+		}
+
+		/**
+		 * Initialize this view - called from the constructor.
+		 */
+		protected function init():void{}
+		
+		/**
+		 * on mouse leave.
+		 */
+		private function onml(e:Event):void
+		{
+			onMouseLeave();
+		}
+		
+		/**
+		 * A method you can override to hook into the mouse
+		 * leve event.
+		 */
+		protected function onMouseLeave():void{}
+
+		/**
+		 * on add handler.
+		 */
+		private function ona(e:Event):void
+		{
+			stage.addEventListener(Event.RESIZE,onr,false,0,true);
+			onAddedToStage();
+		}
+		
+		/**
+		 * on removed handler.
+		 */
+		private function onre(e:Event):void
+		{
+			stage.removeEventListener(Event.RESIZE, onResize);
+			onRemovedFromStage();
+		}
+		
+		/**
+		 * When the flash player loses operating system focus.
+		 */
+		private function ond(e:Event):void
+		{
+			onDeactive();
+		}
+		
+		/**
+		 * When the flash player gains operating system focus.
+		 */
+		private function onac(e:Event):void
+		{
+			onActivate();
+		}
+		
+		/**
+		 * The resize handler.
+		 */
+		private function onr(e:Event):void
+		{
+			onResize();
+		}
+		
+		/**
+		 * Override this method to hook into resize events from the stage.
+		 */
+		protected function onResize():void{}
+		
+		/**
+		 * Override this method to hook into the deactivate event.
+		 */
+		protected function onDeactive():void{}
+		
+		/**
+		 * Override this method to hook into the activate event.
+		 */
+		protected function onActivate():void{}
+		
+		/**
+		 * Override this method to hook into the added to stage event.
+		 * 
+		 * &lt;p>This method calls &lt;a href='#addEventHandlers()'>addEventHandlers()&lt;/a> and &lt;a href='#onResize()'>onResize()&lt;/a>.&lt;/p>
+		 */
+		protected function onAddedToStage():void
+		{
+			addEventHandlers();
+			onResize();
+		}
+		
+		/**
+		 * Override this method to hook into the removed from stage event.
+		 * 
+		 * &lt;p>This method also calls &lt;a href='#removeEventHandlers()'>removeEventHandlers()&lt;/a>.&lt;/p>
+		 */
+		protected function onRemovedFromStage():void
+		{
+			removeEventHandlers();
+		}
+		
+		/**
+		 * Override this method, and use the event manager to add event handlers
+		 * on your objects.
+		 */
+		protected function addEventHandlers():void{}
+		
+		/**
+		 * Override this method, and remove events from objects that were registered
+		 * with the event manager.
+		 */
+		protected function removeEventHandlers():void{}
+		
+		/**
+		 * Override this method and write your own dispose logic.
+		 */
+		override public function dispose():void{}
+		
+		/**
+		 * Show this view, set's the visible property to true.
+		 */
+		public function show():void
+		{
+			if(visible)return;
+			visible=true;
+		}
+		
+		/**
+		 * Hide this view, set's the visible property to false.
+		 */
+		public function hide():void
+		{
+			if(!visible)return;
+			visible=false;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/display/CoreClip.as b/src/as/net/guttershark/display/CoreClip.as
new file mode 100644
index 0000000..293440a
--- /dev/null
+++ b/src/as/net/guttershark/display/CoreClip.as
@@ -0,0 +1,143 @@
+package net.guttershark.display
+{
+	import net.guttershark.control.PreloadController;
+	import net.guttershark.managers.AssetManager;
+	import net.guttershark.managers.ContextMenuManager;
+	import net.guttershark.managers.EventManager;
+	import net.guttershark.managers.KeyManager;
+	import net.guttershark.managers.LayoutManager;
+	import net.guttershark.managers.ServiceManager;
+	import net.guttershark.managers.SoundManager;
+	import net.guttershark.model.Model;
+	import net.guttershark.util.Assertions;
+	import net.guttershark.util.Utilities;
+	
+	import flash.display.MovieClip;	
+
+	/**
+	 * The CoreClip class is a base class that provides
+	 * common properties and methods that are used over
+	 * and over in movie clips - this class is relief
+	 * from having to type the same code over and over.
+	 */
+	public class CoreClip extends MovieClip
+	{
+
+		/**
+		 * The EventManager singleton instance.
+		 */
+		protected var em:EventManager;
+		
+		/**
+		 * The Model singleton instance.
+		 */
+		protected var ml:Model;
+		
+		/**
+		 * The KeyboardEventManager singleton instance.
+		 */
+		protected var km:KeyManager;
+		
+		/**
+		 * A placeholder variable for a PreloadController instance - you should initialize this yourself.
+		 */
+		protected var pc:PreloadController;
+		
+		/**
+		 * The AssetManager singleton instance.
+		 */
+		protected var am:AssetManager;
+		
+		/**
+		 * The ServiceManager singleton instance.
+		 */
+		protected var sm:ServiceManager;
+
+		/**
+		 * The SoundManager singleton instance.
+		 */
+		protected var snm:SoundManager;
+		
+		/**
+		 * The Assertions singleton instance.
+		 */
+		protected var ast:Assertions;
+
+		/**
+		 * An instance of a layout manager.
+		 */
+		protected var lm:LayoutManager;
+		
+		/**
+		 * The Utilities singleton instance.
+		 */
+		protected var utils:Utilities;
+		
+		/**
+		 * An instance of the context menu manager.
+		 */
+		protected var cmm:ContextMenuManager;
+
+		/**
+		 * Constructor for CoreClips instances.
+		 */
+		public function CoreClip()
+		{
+			super();
+			em=EventManager.gi();
+			ml=Model.gi();
+			lm=new LayoutManager(this);
+			km=KeyManager.gi();
+			am=AssetManager.gi();
+			sm=ServiceManager.gi();
+			snm=SoundManager.gi();
+			ast=Assertions.gi();
+			utils=Utilities.gi();
+			cmm=ContextMenuManager.gi();
+		}
+
+		/**
+		 * Dispose of references to pre-defined properties. The only thing
+		 * this method does is set references to null. If you have custom
+		 * key mappings, or custom event handling with a singleton instance, you should
+		 * override dispose, clear up your own custom stuff, then call super.dispose();
+		 * 
+		 * @example Cleaning up a subclassed CoreClip
+		 * &lt;listing>	
+		 * public class MyMC extends CoreClip
+		 * {
+		 *     public var themc:MovieClip;
+		 *     public function MyMC()
+		 *     {
+		 *         super();
+		 *         em.handleEvents(themc,this,"onTheMC");
+		 *     }
+		 *     
+		 *     public function onTheMCClick():void
+		 *     {
+		 *         trace("clicked");
+		 *     }
+		 *     
+		 *     override public function dispose():void
+		 *     {
+		 *         em.disposeEventsForObject(themc);
+		 *         super.dispose();
+		 *     }
+		 * }
+		 * &lt;/listing>
+		 */
+		public function dispose():void
+		{
+			em=null;
+			ml=null;
+			lm=null;
+			km=null;
+			am=null;
+			sm=null;
+			snm=null;
+			ast=null;
+			utils=null;
+			cmm=null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/display/CoreSprite.as b/src/as/net/guttershark/display/CoreSprite.as
new file mode 100644
index 0000000..0a1c25c
--- /dev/null
+++ b/src/as/net/guttershark/display/CoreSprite.as
@@ -0,0 +1,143 @@
+package net.guttershark.display
+{
+	import net.guttershark.control.PreloadController;
+	import net.guttershark.managers.AssetManager;
+	import net.guttershark.managers.ContextMenuManager;
+	import net.guttershark.managers.EventManager;
+	import net.guttershark.managers.KeyManager;
+	import net.guttershark.managers.LayoutManager;
+	import net.guttershark.managers.ServiceManager;
+	import net.guttershark.managers.SoundManager;
+	import net.guttershark.model.Model;
+	import net.guttershark.util.Assertions;
+	import net.guttershark.util.Utilities;
+	
+	import flash.display.Sprite;	
+
+	/**
+	 * The CoreSprite class is a base class that provides
+	 * common properties and methods that are used over
+	 * and over in sprites - this class is relief
+	 * from having to type the same code over and over.
+	 */
+	public class CoreSprite extends Sprite
+	{
+
+		/**
+		 * The EventManager singleton instance.
+		 */
+		protected var em:EventManager;
+		
+		/**
+		 * The Model singleton instance.
+		 */
+		protected var ml:Model;
+		
+		/**
+		 * The KeyboardEventManager singleton instance.
+		 */
+		protected var km:KeyManager;
+		
+		/**
+		 * A placeholder variable for a PreloadController instance. You should initialize this yourself.
+		 */
+		protected var pc:PreloadController;
+		
+		/**
+		 * The AssetManager singleton instance.
+		 */
+		protected var am:AssetManager;
+
+		/**
+		 * The ServiceManager singleton instance.
+		 */
+		protected var sm:ServiceManager;
+
+		/**
+		 * The SoundManager singleton instance.
+		 */
+		protected var snm:SoundManager;
+
+		/**
+		 * The Assertions singleton instance.
+		 */
+		protected var ast:Assertions;
+
+		/**
+		 * An instance of a layout manager.
+		 */
+		protected var lm:LayoutManager;
+		
+		/**
+		 * The Utilities singleton instance.
+		 */
+		protected var utils:Utilities;
+
+		/**
+		 * An instance of the context menu manager.
+		 */
+		protected var cmm:ContextMenuManager;
+
+		/**
+		 * Constructor for CoreSprite instances.
+		 */
+		public function CoreSprite()
+		{
+			super();
+			em=EventManager.gi();
+			ml=Model.gi();
+			lm=new LayoutManager(this);
+			km=KeyManager.gi();
+			am=AssetManager.gi();
+			sm=ServiceManager.gi();
+			snm=SoundManager.gi();
+			ast=Assertions.gi();
+			utils=Utilities.gi();
+			cmm=ContextMenuManager.gi();
+		}
+
+		/**
+		 * Dispose of references to pre-defined properties. The only thing
+		 * this method does is set references to null. If you have custom
+		 * key mappings, or custom event handling with a singleton instance, you should
+		 * override dispose, clear up your own custom stuff, then call super.dispose();
+		 * 
+		 * @example Cleaning up a subclassed CoreSprite
+		 * &lt;listing>	
+		 * public class MyMC extends CoreSprite
+		 * {
+		 *     public var themc:MovieClip;
+		 *     public function MyMC()
+		 *     {
+		 *         super();
+		 *         em.handleEvents(themc,this,"onTheMC");
+		 *     }
+		 *     
+		 *     public function onTheMCClick():void
+		 *     {
+		 *         trace("clicked");
+		 *     }
+		 *     
+		 *     override public function dispose():void
+		 *     {
+		 *         em.disposeEventsForObject(themc);
+		 *         super.dispose();
+		 *     }
+		 * }
+		 * &lt;/listing>
+		 */
+		public function dispose():void
+		{
+			em=null;
+			ml=null;
+			lm=null;
+			km=null;
+			am=null;
+			sm=null;
+			snm=null;
+			ast=null;
+			utils=null;
+			cmm=null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/display/FLV.as b/src/as/net/guttershark/display/FLV.as
new file mode 100644
index 0000000..e4624f2
--- /dev/null
+++ b/src/as/net/guttershark/display/FLV.as
@@ -0,0 +1,4 @@
+﻿package net.guttershark.display
{
	import net.guttershark.managers.AssetManager;
	import net.guttershark.support.events.FLVEvent;
	import net.guttershark.util.MathUtils;
	
	import flash.events.EventDispatcher;
	import flash.events.NetStatusEvent;
	import flash.events.TimerEvent;
	import flash.media.SoundTransform;
	import flash.media.Video;
	import flash.net.NetConnection;
	import flash.net.NetStream;
	import flash.utils.Timer;
	import flash.utils.setTimeout;	

	/**
	 * Dispatched when the flv starts playing. The event
	 * manager can handle this event, as "Start".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("start", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when the flv stops playing. The event
	 * manager can handle this event, as "Stop".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("stop", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched for progress of the flv. The event
	 * manager can handle this event, as "Progress".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("progress", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when meta data is received for the current flv. The event
	 * manager can handle this event, as "Meta".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("metaData", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when the buffer is empty. The event
	 * manager can handle this event, as "BufferEmpty".
	 * When this is dispatched, you should pause the video,
	 * and wait for the buffer full event.
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("bufferEmpty", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when the buffer is full. The event
	 * manager can handle this event, as "BufferFull".
	 * When this is dispatched, you can begin playing
	 * the video again - call play or resume.
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("bufferFull", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when the buffer was flushed. The event
	 * manager can handle this event, as "BufferFlush".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("bufferFlush", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when an invalid seek time was attempted. The event
	 * manager can handle this event, as "SeekInvalidTime".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("seekInvalidTime", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when a seek occurs. The event
	 * manager can handle this event, as "SeekNotify".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("seekNotify", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when a stream was not found. The event
	 * manager can handle this event, as "StreamNotFound".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("streamNotFound", type="net.guttershark.support.events.FLVEvent")]
	
	/**
	 * Dispatched when a cue point is reached. The event
	 * manager can handle this event, as "CuePoint".
	 * 
	 * @eventType net.guttershark.support.events.FLVEvent
	 */
	[Event("cuePoint", type="net.guttershark.support.events.FLVEvent")]
	
+	/**
	 * The FLV class is the most basic way to play an FLV. All attempts
	 * to play a video first checks the AssetManager for a net stream,
	 * or a new net stream is created and registered with the
	 * asset manager for later use. At no point does the net stream
	 * get &lt;em>closed&lt;/em> - so that it stays in memory. If you need to close
	 * net streams, you'll have to do it manually with the asset manager.
	 */
	public class FLV extends EventDispatcher
	{
		
		/**
		 * Whether or not to trace out status events
		 * from the net stream.
		 */
		public var traceStatuses:Boolean;
		
+		/**
		 * @private
		 * The net stream object.
		 */
		protected var stream:NetStream;
		
		/**
		 * @private
		 * The net connection for the flv.
		 */
		protected var nc:NetConnection;
		
		/**
		 * @private
		 * The video object.
		 */
		protected var display:Video;
		
		/**
		 * @private
		 * The url currently playing.
		 */
+		protected var url:String;
		
		/**
		 * @private
		 * Pased flag.
		 */
		protected var paused:Boolean;
		
		/**
		 * @private
		 * Started flag.
		 */
		protected var started:Boolean;
		
		/**
		 * @private
		 * The duration of the current flv.
		 */
		protected var duration:Number;
		
		/**
		 * @private
		 * Meta data.
		 */
		protected var metadata:Object;
		
		/**
		 * @private
		 * The last seekable time.
		 */
		protected var lastSeekableTime:Number;
		
		/**
		 * @private
		 * The math utils singleton.
		 */
		protected var mu:MathUtils;

		/**
		 * The amount of pixels to use when calculating
		 * how many pixels have played and how many
		 * pixels for buffer are full.
		 */
		public var pixelsToFill:int;

		/**
		 * A timer that polls the net stream for status.
		 */
		private var checkTimer:Timer;
		
		/**
		 * The asset manager instance.
		 */
		private var am:AssetManager;
		
		/**
		 * Flag for buffering.
		 */
		private var buffering:Boolean;
		
		/**
		 * Flag for the buffer full event - which doesn't
		 * always dispatch when the buffer is indeed full.
		 */
		private var dispatchedBufferFull:Boolean;
		
		/**
		 * A count for the dispatchedBufferFull flag - which
		 * determines when an event is forcefully dispatched.
		 */
		private var checkBufferCount:Number;

		/**
		 * Constructor for FLV instances.
		 * 
		 * @param width The width of the video object.
		 * @param height The height of the video object.
		 * @param smoothing Whether or not smoothing is applied.
		 * @param updateInterval The millisecond interval to poll for progress and buffer.
		 * @param pixelsToFill The amount of pixels to fill for a progress status bar.
		 */
		public function FLV(pixelsToFill:int=100,updateIntervalMS:int=400)
		{
			super();
			this.pixelsToFill=pixelsToFill;
			am=AssetManager.gi();
			mu=MathUtils.gi();
			duration=1000000000;
			checkTimer=new Timer(updateIntervalMS);
			checkTimer.addEventListener(TimerEvent.TIMER,ontick,false,0,true);
			display=new Video();
			checkBufferCount=0;
		}

		/**
		 * Loads the video, and optionally shows the first frame.
		 * 
		 * @param url The url of the FLV to load.
		 * @param width The width of the video.
		 * @param height The height of the video.
		 * @param buffer Seconds of buffer to maintain.
		 * @param autoPlay Whether or not to auto play the video.
		 * @param showFirstFrame Whether or not to show the first frame of the flv if auto play is false.
		 */
		public function load(url:String,width:int=320,height:int=240,buffer:uint=4,autoPlay:Boolean=false,showFirstFrame:Boolean=true):void
		{
			if(this.url&&this.url==url) return;
			this.url=url;
			started=false;
			paused=false;
			if(!nc)
			{
				nc=new NetConnection();
				nc.connect(null);
			}
			if(!display) display=new Video(width,height);
			else if(width != display.width && height != display.height)
			{
				display.width=width;
				display.height=height;
			}
			display.smoothing=true;
			display.clear();
			if(stream)
			{
				stream.pause();
				stream.removeEventListener(NetStatusEvent.NET_STATUS,onNSStatus);
			}
			if(am.isAvailable(url)) stream=am.getNetStream(url);
			else
			{
				stream=new NetStream(nc);
				am.addAsset(url,stream);
			}
			stream.addEventListener(NetStatusEvent.NET_STATUS,onNSStatus,false,0,true);
			stream.client=this;
			stream.bufferTime=buffer;
			display.clear();
			display.attachNetStream(stream);
			buffering=true;
			if(autoPlay) play();
			if(!autoPlay) pause();
			else if(!autoPlay && showFirstFrame) setTimeout(seek,500,0);
			checkTimer.start();
		}
		
		/**
		 * The update interval for progress updates.
		 */
		public function set updateInterval(val:Number):void
		{
			if(checkTimer.delay==val)return;
			if(checkTimer.running)
			{
				checkTimer.stop();
				checkTimer.removeEventListener(TimerEvent.TIMER,ontick);
				checkTimer=new Timer(val);
				checkTimer.addEventListener(TimerEvent.TIMER,ontick);
				checkTimer.start();
			}
			else
			{
				checkTimer.removeEventListener(TimerEvent.TIMER,ontick);
				checkTimer.addEventListener(TimerEvent.TIMER,ontick);
			}
		}
		
		/**
		 * The update interval for progress.
		 */
		public function get updateInterval():Number
		{
			return checkTimer.delay;
		}
		
		/**
		 * Start the timer, it it's not already running.
		 */
		private function startTimer():void
		{
			if(!checkTimer.running) checkTimer.start();
		}
		
		/**
		 * Stop the timer.
		 */
		private function stopTimer():void
		{
			checkTimer.stop();
		}
		
		/**
		 * Set the video display width.
		 */
		public function set width(w:int):void
		{
			display.width=w;
		}
		
		/**
		 * Set the video display height.
		 */
		public function set height(h:int):void
		{
			display.height=h;
		}
		
		/**
		 * Set the smoothing property on the video.
		 */
		public function set smoothing(v:Boolean):void
		{
			display.smoothing=v;
		}
		
		/**
		 * Play the flv.
		 */
		public function play():void
		{
			startTimer();
			display.clear();
			if(started||stream.bytesLoaded>0)
			{
				stream.seek(0);
				stream.resume();
			}
			else stream.play(url);
			started=true;
			paused=false;
		}
		
		/**
		 * Seeks to 0 and plays.
		 */
		public function playFromBeginning():void
		{
			seek(0);
			play();
		}
		
		/**
		 * Stop the flv.
		 */
		public function stop():void
		{
			stream.pause();
			started=false;
			paused=false;
		}
		
		/**
		 * Stop the flv, and seeks to the specified position.
		 * 
		 * @param position The seek position.
		 */
		public function seekToAndStop(position:Number=0):void
		{
			stop();
			seek(position);
		}
		
		/**
		 * Pause the flv.
		 */
		public function pause():void
		{
			if(!paused && started)
			{
				paused=true;
				stream.pause();
			}
		}

		/**
		 * Resume the flv playback.
		 */
		public function resume():void
		{
			if(paused && started)
			{
				startTimer();
				paused=false;
				stream.resume();
			}
		}

		/**
		 * Pauses or resumes the flv.
		 */
		public function pauseResume():void
		{
			if(paused) resume();
			else pause();
		}
		
		/**
		 * Fast-forward playback.
		 * 
		 * @param step seconds to step forward.
		 */
		public function forward(step:Number=2):void
		{
			seek(getTime()+step);
		}

		/**
		 * Rewind playback.
		 * 
		 * @param step seconds to step backwards.
		 */
		public function rewind(step:Number=2):void
		{
			seek(getTime()-step);
		}
		
		/**
		 * Check if the FLV is paused.
		 */
		public function isPaused():Boolean
		{
			return paused;
		}

		/**
		 * Check if the FLV is playing.
		 */
		public function isPlaying():Boolean 
		{
			return started;
		}

		/**
		 * Check if the FLV is stopped.
		 */
		public function isStopped():Boolean
		{
			return !started;
		}

		/**
		 * @private
		 * The current time of the flv.
		 */
		public function getTime():Number
		{
			return stream.time;
		}
		
		/**
		 * Get the current time.
		 */
		public function get currentTime():Number
		{
			return stream.time;
		}
		
		/**
		 * Get the total time.
		 */
		public function get totalTime():Number
		{
			return duration;
		}
		
		/**
		 * Seek to a playback time - note that unless you're using
		 * a flash media server, it will only seek to the nearest
		 * key frame (i-frame) (see video docs in flash help for more info).
		 * 
		 * @param time The time in seconds to seek to.
		 */
		public function seek(time:Number):void
		{
			stream.seek(resolveTime(time));
		}

		/**
		 * Seek to a playback percent.
		 * 
		 * @param percent of playback to seek to.
		 */
		public function seekToPercent(percent:Number):void
		{
			seek(duration*percent/100);
		}
		
		/**
		 * Seek to a width based off of the pixels to fill
		 * (pixelsToFill) property. For example, if the pixels
		 * to fill was 300, you could seek anywhere between
		 * 0-300.
		 * 
		 * @param pixel The width to seek to.
		 */
		public function seekToPixel(pixel:int):void
		{
			if(pixelsToFill &lt; 1)
			{
				trace("WARNING: pixelsToFill is less than 1, no seeking will occur.");
				return;
			}
			seek(resolveTime(mu.spread(pixel,pixelsToFill,duration)));
		}
		
		/**
		 * The percent of the video that has played.
		 */
		public function get percentPlayed():Number
		{
			return Math.ceil(getTime()*100/duration);
		}
				
		/**
		 * The percent of the video that has loaded.
		 */
		public function get percentLoaded():Number
		{
			var b:Number=Math.round(stream.bytesLoaded/stream.bytesTotal*100);
			return (isNaN(b))?0:b;
		}

		/**
		 * The percent of the total buffer that is full.
		 */
		public function get percentBuffered():Number
		{
			var total:Number=Math.min(duration,stream.bufferTime);
			var b:Number=Math.min(Math.round(stream.bufferLength/total*100),100);
			return (isNaN(b))?0:b;
		}
		
		/**
		 * @private
		 * The amount of pixels that are full. For example, you might 
		 * set the pixels to fill to 300, and if only half of the buffer
		 * is full, you'd get back the number 150.
		 */
		public function get pixelsBuffered():Number
		{
			return mu.spread(stream.bufferLength,stream.bufferTime,pixelsToFill);
		}
		
		/**
		 * The amount of pixels that are full. For example, you might
		 * set the pixels to fill to 300, and if the movie is 50% played
		 * through, you'd get back the number 150. Which correlates to
		 * 50% of 300.
		 */
		public function get pixelsPlayed():Number
		{
			return mu.spread(getTime(),duration,pixelsToFill);
		}
				
		/**
		 * Set the video volume.
		 * 
		 * @param volume The volume level - 0-1.
		 */
		public function set volume(volume:Number):void
		{
			stream.soundTransform.volume=volume;
		}
		
		/**
		 * The volume of the video player.
		 */
		public function get volume():Number
		{
			var st:SoundTransform=stream.soundTransform;
			return st.volume;
		}
		
		/**
		 * The sound transform of the stream.
		 */
		public function get soundTransform():SoundTransform
		{
			if(stream) return stream.soundTransform;
			return null;
		}
		
		/**
		 * Sets the sound transform on the stream.
		 */
		public function set soundTransform(st:SoundTransform):void
		{
			stream.soundTransform=st;
		}

		/**
		 * The internal video object used to display the
		 * flv.
		 */
		public function get video():Video
		{
			return display;
		}

		/**
		 * The currently playing net stream.
		 */
		public function get netStream():NetStream
		{
			return stream;
		}

		/**
		 * @private
		 * 
		 * Formats time so that it fits inside the available seek scope.
		 * 
		 * @param time The time from the net stream.
		 */
		protected function resolveTime(time:Number):Number
		{
			var maxTime:Number=(!isNaN(lastSeekableTime))?lastSeekableTime:duration;
			return Math.max(Math.min(time,maxTime),0);
		}

		/**
		 * Stops playback, closes the net stream, and
		 * removes the net stream from the asset manager.
		 */
		public function dispose():void
		{
			stop();
			stopTimer();
			if(checkTimer) checkTimer.removeEventListener(TimerEvent.TIMER,ontick);
			if(stream)
			{
				if(am.isAvailable(url)) am.removeAsset(url);
				stream.removeEventListener(NetStatusEvent.NET_STATUS,onNSStatus);
				stream.close();
			}
			if(display) display.clear();
			if(nc) nc.close();
			display=null;
			stream=null;
			nc=null;
		}
		
		/**
		 * @private
		 * 
		 * Progress frame loop to keep client progress up to date.
		 */
		protected function ontick(te:TimerEvent):void
		{
			if(hasEventListener(FLVEvent.PROGRESS))dispatchEvent(new FLVEvent(FLVEvent.PROGRESS,url,percentLoaded,percentPlayed,percentBuffered,pixelsBuffered,pixelsPlayed,null,metadata,stream.bytesLoaded,stream.bytesTotal));			
			if(percentBuffered>=100)
			{
				checkBufferCount++;
				if(checkBufferCount>4 && !dispatchedBufferFull)
				{
					dispatchEvent(new FLVEvent(FLVEvent.BUFFER_FULL));
					buffering=false;
					dispatchedBufferFull=true;
					checkBufferCount=0;
				}
			}
		}
		
		/**
		 * @private
		 * NetStatus handler.
		 */
		protected function onNSStatus(stats:NetStatusEvent):void
		{
			if(traceStatuses) trace("netstat: ",stats.info.code);
			switch(stats.info.code)
			{
				case "NetStream.Buffer.Empty":
					buffering=true;
					dispatchedBufferFull=false;
					dispatchEvent(new FLVEvent(FLVEvent.BUFFER_EMPTY));
					break;
				case "NetStream.Buffer.Full":
					buffering=false;
					dispatchedBufferFull=true;
					dispatchEvent(new FLVEvent(FLVEvent.BUFFER_FULL));
					break;
				case "NetStream.Buffer.Flush":
					buffering=false;
					dispatchEvent(new FLVEvent(FLVEvent.BUFFER_FLUSH));
					break;
				case "NetStream.Play.Start":
					dispatchEvent(new FLVEvent(FLVEvent.START));
					break;
				case "NetStream.Play.Stop":
					dispatchEvent(new FLVEvent(FLVEvent.STOP));
					break;
				case "NetStream.Play.StreamNotFound":
					stopTimer();
					dispatchEvent(new FLVEvent(FLVEvent.STREAM_NOT_FOUND,url));
					break;
				case "NetStream.Seek.InvalidTime":
					dispatchEvent(new FLVEvent(FLVEvent.SEEK_INVALID_TIME));
					break;
				case "NetStream.Seek.Notify":
					dispatchEvent(new FLVEvent(FLVEvent.SEEK_NOTIFY));
					break;
			}
		}
		
		/**
		 * @private
		 * CuePoint handler.
		 */
		public function onCuePoint(infoObject:Object):void
		{
			if(buffering) return;
			dispatchEvent(new FLVEvent(FLVEvent.METADATA,url,percentLoaded,percentPlayed,percentBuffered,pixelsBuffered,pixelsPlayed,infoObject,null));
		}
		
		/**
		 * @private
		 * Meta data handler.
		 */
		public function onMetaData(metadata:Object):void
		{
			this.metadata=metadata;
			duration=metadata.duration;
			lastSeekableTime=metadata.lastkeyframetimestamp;
			dispatchEvent(new FLVEvent(FLVEvent.METADATA,url,percentLoaded,percentPlayed,percentBuffered,pixelsBuffered,pixelsPlayed,null,metadata));
		}
	}
}		
\ No newline at end of file
diff --git a/src/as/net/guttershark/display/MovieClipButton.as b/src/as/net/guttershark/display/MovieClipButton.as
new file mode 100644
index 0000000..c283430
--- /dev/null
+++ b/src/as/net/guttershark/display/MovieClipButton.as
@@ -0,0 +1,332 @@
+package net.guttershark.display
+{
+	import flash.display.MovieClip;
+	import flash.display.Stage;
+	import flash.events.Event;
+	import flash.events.MouseEvent;
+	
+	import net.guttershark.managers.SoundManager;	
+
+	/**
+	 * The MovieClipButton class is a generic class you can bind
+	 * any movie clip to in the Library, and get canned button states.
+	 * 
+	 * &lt;p>A frame in the movie clip represents a state that the button
+	 * is in.&lt;/p>
+	 * 
+	 * &lt;p>Default frame states:&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>1=normal state&lt;/li>
+	 * &lt;li>2=over state&lt;/li>
+	 * &lt;li>3=down state&lt;/li>
+	 * &lt;li>4=locked frame. Toggle the lock state by setting the &lt;code>locked&lt;/code> property.&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>Sound support is also available for each of the button states.&lt;/p>
+	 *  
+	 * &lt;p>Sound Properties&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>overSound&lt;/li>
+	 * &lt;li>downSound&lt;/li>
+	 * &lt;li>upSound&lt;/li>
+	 * &lt;li>outSound&lt;/li>
+	 * &lt;li>lockedSound&lt;/li>
+	 * &lt;li>unlockedSound&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>This class also uses high priority event listeners for mouse events.
+	 * When you set the &lt;code>locked&lt;/code> property, all MouseEvents will &lt;strong>not&lt;/strong>
+	 * be dispatched. If you absolutely need mouse events even though the button is locked,
+	 * you can add an event listener with a higher priority than 10.&lt;/p>
+	 */
+	public dynamic class MovieClipButton extends MovieClip
+	{
+
+		/**
+		 * Event identifier for the unlocked state
+		 */
+		public static const UNLOCKED:String="unlocked";
+		
+		/**
+		 * Event identifier for the locked state
+		 */
+		public static const LOCKED:String="locked";
+			
+		/**
+		 * The frame to go to for the normal state.
+		 */
+		public var normalFrame:int=1;
+		
+		/**
+		 * The frame to go to for the over state.
+		 */
+		public var overFrame:int=2;
+		
+		/**
+		 * The frame to go to for the down state.
+		 */
+		public var downFrame:int=3;
+		
+		/**
+		 * The frame to go to for the (optional)
+		 * locked state.
+		 */
+		public var lockedFrame:int=4;
+		
+		/**
+		 * The over sound to play. The SoundManager class
+		 * is used internally here, so that sound should have been
+		 * registered with the SoundManager previously.
+		 */
+		public var overSound:String;
+		
+		/**
+		 * The out sound to play. The SoundManager class
+		 * is used internally here, so that sound should have been
+		 * registered with the SoundManager previously.
+		 */
+		public var outSound:String;
+		
+		/**
+		 * The down sound to play. The SoundManager class
+		 * is used internally here, so that sound should have been
+		 * registered with the SoundManager previously.
+		 */
+		public var downSound:String;
+		
+		/**
+		 * The up sound to play. The SoundManager class
+		 * is used internally here, so that sound should have been
+		 * registered with the SoundManager previously.
+		 */
+		public var upSound:String;
+		
+		/**
+		 * The sound to play when this button is locked. The SoundManager class
+		 * is used internally here, so that sound should have been
+		 * registered with the SoundManager previously.
+		 */
+		public var lockSound:String;
+		
+		/**
+		 * The sound to play when this movie clip is unlocked. The SoundManager class
+		 * is used internally here, so that sound should have been
+		 * registered with the SoundManager previously.
+		 */
+		public var unlockSound:String;
+		
+		/**
+		 * Set whether or not this button is lockable.
+		 * If so, it uses the lockedFrame when enabled
+		 * is set to false.
+		 */
+		public var lockable:Boolean=false;
+		
+		/**
+		 * @private
+		 */
+		protected var over:Boolean=false;
+		
+		/**
+		 * @private
+		 */
+		protected var down:Boolean=false;
+		
+		/**
+		 * @private
+		 */
+		protected var _locked:Boolean=false;
+		
+		/**
+		 * Sound manager.
+		 */
+		private var sm:SoundManager;
+		
+		/**
+		 * listeners added or not.
+		 */
+		private var listeners:Boolean;
+		
+		/**
+		 * stage reference for on mouse up outside problem.
+		 */
+		private var st:Stage;
+
+		/**
+		 * Constructor for MovieClipButton instances. Generally you want to 
+		 * bind this class to a movie clip in the library.
+		 */
+		public function MovieClipButton()
+		{
+			super();
+			stop();
+			sm=SoundManager.gi();
+			addEventListener(Event.ADDED_TO_STAGE,onAddedToStage,false,10,true);
+			addEventListener(Event.REMOVED_FROM_STAGE,onRemovedFromStage,false,10,true);
+		}
+		
+		/**
+		 * Add's the mouse up outside handler.
+		 */
+		private function onAddedToStage(e:Event):void
+		{
+			if(listeners) return;
+			if(stage)
+			{
+				stage.addEventListener(MouseEvent.MOUSE_UP, __onMouseUpOutside,false,10,true);
+				st=stage;
+			}
+			addEventListener(MouseEvent.CLICK,onClick,false,10,true);
+			addEventListener(MouseEvent.MOUSE_DOWN,__onMouseDown,false,10,true);
+			addEventListener(MouseEvent.MOUSE_OVER,__onMouseOver,false,10,true);
+			addEventListener(MouseEvent.MOUSE_UP,__onMouseUp,false,10,true);
+			addEventListener(MouseEvent.MOUSE_OUT,__onMouseOut,false,10,true);
+			listeners=true;
+		}
+		
+		/**
+		 * remove event listeners.
+		 */
+		private function onRemovedFromStage(e:Event):void
+		{
+			if(!listeners) return;
+			if(stage) stage.removeEventListener(MouseEvent.MOUSE_UP, __onMouseUpOutside);
+			if(st) st.removeEventListener(MouseEvent.MOUSE_UP,__onMouseUpOutside);
+			removeEventListener(MouseEvent.CLICK,onClick);
+			removeEventListener(MouseEvent.MOUSE_DOWN,__onMouseDown);
+			removeEventListener(MouseEvent.MOUSE_OVER,__onMouseOver);
+			removeEventListener(MouseEvent.MOUSE_UP,__onMouseUp);
+			removeEventListener(MouseEvent.MOUSE_OUT,__onMouseOut);
+			listeners=false;
+		}
+		
+		/**
+		 * @private
+		 * on click handler.
+		 */
+		protected function onClick(me:MouseEvent):void
+		{
+			if(_locked) me.stopImmediatePropagation();
+		}
+		
+		/**
+		 * @private
+		 * When the mouse button is released outside of the clip.
+		 */
+		protected function __onMouseUpOutside(me:MouseEvent):void
+		{
+			if(!over)
+			{
+				me.stopPropagation();
+				down=false;
+				return;
+			}
+			if(upSound) sm.playSound(upSound);
+			if(_locked)
+			{
+				if(_locked) me.stopImmediatePropagation();
+				return;
+			}
+			if(over) gotoAndStop(overFrame);
+			else if(down) gotoAndStop(normalFrame);
+			down=false;
+		}
+		
+		/**
+		 * @private
+		 * When the mouse button is released.
+		 */
+		protected function __onMouseUp(me:MouseEvent):void
+		{
+			if(upSound) sm.playSound(upSound);
+			if(_locked)
+			{
+				if(_locked) me.stopImmediatePropagation();
+				return;
+			}
+			gotoAndStop(normalFrame);
+		}
+		
+		/**
+		 * @private
+		 * When the mouse rolls over this button.
+		 */
+		protected function __onMouseOver(me:MouseEvent):void
+		{
+			if(overSound) sm.playSound(overSound);
+			if(_locked)
+			{
+				if(_locked) me.stopImmediatePropagation();
+				return;
+			}
+			over=true;
+			gotoAndStop(overFrame);
+		}
+		
+		/**
+		 * @private
+		 * When the mouse is pressed down over this button.
+		 */
+		protected function __onMouseDown(me:MouseEvent):void
+		{
+			if(downSound) sm.playSound(downSound);
+			if(_locked)
+			{
+				if(_locked) me.stopImmediatePropagation();
+				return;
+			}
+			down=true;
+			gotoAndStop(downFrame);
+		}
+		
+		/**
+		 * @private
+		 * When the mouse moves outside the trackable content.
+		 */
+		protected function __onMouseOut(me:MouseEvent):void
+		{
+			if(outSound) sm.playSound(outSound);
+			if(_locked)
+			{
+				if(_locked) me.stopImmediatePropagation();
+				return;
+			}
+			over=false;
+			gotoAndStop(normalFrame);
+		}
+		
+		/**
+		 * Toggle the lock state of the button.
+		 */
+		public function set locked(value:Boolean):void
+		{
+			if(_locked && value) return;
+			_locked=value;
+			super.enabled=value;
+			if(value)
+			{
+				if(lockSound) sm.playSound(lockSound);
+				buttonMode=false;
+				gotoAndStop(lockedFrame);
+				dispatchEvent(new Event(MovieClipButton.LOCKED));
+			}
+			else
+			{
+				if(unlockSound) sm.playSound(unlockSound);
+				buttonMode=true;
+				if(down) gotoAndStop(downFrame);
+				else if(over) gotoAndStop(overFrame);
+				else gotoAndStop(normalFrame);
+				dispatchEvent(new Event(MovieClipButton.UNLOCKED));
+			}
+		}
+		
+		/**
+		 * Lock or unlock the button.
+		 */
+		public function get locked():Boolean
+		{
+			return _locked;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/AssetManager.as b/src/as/net/guttershark/managers/AssetManager.as
new file mode 100644
index 0000000..8c3c152
--- /dev/null
+++ b/src/as/net/guttershark/managers/AssetManager.as
@@ -0,0 +1,465 @@
+package net.guttershark.managers
+{
+	import flash.display.Bitmap;
+	import flash.display.Loader;
+	import flash.display.MovieClip;
+	import flash.display.Sprite;
+	import flash.media.Sound;
+	import flash.net.NetStream;
+	import flash.system.ApplicationDomain;
+	import flash.text.Font;
+	import flash.text.StyleSheet;
+	import flash.utils.Dictionary;
+	
+	import net.guttershark.display.FLV;
+	import net.guttershark.util.Assertions;
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.XMLLoader;
+	
+	/**
+	 * The AssetManager class is a singleton that stores all assets
+	 * loaded by any PreloadController, it provides shortcuts
+	 * for accessing those items, and shortcuts for getting items
+	 * out of the flash library.
+	 */
+	final public class AssetManager
+	{	
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:AssetManager;
+		
+		/**
+		 * Store for assets.
+		 */
+		private var assets:Dictionary;
+		
+		/**
+		 * The last asset that was registered with this manager.
+		 */
+		private var _lastLibraryName:String;
+		
+		/**
+		 * Assertions.
+		 */
+		private var ast:Assertions;
+		
+		/**
+		 * A lookup to objects by source utl path.
+		 */
+		private var sourceLookup:Dictionary;
+		
+		/**
+		 * The current application domain.
+		 */
+		private var cd:ApplicationDomain;
+
+		/**
+		 * @private
+		 * Constructor for AssetManager instances.
+		 */
+		public function AssetManager()
+		{
+			Singleton.assertSingle(AssetManager);
+			assets=new Dictionary(false);
+			sourceLookup=new Dictionary(true);
+			ast=Assertions.gi();
+			cd=ApplicationDomain.currentDomain;
+		}
+
+		/**
+		 * Singleton Instance.
+		 */
+		public static function gi():AssetManager
+		{
+			if(!inst) inst=Singleton.gi(AssetManager);
+			return inst;
+		}
+		
+		/**
+		 * Register an asset in the library.
+		 * 
+		 * @param libraryName The item id.
+		 * @param obj The loaded asset object.
+		 */
+		public function addAsset(libraryName:String,obj:*,source:String=null):void
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(obj,"Parameter obj cannot be null");
+			assets[libraryName]=obj;
+			sourceLookup[libraryName]=source;
+			_lastLibraryName=libraryName;
+		}
+		
+		/**
+		 * Remove an asset from the library.
+		 * 
+		 * @param libraryName The asset's libraryName to remove.
+		 */
+		public function removeAsset(libraryName:String):void
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			assets[libraryName]=null;
+			sourceLookup[libraryName]=null;
+		}
+		
+		/**
+		 * The last libraryName that was used to register an object.
+		 * This is useful for when you don't neccessarily have a
+		 * libraryName available, but you know that the librayName
+		 * you need was the last asset registered in the AssetManager.
+		 * 
+		 * @example Using the lastLibraryName property.
+		 * &lt;listing>	
+		 * var am:AssetManager=AssetManager.gi();
+		 * addChild(am.getBitmap(am.lastLibraryName)); //assuming you know the last asset was a bitmap
+		 * &lt;/listing>
+		 */
+		public function get lastLibraryName():String
+		{
+			return _lastLibraryName;
+		}
+		
+		/**
+		 * Check to see if an asset is available in the library.
+		 * 
+		 * @param libraryName The libraryName used to register the asset.
+		 */
+		public function isAvailable(libraryName:String):Boolean
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null.");
+			if(assets[libraryName]) return true;
+			return false;
+		}
+		
+		/**
+		 * A generic method to get any asset from the library.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getAsset(libraryName:String):*
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			if(!assets[libraryName]) throw new Error("Item not registered in library with the id: " + libraryName);
+			return assets[libraryName];
+		}
+		
+		/**
+		 * Get a SWF asset from the library.
+		 * 
+		 * &lt;p>The asset is cast as a Loader class&lt;/p>
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getSWF(libraryName:String):Loader
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			if(assets[libraryName] != null) return getAsset(libraryName) as Loader;
+			throw new Error("SWF {" + libraryName + "} was not found");
+		}
+		
+		/**
+		 * Get a Class reference from a swf library.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 * @param classNameInLibrary The class name in the loaded swf's library.
+		 */
+		public function getClassFromSWFLibrary(libraryName:String, classNameInLibrary:String):Class
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(classNameInLibrary,"Parameter classNameInLibrary cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var swf:Loader=getAsset(libraryName) as Loader;
+				var SymbolClass:Class=swf.contentLoaderInfo.applicationDomain.getDefinition(classNameInLibrary) as Class;
+				return SymbolClass;
+			}
+			throw new Error("No class reference: {" + classNameInLibrary + "} in swf {" + libraryName + "} was found");
+		}
+		
+		/**
+		 * Get a movie clip from a swf library.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 * @param classNameInLibrary The class name in the loaded swf's library.
+		 */
+		public function getMovieClipFromSWFLibrary(libraryName:String, classNameInLibrary:String):MovieClip
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(classNameInLibrary,"Parameter classNameInLibrary cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var swf:Loader=getAsset(libraryName) as Loader;
+				var SymbolClassMC:Class=swf.contentLoaderInfo.applicationDomain.getDefinition(classNameInLibrary) as Class;
+				var symbolInstance:MovieClip=new SymbolClassMC() as MovieClip;
+				return symbolInstance;
+			}
+			throw(new Error("No movie clip: {" + classNameInLibrary + "} in swf {" + libraryName + "} was found"));
+		}
+		
+		/**
+		 * Get a sprite from a swf library.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 * @param classNameInLibrary The class name in the loaded swf's library.
+		 */
+		public function getSpriteFromSWFLibrary(libraryName:String, classNameInLibrary:String):Sprite
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(classNameInLibrary,"Parameter classNameInLibrary cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var swf:Loader=getAsset(libraryName) as Loader;
+				var SymbolClassMC:Class=swf.contentLoaderInfo.applicationDomain.getDefinition(classNameInLibrary) as Class;
+				var symbolInstance:Sprite=new SymbolClassMC() as Sprite;
+				return symbolInstance;
+			}
+			throw(new Error("No sprite: {" + classNameInLibrary + "} in swf {" + libraryName + "} was found"));
+		}
+		
+		/**
+		 * Get an embedded Font from a SWF library. The Font is also registered
+		 * through Font.registerFont before it's returned.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 * @param fontLinkageId	The font linkage id.
+		 */
+		public function getFontFromSWFLibrary(libraryName:String, fontLinkageId:String):Font
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(fontLinkageId,"Parameter fontLinkageId cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var swf:Loader=getAsset(libraryName) as Loader;
+				var FontClass:Class=swf.contentLoaderInfo.applicationDomain.getDefinition(fontLinkageId) as Class;
+				Font.registerFont(FontClass);
+				var fontInstance:Font=new FontClass();
+				return fontInstance;
+			}
+			throw(new Error("No font: {" + fontLinkageId + "} in swf {" + libraryName + "} was found"));
+		}
+		
+		/**
+		 * Get a Bitmap from a swf library.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 * @param bitmapLinkageId The bitmaps linkage Id.
+		 */
+		public function getBitmapFromSWFLibrary(libraryName:String, bitmapLinkageId:String):Bitmap
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(bitmapLinkageId,"Parameter bitmapLinkageId cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var swf:Loader=getAsset(libraryName) as Loader;
+				var BitmapClass:Class=swf.contentLoaderInfo.applicationDomain.getDefinition(bitmapLinkageId) as Class;
+				var bitmapInstance:Bitmap=new BitmapClass();
+				return bitmapInstance;
+			}
+			throw(new Error("No bitmap: {" + bitmapLinkageId + "} in swf {" + libraryName + "} was found"));
+		}
+		
+		/**
+		 * Get a Sound from a swf library
+		 * 
+		 * @param	libraryName		The library name used when the asset was registered.
+		 * @param	soundLinkageId	The sounds linkage id from the library.
+		 */
+		public function getSoundFromSWFLibrary(libraryName:String, soundLinkageId:String):Sound
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			ast.notNil(soundLinkageId,"Parameter soundLinkageId cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var swf:Loader=getAsset(libraryName) as Loader;
+				var SoundClass:Class=swf.contentLoaderInfo.applicationDomain.getDefinition(soundLinkageId) as Class;
+				var soundInstance:Sound=new SoundClass();
+				return soundInstance;
+			}
+			throw(new Error("No sound: {" + soundLinkageId + "} in swf {" + libraryName + "} was found"));
+		}
+		
+		/**
+		 * Get a StyleSheet object that was preloaded from a css file.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getStyleSheet(libraryName:String):StyleSheet
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			if(assets[libraryName] != null)
+			{
+				var sheet:StyleSheet=StyleSheet(assets[libraryName]);
+				return sheet;
+			}
+			throw(new Error("Stylesheet {"+libraryName+"} not found."));
+		}
+
+		/**
+		 * Get a loaded asset as a Bitmap.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getBitmap(libraryName:String):Bitmap
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			if(assets[libraryName] != null)
+			{
+				return getAsset(libraryName).contentLoaderInfo.content;
+				//return Bitmap(getAsset(libraryName).content);
+				//return Bitmap(getAsset(libraryName).content);
+				//return BitmapUtils.CopyBitmap(getAsset(libraryName).content);
+			}
+			throw new Error("Bitmap {" + libraryName + "} was not found.");
+		}
+		
+		/**
+		 * Get a sound, that was either preloaded, or from the current
+		 * application domain's library.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getSound(libraryName:String):Sound
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			if(cd.hasDefinition(libraryName))
+			{
+				var instance:Class=cd.getDefinition(libraryName) as Class;
+				var s:Sound=new instance() as Sound;
+				return s;
+			}
+			if(assets[libraryName] != null) return getAsset(libraryName) as Sound;
+			throw new Error("Sound {" + libraryName + "} was not found.");
+		}
+		
+		/**
+		 * Get an XML asset.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getXML(libraryName:String):XML
+		{
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			if(assets[libraryName] != null) return XMLLoader(getAsset(libraryName)).data as XML;
+			throw new Error("XML {" + libraryName + "} was not found.");
+		}
+		
+		/**
+		 * Get a net stream that was used to load an flv.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getNetStream(libraryName:String):NetStream
+		{
+			ast.notNil(libraryName,"Parameter {libraryName} cannot be null");
+			if(assets[libraryName] != null) return NetStream(getAsset(libraryName));
+			throw new Error("NetStream {" + libraryName + "} was not found.");
+		}
+		
+		/**
+		 * Check whether or not a net stream is 100% loaded.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function isNetStreamLoaded(libraryName:String):Boolean
+		{
+			ast.notNil(libraryName,"Parameter {libraryName} cannot be null");
+			if(assets[libraryName]!=null) var ns:NetStream=NetStream(getAsset(libraryName));
+			else throw new Error("NetStream {"+libraryName+"} not available.");
+			return (ns.bytesLoaded>=ns.bytesTotal);
+		}
+		
+		/**
+		 * Get an flv instance.
+		 * 
+		 * @param libraryName The library name used when the asset was registered.
+		 */
+		public function getFLV(libraryName:String):FLV
+		{
+			ast.notNil(libraryName,"Parameter {libraryName} cannot be null");
+			var f:FLV=new FLV();
+			f.load(sourceLookup[libraryName],320,240,4,false,false);
+			return f;
+		}
+		
+		/**
+		 * Get a movie clip from the current application domain's library -
+		 * meaning the top most running swf's library (or the shell).
+		 * 
+		 * @param exportName The export class name from the library.
+		 */
+		public function getMovieClip(exportName:String):MovieClip
+		{
+			ast.notNil(exportName,"Parameter libraryName cannot be null");
+			if(cd.hasDefinition(exportName))
+			{
+				var instance:Class=cd.getDefinition(exportName) as Class;
+				var s:MovieClip=new instance() as MovieClip;
+				return s;
+			}
+			throw new Error("MovieClip {" + exportName + "} was not found.");
+		}
+
+		/**
+		 * Get a font from the current application domain's library -
+		 * meaning the top most running swf's library (or the shell).
+		 * 
+		 * @param exportName The export class name from the library.
+		 */
+		public function getFont(exportName:String):Font
+		{
+			ast.notNil(exportName,"Parameter libraryName cannot be null");
+			if(cd.hasDefinition(exportName))
+			{
+				var instance:Class=cd.getDefinition(exportName) as Class;
+				var f:Font=new instance() as Font;
+				Font.registerFont(instance);
+				return f;
+			}
+			throw new Error("Font {" + exportName + "} was not found.");
+		}
+		
+		/**
+		 * Get a sprite from the current application domain's library -
+		 * meaning the top most running swf's library (or the shell).
+		 * 
+		 * @param exportName The export class name from the library.
+		 */
+		public function getSprite(exportName:String):Sprite
+		{
+			ast.notNil(exportName,"Parameter libraryName cannot be null");
+			if(cd.hasDefinition(exportName))
+			{
+				var instance:Class=cd.getDefinition(exportName) as Class;
+				var s:Sprite=new instance() as Sprite;
+				return s;
+			}
+			throw new Error("Sprite {" + exportName + "} was not found.");
+		}
+		
+		/**
+		 * Get a class reference to a definition from the current application
+		 * domain - meaning the top most running swf's library (or the shell).
+		 * 
+		 * @param libraryName The item name in the library.
+		 */
+		public function getClass(exportName:String):Class
+		{
+			ast.notNil(exportName,"Parameter libraryName cannot be null");
+			if(cd.hasDefinition(exportName)) return cd.getDefinition(exportName) as Class;
+			throw new Error("Class {" + exportName + "} was not found.");
+		}
+
+		/**
+		 * Purge all assets from the library. The AssetManager is still
+		 * usable after a dispose, just the assets are disposed of.
+		 */
+		public function dispose():void
+		{
+			assets=new Dictionary(false);
+			sourceLookup=new Dictionary(true);
+			_lastLibraryName=null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/ContextMenuManager.as b/src/as/net/guttershark/managers/ContextMenuManager.as
new file mode 100644
index 0000000..ef9d596
--- /dev/null
+++ b/src/as/net/guttershark/managers/ContextMenuManager.as
@@ -0,0 +1,267 @@
+package net.guttershark.managers 
+{
+	import flash.ui.ContextMenu;
+	import flash.ui.ContextMenuItem;
+	import flash.utils.Dictionary;
+	
+	import net.guttershark.util.Assertions;
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.cache.Cache;		
+
+	/**
+	 * The ContextManager class simplifies creating and
+	 * using context menus.
+	 * 
+	 * &lt;p>You can define context menu's in the model xml
+	 * as well. The model has a method
+	 * &lt;em>&lt;strong>createContextMenuById&lt;/strong>&lt;/em> which
+	 * uses this class to create a context menu for you.&lt;/p>
+	 * 
+	 * @example Using the context menu manager:
+	 * &lt;listing>	
+	 * var cmm:ContextMenuManager=ContextMenuManager.gi();
+	 * var myClip:MovieClip=new MovieClip();
+	 * myClip.contextMenu=cmm.createMenu("test",[{id:"home",label:"home"},{id:"back",label:"back"}]);
+	 * em.handleEvents(contextMenu,this,"onCM");
+	 * public function onCMhome():void
+	 * {
+	 *     trace("selected home rom context menu");
+	 * }
+	 * &lt;/listing>
+	 * 
+	 * @example Using the model to define and create context menus:
+	 * &lt;listing>	
+	 * //in the model xml:
+	 * &lt;contextmenus&gt;
+	 *     &lt;menu id="menu1"&gt;
+	 *         &lt;item id="home" label="home" /&gt;
+	 *         &lt;item id="back" label="GO BACK" sep="true"/&gt;
+	 *     &lt;/menu&gt;
+	 * &lt;/contextmenus&gt;
+	 * 
+	 * //then in some actionscript:
+	 * var ml:Model=Model.gi();
+	 * var myClip:MovieClip=new MovieClip();
+	 * myClip.contextMenu=ml.createContextMenuById("menu1");
+	 * &lt;/listing>
+	 */
+	final public class ContextMenuManager
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:ContextMenuManager;
+		
+		/**
+		 * A context menu lookup by it's id.
+		 */
+		private var menusById:Dictionary;
+		
+		/**
+		 * An ids array lookup by the context menu.
+		 */
+		private var idsByMenu:Dictionary;
+		
+		/**
+		 * A lookup for the itesm in a menu by the context menu and it's id.
+		 */
+		private var itemsByMenuAndId:Dictionary;
+		
+		/**
+		 * A lookup for ids by an individual context menu item.
+		 */
+		private var idsByItems:Dictionary;
+		
+		/**
+		 * A lookup for context menus by context menu items.
+		 */
+		private var menusByItems:Dictionary;
+		
+		/**
+		 * An array of stored context menus.
+		 */
+		private var menus:Array;
+		
+		/**
+		 * Assertions singleton.
+		 */
+		private var ast:Assertions;
+		
+		/**
+		 * The menu cache.
+		 */
+		private var menuCache:Cache;
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():ContextMenuManager
+		{
+			if(!inst)inst=Singleton.gi(ContextMenuManager);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function ContextMenuManager()
+		{
+			Singleton.assertSingle(ContextMenuManager);
+			ast=Assertions.gi();
+			menus=[];
+			menusById=new Dictionary();
+			idsByMenu=new Dictionary();
+			itemsByMenuAndId=new Dictionary();
+			idsByItems=new Dictionary();
+			menusByItems=new Dictionary();
+			menuCache=new Cache();
+		}
+		
+		/**
+		 * Create a new context menu.
+		 * 
+		 * @param id The id of the menu.
+		 * @param items An array of objects used for the context menu items - {id:"home",label:"home",sep:true|false}.
+		 */
+		public function createMenu(id:String,items:Array):ContextMenu
+		{
+			ast.notNil(id,"Parameter {id} cannot be null");
+			ast.notNilOrEmpty(items,"Paramaeter {items} cannot be null or empty");
+			var i:int=0;
+			var l:int=items.length;
+			for(i;i&lt;l;i++) if(!items[i].id) throw new Error("Every context item must have an id associated with it.");
+			if(menuCache.isCached(id)) return menuCache.getCachedObject(id) as ContextMenu;
+			if(menusById[id])
+			{
+				trace("WARNING: A context menu already existed with that id, the previous one has been disposed and over-written.");
+				disposeMenu(id);
+			}
+			var cm:ContextMenu=new ContextMenu();
+			cm.hideBuiltInItems();
+			if(!itemsByMenuAndId[cm])itemsByMenuAndId[cm]=new Dictionary();
+			if(!idsByMenu[cm])idsByMenu[cm]=[];
+			menusById[id]=cm;
+			menus.push(cm);
+			var mu:Object;
+			var cmi:ContextMenuItem;
+			var itms:Array=[];
+			var muid:String;
+			var label:String;
+			i=0;
+			for(i;i&lt;l;i++)
+			{
+				mu=items[i];
+				muid=mu.id;
+				if(muid.indexOf(" ")>-1) throw new Error("You cannot have spaces in id's for context menu's.");
+				label=mu.label;
+				if(muid)idsByMenu[cm].push(muid);
+				if(!mu.sep)mu.sep=false;
+				cmi=new ContextMenuItem(label,mu.sep);
+				itms.push(cmi);
+				itemsByMenuAndId[cm][muid]=cmi;
+				idsByItems[cmi]=muid;
+				menusByItems[cmi]=cm;
+			}
+			cm.customItems=itms;
+			menuCache.cacheObject(id,cm);
+			return cm;
+		}
+		
+		/**
+		 * Get a context menu that was previously registered.
+		 * 
+		 * @param id The menu id.
+		 * @param itemClickHandler A event handler function for an item click from the menu - this is optional.
+		 */
+		public function getMenu(id:String):ContextMenu
+		{
+			ast.notNil(id,"Parameter {id} cannot be null");
+			if(menuCache.isCached(id)) return menuCache.getCachedObject(id) as ContextMenu;
+			var cm:ContextMenu=menusById[id];
+			if(!cm)
+			{
+				trace("WARNING: Context menu {"+id+"} not found, returning null.");
+				return null;
+			}
+			return cm;
+		}
+		
+		/**
+		 * @private
+		 * for event manager use.
+		 */
+		public function getIdsForMenu(cm:ContextMenu):Array
+		{
+			return idsByMenu[cm];
+		}
+		
+		/**
+		 * @private
+		 * For event manager use.
+		 */
+		public function getItemFromMenuByMenuAndId(cm:ContextMenu,id:String):ContextMenuItem
+		{
+			return itemsByMenuAndId[cm][id] as ContextMenuItem;
+		}
+		
+		/**
+		 * @private
+		 * for event manager use.
+		 */
+		public function getIdFromMenuItem(cm:ContextMenuItem):String
+		{
+			return idsByItems[cm];
+		}
+		
+		/**
+		 * @private
+		 * for event manager use.
+		 */
+		public function getMenuFromItem(cm:ContextMenuItem):ContextMenu
+		{
+			return menusByItems[cm];
+		}
+
+		/**
+		 * @private
+		 * Is a menu registered by the id.
+		 */
+		public function isIdRegistered(id:String):Boolean
+		{
+			return !(menusById[id]===false);
+		}
+		
+		/**
+		 * @private
+		 * for event manager use.
+		 */
+		public function isMenuRegistered(cm:ContextMenu):Boolean
+		{
+			return !(idsByMenu[cm]===false);
+		}
+
+		/**
+		 * Dispose of a context menu.
+		 * 
+		 * @param id The menu id.
+		 */
+		public function disposeMenu(id:String):void
+		{
+			if(!menusById[id])return;
+			var cm:ContextMenu=menusById[id];
+			var ids:Array=idsByMenu[cm];
+			var itms:Array=cm.customItems;
+			var i:int=0;
+			var l:int=itms.length;
+			for(i;i&lt;l;i++)
+			{
+				var itm:ContextMenuItem=ContextMenuItem(itms[id]);
+				idsByItems[itm]=menusByItems[itm]=null;
+			}
+			idsByMenu[cm]=null;
+			menusById[id]=null;
+			i=0;
+			l=ids.length;
+			for(i;i&lt;l;i++)itemsByMenuAndId[cm][ids[i]]=null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/EventManager.as b/src/as/net/guttershark/managers/EventManager.as
new file mode 100644
index 0000000..ea0f491
--- /dev/null
+++ b/src/as/net/guttershark/managers/EventManager.as
@@ -0,0 +1,951 @@
+package net.guttershark.managers 
+{
+	import flash.ui.ContextMenuItem;	
+	import flash.events.ContextMenuEvent;	
+	import flash.ui.ContextMenu;	
+	import flash.display.InteractiveObject;
+	import flash.display.LoaderInfo;
+	import flash.events.ActivityEvent;
+	import flash.events.DataEvent;
+	import flash.events.Event;
+	import flash.events.FocusEvent;
+	import flash.events.IEventDispatcher;
+	import flash.events.KeyboardEvent;
+	import flash.events.MouseEvent;
+	import flash.events.ProgressEvent;
+	import flash.events.StatusEvent;
+	import flash.events.TextEvent;
+	import flash.events.TimerEvent;
+	import flash.media.Camera;
+	import flash.media.Microphone;
+	import flash.media.Sound;
+	import flash.net.FileReference;
+	import flash.net.NetConnection;
+	import flash.net.NetStream;
+	import flash.net.Socket;
+	import flash.net.URLLoader;
+	import flash.text.TextField;
+	import flash.utils.Dictionary;
+	import flash.utils.Timer;
+	
+	import net.guttershark.control.PreloadController;
+	import net.guttershark.display.FLV;
+	import net.guttershark.support.events.FLVEvent;
+	import net.guttershark.support.preloading.events.AssetCompleteEvent;
+	import net.guttershark.support.preloading.events.AssetErrorEvent;
+	import net.guttershark.support.preloading.events.PreloadProgressEvent;
+	import net.guttershark.util.Tracking;
+	import net.guttershark.util.XMLLoader;	
+
+	/**
+	 * The EventManager class simplifies events and provides shortcuts for event listeners 
+	 * for AS3 top level classes, guttershark classes, and component events on
+	 * an opt-in basis. Depending on the callbacks you have defined in your callback delegate,
+	 * event listeners will be added to the object. So this means that not all events will
+	 * be listened for, only ones with callback functions defined.
+	 * 
+	 * &lt;p>Events can also be cycled through the javascript tracking framework. You can
+	 * send all events that exist for an object through the tracking framework, or - (by
+	 * default), only send the events through tracking that you have callbacks defined for.&lt;/p>
+	 * 
+	 * @example Using EventManager with a MovieClip.
+	 * &lt;listing>	
+	 * import net.guttershark.managers.EventManager;
+	 * 
+	 * public class Main extends Sprite
+	 * {
+	 * 
+	 *    private var em:EventManager;
+	 *    private var mc:MovieClip;
+	 *    
+	 *    public function Main()
+	 *    {
+	 *       super();
+	 *       em=EventManager.gi();
+	 *       mc=new MovieClip();
+	 *       mc.graphics.beginFill(0xFF0066);
+	 *       mc.graphics.drawCircle(200, 200, 100);
+	 *       mc.graphics.endFill();
+	 *       em.handleEvents(mc,this,"onCircle");
+	 *       addChild(mc);
+	 *    }
+	 *    
+	 *    public function onCircleClick():void
+	 *    {
+	 *       trace("circle click");
+	 *    }
+	 *    
+	 *    public function onCircleAddedToStage():void
+	 *    {
+	 *        trace("my circle was added to stage");
+	 *    }
+	 * }
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>Callback methods are defined by the prefix you give to the &lt;em>&lt;code>handleEvents&lt;/code>&lt;/em>
+	 * method, plus the event name.&lt;/p>
+	 * 
+	 * @example How callbacks must be defined:
+	 * &lt;listing>	
+	 * import net.guttershark.managers.EventManager;
+	 * 
+	 * var em:EventManager=EventManager.gi();
+	 * var mc:MovieClip=new MovieClip();
+	 * 
+	 * em.handleEvents(mc,this,"onMyMC",false,true); //onMyMC is the "prefix"
+	 * 
+	 * function onMyMCClick():void{} //Click is the Event -> so the callback must be defined like prefix+event -> onMyMCClick
+	 * 
+	 * //to define a handler for MouseMove, the prefix is "onMyMC" the event is "MouseMove".
+	 * function onMyMCMouseMove():void{}
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>Passing the originating event object back to your callback is optional, but there are a few
+	 * events that are not optional, because they contain information you probably need.
+	 * The non-negotiable events are listed below.&lt;/p>
+	 * 
+	 * @example Adding support for tracking (only the click event will go through tracking):
+	 * &lt;listing>	
+	 * import net.guttershark.managers.EventManager;
+	 * var em:EventManager=EventManager.gi();
+	 * var mc:MovieClip=new MovieClip();
+	 * em.handleEvents(mc,this,"onMyMC",false,true);
+	 * function onMyMCClick(){}
+	 * &lt;/listing>
+	 * 
+	 * @example Adding support for tracking (all events cycle through tracking):
+	 * &lt;listing>	
+	 * import net.guttershark.managers.EventManager;
+	 * var em:EventManager=EventManager.gi();
+	 * var mc:MovieClip=new MovieClip();
+	 * em.handleEvents(mc,this,"onMyMC",false,false,&lt;strong>true&lt;/strong>);
+	 * function onMyMCClick(){}
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>In the above example, even though a callback is only defined for the click event,
+	 * all events from the object will be fire through tracking - with the usual prefix+eventName
+	 * as the id for the tracking call.&lt;/p>
+	 * 
+	 * @example Using the EventManager in a loop situation for unique tracking:
+	 * &lt;listing>	
+	 * import net.guttershark.managers.EventManager;
+	 * var em:EventManager=EventManager.gi();
+	 * for(var i:int=0; i &lt; myClips.length; i++)
+	 * {
+	 *     em.handleEvents(myClips[i],this,"onClip",false,true,false,"onClip"+i.toString());
+	 * }
+	 * function onClipClick()
+	 * {
+	 * }
+	 * &lt;/listing>
+	 * 
+	 * @example Tracking xml file example for the above example.
+	 * &lt;listing>	
+	 * &lt;tracking&gt;
+	 *     &lt;track id="onClipClick0"&gt;
+	 *         &lt;atlas&gt;...&lt;/atlas&gt;
+	 *         &lt;webtrends&gt;...&lt;/webtrends&gt;
+	 *     &lt;/track&gt;
+	 *     &lt;track id="onClipClick1"&gt;
+	 *         &lt;atlas&gt;...&lt;/atlas&gt;
+	 *         &lt;webtrends&gt;...&lt;/webtrends&gt;
+	 *     &lt;/track&gt;
+	 * &lt;/tracking&gt;
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>Supported TopLevel Flashplayer Objects and Events:&lt;/p>
+	 * &lt;table border='1'>
+	 * &lt;tr bgcolor="#999999">&lt;td width="200">&lt;strong>Object&lt;/strong>&lt;/td>&lt;td>&lt;strong>Events&lt;/strong>&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>DisplayObject&lt;/td>&lt;td>Added,AddedToStage,Activate,Deactivate,Removed,RemovedFromStage&lt;/td>
+	 * &lt;tr>&lt;td>InteractiveObject&lt;/td>&lt;td>Click,DoubleClick,MouseUp,MouseDown,MouseMove,MouseOver,MouseWheel,MouseOut,FocusIn,&lt;br/>
+	 * FocusOut,KeyFocusChange,MouseFocusChange,TabChildrenChange,TabIndexChange,TabEnabledChange&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>Stage&lt;/td>&lt;td>Resize,Fullscreen,MouseLeave&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>TextField&lt;/td>&lt;td>Change,Link&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>Timer&lt;/td>&lt;td>Timer,TimerComplete&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>Socket&lt;/td>&lt;td>Connect,Close,SocketData&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>LoaderInfo&lt;/td>&lt;td>Complete,Unload,Init,Open,Progress&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>Camera&lt;/td>&lt;td>Activity,Status&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>Microphone&lt;/td>&lt;td>Activity,Status&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>NetConnection&lt;/td>&lt;td>Status&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>NetStream&lt;/td>&lt;td>Status&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>FileReference&lt;/td>&lt;td>Cancel,Complete,Open,Select,UploadCompleteData&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>Sound&lt;/td>&lt;td>Progress,Complete,ID3,Open&lt;/td>&lt;/tr>
+	 * &lt;/table>
+	 * 
+	 * &lt;p>Supported Guttershark Classes:&lt;/p>
+	 * &lt;table border='1'>
+	 * &lt;tr bgcolor="#999999">&lt;td width="200">&lt;strong>Object&lt;/strong>&lt;/td>&lt;td width="200">&lt;strong>EventListenerDelegate&lt;/strong>&lt;/td>&lt;td>&lt;strong>Events&lt;/strong>&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>PreloadController&lt;/td>&lt;td>NA&lt;/td>&lt;td>Complete,Progress,AssetComplete,AssetError&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>XMLLoader&lt;/td>&lt;td>NA&lt;/td>&lt;td>Complete&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>SoundManager&lt;/td>&lt;td>NA&lt;/td>&lt;td>Change&lt;/td>&lt;/tr>
+	 * &lt;tr>&lt;td>FLV&lt;/td>&lt;td>NA&lt;/td>&lt;td>Start,Stop,BufferFull,BufferEmpty,BufferFlush,SeekNotify,SeekInvalidTime,
+	 * Meta,CuePoint,Progress,StreamNotFound&lt;/td>&lt;/tr>
+	 * &lt;/table>
+	 * 
+	 * &lt;p>Non-negotiable event types that always pass event objects to your callbacks:&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>AssetErrorEvent.ERROR&lt;/li>
+	 * &lt;li>AssetCompleteEvent.COMPLETE&lt;/li>
+	 * &lt;li>KeyboardEvent.KEY_UP&lt;/li>
+	 * &lt;li>KeyboardEvent.KEY_DOWN&lt;/li>
+	 * &lt;li>MouseEvent.MOUSE_WHEEL&lt;/li>
+	 * &lt;li>PreloadProgressEvent.PROGRESS&lt;/li>
+	 * &lt;li>TextEvent.LINK&lt;/li>
+	 * &lt;li>FLVEvent.PROGRESS&lt;/li>
+	 * &lt;li>FLVEvent.META_DATA&lt;/li>
+	 * &lt;li>FLVEvent.CUE_POINT&lt;/li>
+	 * &lt;li>FLVEvent.STREAM_NOT_FOUND&lt;/li>
+	 * &lt;/ul>
+	 */
+	final public class EventManager
+	{
+		
+		/**
+		 * singleton instance
+		 */
+		private static var instance:EventManager;
+		
+		/**
+		 * Stores info about objects.
+		 */
+		private var edinfo:Dictionary;
+		
+		/**
+		 * lookup for interactive objects events.
+		 */
+		private var eventsByObject:Dictionary;
+		
+		/**
+		 * The context menu manager - or context menu objects.
+		 */
+		private var cmm:ContextMenuManager;
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():EventManager
+		{
+			if(instance == null) instance=new EventManager();
+			return instance;
+		}
+		
+		/**
+		 * @private
+		 * Constructor for EventListenersDelegate instances.
+		 */
+		public function EventManager()
+		{
+			if(EventManager.instance) throw new Error("EventManager is a singleton, see EventManager.gi()");
+			edinfo=new Dictionary();
+			eventsByObject=new Dictionary();
+			cmm=ContextMenuManager.gi();
+		}
+		
+		/**
+		 * A shortcut for the &lt;em>&lt;code>handleEvents&lt;/em>&lt;/code> method.
+		 */
+		public function he(obj:IEventDispatcher, callbackDelegate:*, callbackPrefix:String, returnEventObjects:Boolean=false, cycleThroughTracking:Boolean=false, cycleAllThroughTracking:Boolean=false, trackingID:String=null):void
+		{
+			handleEvents(obj,callbackDelegate,callbackPrefix,returnEventObjects,cycleThroughTracking,cycleAllThroughTracking,trackingID);
+		}
+
+		/**
+		 * Add auto event handling for the target object.
+		 * 
+		 * @param obj The object to add event listeners to.
+		 * @param callbackDelegate The object in which your callback methods are defined.
+		 * @param callbackPrefix A prefix for all callback function definitions.
+		 * @param returnEventObjects Whether or not to pass the origin event objects back to your callbacks (with exception of non-negotiable event types).
+		 * @param cycleThroughTracking For every event that is handled, pass the same event through the tracking framework. Only events that have callbacks will be passed through tracking.
+		 * @param cycleAllThroughTracking Automatically adds listeners for every event that the target object dispatches, in order to grab every 
+		 * event and pass to tracking, without requiring you to have a callback method defined on your callbackDelegate.
+		 * @param trackingID Define a custom trackingID to pass through the tracking framework. For events dispatched from the provided object. The id
+		 * is made up your tracking id + the acual event.
+		 */
+		public function handleEvents(obj:IEventDispatcher, callbackDelegate:*, callbackPrefix:String, returnEventObjects:Boolean=false, cycleThroughTracking:Boolean=false, cycleAllThroughTracking:Boolean=false, trackingID:String=null):void
+		{
+			if(edinfo[obj]) disposeEventsForObject(obj);
+			edinfo[obj]={};
+			edinfo[obj].callbackDelegate=callbackDelegate;
+			edinfo[obj].callbackPrefix=callbackPrefix;
+			edinfo[obj].passEventObjects=returnEventObjects;
+			edinfo[obj].passThroughTracking=cycleThroughTracking;
+			edinfo[obj].trackingID=trackingID;
+			edinfo[obj].cycleAllThroughTracking=cycleAllThroughTracking;
+			if(obj is InteractiveObject)
+			{
+				if((callbackPrefix + "Resize") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.RESIZE, onStageResize,false,0,true);
+				if((callbackPrefix + "Fullscreen") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.FULLSCREEN, onStageFullscreen,false,0,true);
+				if((callbackPrefix + "Added") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.ADDED,onDOAdded,false,0,true);
+				if((callbackPrefix + "AddedToStage") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.ADDED_TO_STAGE,onDOAddedToStage,false,0,true);
+				if((callbackPrefix + "Activate") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.ACTIVATE,onDOActivate,false,0,true);
+				if((callbackPrefix + "Deactivate") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.DEACTIVATE,onDODeactivate,false,0,true);
+				if((callbackPrefix + "Removed") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.REMOVED,onDORemoved,false,0,true);
+				if((callbackPrefix + "RemovedFromStage") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.REMOVED_FROM_STAGE,onDORemovedFromStage,false,0,true);
+				if((callbackPrefix + "MouseLeave") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.MOUSE_LEAVE, onStageMouseLeave,false,0,true);
+				if((callbackPrefix + "Click") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.CLICK,onIOClick,false,0,true);
+				if((callbackPrefix + "DoubleClick") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.DOUBLE_CLICK,onIODoubleClick,false,0,true);
+				if((callbackPrefix + "MouseDown") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.MOUSE_DOWN,onIOMouseDown,false,0,true);
+				if((callbackPrefix + "MouseMove") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.MOUSE_MOVE,onIOMouseMove,false,0,true);
+				if((callbackPrefix + "MouseUp") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.MOUSE_UP,onIOMouseUp,false,0,true);
+				if((callbackPrefix + "MouseOut") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.MOUSE_OUT,onIOMouseOut,false,0,true);
+				if((callbackPrefix + "MouseOver") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.MOUSE_OVER,onIOMouseOver,false,0,true);
+				if((callbackPrefix + "MouseWheel") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.MOUSE_WHEEL,onIOMouseWheel,false,0,true);
+				if((callbackPrefix + "RollOut") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.ROLL_OUT, onIORollOut,false,0,true);
+				if((callbackPrefix + "RollOver") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(MouseEvent.ROLL_OVER,onIORollOver,false,0,true);
+				if((callbackPrefix + "FocusIn") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(FocusEvent.FOCUS_IN,onIOFocusIn,false,0,true);
+				if((callbackPrefix + "FocusOut") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(FocusEvent.FOCUS_OUT,onIOFocusOut,false,0,true);
+				if((callbackPrefix + "KeyFocusChange") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(FocusEvent.KEY_FOCUS_CHANGE,onIOKeyFocusChange,false,0,true);
+				if((callbackPrefix + "MouseFocusChange") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(FocusEvent.MOUSE_FOCUS_CHANGE,onIOMouseFocusChange,false,0,true);
+				if((callbackPrefix + "TabChildrenChange") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.TAB_CHILDREN_CHANGE, onTabChildrenChange,false,0,true);
+				if((callbackPrefix + "TabEnabledChange") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.TAB_ENABLED_CHANGE, onTabEnabledChange,false,0,true);
+				if((callbackPrefix + "TabIndexChange") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.TAB_INDEX_CHANGE,onTabIndexChange,false,0,true);
+				if((callbackPrefix + "KeyDown") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(KeyboardEvent.KEY_DOWN, onKeyDown,false,0,true);
+				if((callbackPrefix + "KeyUp") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(KeyboardEvent.KEY_UP, onKeyUp,false,0,true);
+			}
+			if(obj is FLV)
+			{
+				if(((callbackPrefix + "Progress") in callbackDelegate)) obj.addEventListener(FLVEvent.PROGRESS,onFLVProgress,false,0,true);
+				if(((callbackPrefix + "Start") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.START,onFLVStart,false,0,true);
+				if(((callbackPrefix + "Stop") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.STOP,onFLVStop,false,0,true);
+				if(((callbackPrefix + "SeekNotify") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.SEEK_NOTIFY,onFLVSeekNotify,false,0,true);
+				if(((callbackPrefix + "SeekInvalidTime") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.SEEK_INVALID_TIME,onFLVSeekInvalidTime,false,0,true);
+				if(((callbackPrefix + "StreamNotFound") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.STREAM_NOT_FOUND,onFLVStreamNotFound,false,0,true);
+				if(((callbackPrefix + "BufferFlush") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.BUFFER_FLUSH,onFLVBufferFlush,false,0,true);
+				if(((callbackPrefix + "BufferEmpty") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.BUFFER_EMPTY,onFLVBufferEmpty,false,0,true);
+				if(((callbackPrefix + "BufferFull") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.BUFFER_FULL,onFLVBufferFull,false,0,true);
+				if(((callbackPrefix + "CuePoint") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.CUE_POINT,onFLVCuePoint,false,0,true);
+				if(((callbackPrefix + "Meta") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(FLVEvent.METADATA,onFLVMetaData,false,0,true);
+			}
+			if(obj is PreloadController)
+			{
+				if(((callbackPrefix + "Progress") in callbackDelegate)) obj.addEventListener(PreloadProgressEvent.PROGRESS,onProgress,false,0,true);
+				if(((callbackPrefix + "Complete") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(Event.COMPLETE, onComplete, false, 0, true);
+				if(((callbackPrefix + "AssetComplete") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(AssetCompleteEvent.COMPLETE, onAssetComplete, false, 0, true);
+				if(((callbackPrefix + "AssetError") in callbackDelegate) || cycleAllThroughTracking) obj.addEventListener(AssetErrorEvent.ERROR,onAssetError, false, 0, true);
+				return;
+			}
+			if(obj is TextField)
+			{
+				if((callbackPrefix + "Change") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CHANGE, onTextFieldChange,false,0,true);
+				if((callbackPrefix + "Link") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(TextEvent.LINK, onTextFieldLink,false,0,true);
+				return;
+			}
+			if(obj is XMLLoader)
+			{
+				var x:XMLLoader=XMLLoader(obj);
+				edinfo[x.contentLoader]=edinfo[obj];
+				if((callbackPrefix + "Complete") in callbackDelegate || cycleAllThroughTracking) x.contentLoader.addEventListener(Event.COMPLETE,onXMLLoaderComplete,false,0,true);
+				return;
+			}
+			if(obj is SoundManager)
+			{
+				if((callbackPrefix + "Change") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CHANGE,onSoundChange,false,0,true);
+				return;
+			}
+			if(obj is Sound)
+			{
+				if((callbackPrefix + "Complete") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.COMPLETE,onSoundComplete,false,0,true);
+				if((callbackPrefix + "Progress") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ProgressEvent.PROGRESS,onSoundProgress,false,0,true);
+				if((callbackPrefix + "Open") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.OPEN,onSoundOpen,false,0,true);
+				if((callbackPrefix + "ID3") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.ID3,onSoundID3,false,0,true);
+			}
+			if(obj is LoaderInfo || obj is URLLoader)
+			{
+				if((callbackPrefix + "Complete") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.COMPLETE, onLIComplete,false,0,true);
+				if((callbackPrefix + "Open") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.OPEN, onLIOpen,false,0,true);
+				if((callbackPrefix + "Unload") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.UNLOAD, onLIUnload,false,0,true);
+				if((callbackPrefix + "Init") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.INIT, onLIInit,false,0,true);
+				if((callbackPrefix + "Progress") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ProgressEvent.PROGRESS, onLIProgress,false,0,true);
+				return;
+			}
+			if(obj is Timer)
+			{
+				if((callbackPrefix + "Timer") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(TimerEvent.TIMER, onTimer,false,0,true);
+				if((callbackPrefix + "TimerComplete") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(TimerEvent.TIMER_COMPLETE, onTimerComplete,false,0,true); 
+				return;
+			}
+			if(obj is Camera || obj is Microphone)
+			{
+				if((callbackPrefix + "Activity") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ActivityEvent.ACTIVITY, onCameraActivity,false,0,true);
+				if((callbackPrefix + "Status") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(StatusEvent.STATUS, onCameraStatus,false,0,true);
+				return;
+			}
+			if(obj is Socket)
+			{
+				if((callbackPrefix + "Close") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CLOSE, onSocketClose,false,0,true);
+				if((callbackPrefix + "Connect") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CONNECT, onSocketConnect,false,0,true);
+				if((callbackPrefix + "SocketData") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ProgressEvent.SOCKET_DATA, onSocketData,false,0,true);
+				return;
+			}
+			if(obj is NetConnection)
+			{
+				if((callbackPrefix + "Status") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(StatusEvent.STATUS, onCameraStatus,false,0,true);
+				return;
+			}
+			if(obj is NetStream)
+			{
+				if((callbackPrefix + "Status") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(StatusEvent.STATUS, onCameraStatus,false,0,true);
+				return;
+			}
+			if(obj is FileReference)
+			{
+				if((callbackPrefix + "Cancel") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CANCEL, onFRCancel,false,0,true);
+				if((callbackPrefix + "Complete") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.COMPLETE, onFRComplete,false,0,true);
+				if((callbackPrefix + "Open") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.OPEN,onFROpen,false,0,true);
+				if((callbackPrefix + "Select") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.SELECT, onFRSelect,false,0,true);
+				if((callbackPrefix + "UploadCompleteData") in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataEvent.UPLOAD_COMPLETE_DATA, onFRUploadCompleteData,false,0,true);
+				return;
+			}
+			if(obj is ContextMenu)
+			{
+				if(!cmm.isMenuRegistered(obj as ContextMenu))
+				{
+					trace("WARNING: Context menu events will not function from the event manager, unless you've created it through the ContextMenuManager.");
+					return;
+				}
+				var ids:Array=cmm.getIdsForMenu(obj as ContextMenu);
+				var j:int=0;
+				var l:int=ids.length;
+				var id:String;
+				for(j;j&lt;l;j++)
+				{
+					id=ids[j];
+					if((callbackPrefix+id) in callbackDelegate)cmm.getItemFromMenuByMenuAndId(ContextMenu(obj),id).addEventListener(ContextMenuEvent.MENU_ITEM_SELECT,onContextMenuSelect,false,0,true);
+				}
+			}
+		}
+		
+		private function onContextMenuSelect(ce:ContextMenuEvent):void
+		{
+			var e:* ={};
+			e.target=cmm.getMenuFromItem(ContextMenuItem(ce.target));
+			handleEvent(e,cmm.getIdFromMenuItem(ContextMenuItem(ce.target)));
+		}
+		
+		private function onFLVSeekNotify(fe:FLVEvent):void
+		{
+			handleEvent(fe,"Seek");
+		}
+		
+		private function onFLVSeekInvalidTime(fe:FLVEvent):void
+		{
+			handleEvent(fe,"InvalidTime");
+		}
+		
+		private function onFLVStreamNotFound(fe:FLVEvent):void
+		{
+			handleEvent(fe,"StreamNotFound",true);
+		}
+		
+		private function onFLVBufferFlush(fe:FLVEvent):void
+		{
+			handleEvent(fe,"BufferFlush");
+		}
+		
+		private function onFLVBufferFull(fe:FLVEvent):void
+		{
+			handleEvent(fe,"BufferFull");
+		}
+		
+		private function onFLVBufferEmpty(fe:FLVEvent):void
+		{
+			handleEvent(fe,"BufferEmpty");
+		}
+		
+		private function onFLVCuePoint(fe:FLVEvent):void
+		{
+			handleEvent(fe,"CuePoint",true);
+		}
+		
+		private function onFLVMetaData(fe:FLVEvent):void
+		{
+			handleEvent(fe,"Meta",true);
+		}
+		
+		private function onFLVStop(fe:FLVEvent):void
+		{
+			handleEvent(fe,"Stop");
+		}
+		
+		private function onFLVStart(fe:FLVEvent):void
+		{
+			handleEvent(fe,"Start");
+		}
+		
+		private function onFLVProgress(fe:FLVEvent):void
+		{
+			handleEvent(fe,"Progress",true);
+		}
+		
+		private function onSoundID3(e:Event):void
+		{
+			handleEvent(e,"ID3");
+		}
+		
+		private function onSoundProgress(pe:ProgressEvent):void
+		{
+			trace("progress");
+			handleEvent(pe,"Progress",true);
+		}
+		
+		private function onSoundComplete(e:Event):void
+		{
+			handleEvent(e,"Complete");
+		}
+		
+		private function onSoundOpen(e:Event):void
+		{
+			handleEvent(e,"Open");
+		}
+
+		public function handleEventsForObjects(callbackDelegate:*, objects:Array,prefixes:Array,returnEventObjects:Boolean=false,cycleThroughTracking:Boolean=false):void
+		{
+			var ol:int=objects.length;
+			var pl:int=prefixes.length;
+			if(ol!=pl)throw new Error("The objects and prefixes must be a 1 to 1 relationship.");
+			var i:int=0;
+			for(i;i&lt;ol;i++)handleEvents(objects[i],callbackDelegate,prefixes[i],returnEventObjects,cycleThroughTracking);
+		}
+		
+		private function onSoundChange(e:Event):void
+		{
+			handleEvent(e,"Change");
+		}
+		
+		private function onAssetComplete(ace:AssetCompleteEvent):void
+		{
+			handleEvent(ace,"AssetComplete",true);
+		}
+		
+		private function onAssetError(aee:AssetErrorEvent):void
+		{
+			handleEvent(aee,"AssetError",true);
+		}
+
+		private function onProgress(pe:PreloadProgressEvent):void
+		{
+			handleEvent(pe,"Progress",true);
+		}
+		
+		private function onComplete(e:*):void
+		{
+			handleEvent(e,"Complete");
+		}
+		
+		private function onXMLLoaderComplete(e:Event):void
+		{
+			handleEvent(e,"Complete");
+		}
+		
+		private function onFRCancel(e:Event):void
+		{
+			handleEvent(e, "Cancel");
+		}
+		
+		private function onFRComplete(e:Event):void
+		{
+			handleEvent(e,"Complete");
+		}
+		
+		private function onFROpen(e:Event):void
+		{
+			handleEvent(e,"Open");
+		}
+		
+		private function onFRSelect(e:Event):void
+		{
+			handleEvent(e,"Select");
+		}
+		
+		private function onFRUploadCompleteData(de:DataEvent):void
+		{
+			handleEvent(de,"UploadCompleteData",true);
+		}
+		
+		private function onSocketClose(e:Event):void
+		{
+			handleEvent(e, "Close");
+		}
+		
+		private function onSocketConnect(e:Event):void
+		{
+			handleEvent(e, "Connect");
+		}
+		
+		private function onSocketData(pe:ProgressEvent):void
+		{
+			handleEvent(pe, "SocketData");
+		}
+
+		private function onCameraActivity(ae:ActivityEvent):void
+		{
+			handleEvent(ae, "Activity");
+		}
+	
+		private function onCameraStatus(ae:StatusEvent):void
+		{
+			handleEvent(ae, "Status", true);
+		}
+
+		private function onLIProgress(pe:ProgressEvent):void
+		{
+			handleEvent(pe, "Progress");
+		}
+
+		private function onLIInit(e:Event):void
+		{
+			handleEvent(e, "Init");
+		}
+		
+		private function onLIUnload(e:Event):void
+		{
+			handleEvent(e, "Unload");
+		}
+		
+		private function onLIOpen(e:Event):void
+		{
+			handleEvent(e, "Open");
+		}
+		 
+		private function onLIComplete(e:Event):void
+		{
+			handleEvent(e, "Complete");
+		}
+		
+		private function onKeyDown(e:KeyboardEvent):void
+		{
+			handleEvent(e,"KeyDown",true);
+		}
+		
+		private function onKeyUp(e:KeyboardEvent):void
+		{
+			handleEvent(e,"KeyUp",true);
+		}
+		
+		private function onTabChildrenChange(e:Event):void
+		{
+			handleEvent(e,"TabChildrenChange");
+		}
+		
+		private function onTabEnabledChange(e:Event):void
+		{
+			handleEvent(e,"TabEnabledChange");
+		}
+		
+		private function onTabIndexChange(e:Event):void
+		{
+			handleEvent(e,"TabIndexChange");
+		}
+		
+		private function onTextFieldChange(e:Event):void
+		{
+			handleEvent(e,"Change");
+		}
+		
+		private function onTextFieldLink(e:TextEvent):void
+		{
+			handleEvent(e,"Link",true);
+		}
+		
+		private function onStageFullscreen(e:Event):void
+		{
+			handleEvent(e,"Fullscreen");
+		}
+		
+		private function onStageResize(e:Event):void
+		{
+			handleEvent(e,"Resize");
+		}
+		
+		private function onStageMouseLeave(e:Event):void
+		{
+			handleEvent(e,"MouseLeave");
+		}
+		
+		private function onTimer(e:Event):void
+		{
+			handleEvent(e,"Timer");
+		}
+		
+		private function onTimerComplete(e:Event):void
+		{
+			handleEvent(e,"TimerComplete");
+		}
+		
+		private function onIORollOver(e:MouseEvent):void
+		{
+			handleEvent(e,"RollOver");
+		}
+		
+		private function onIORollOut(e:MouseEvent):void
+		{
+			handleEvent(e,"RollOut");
+		}
+
+		private function onIOFocusIn(e:Event):void
+		{
+			handleEvent(e,"FocusIn");
+		}
+		
+		private function onIOFocusOut(e:Event):void
+		{
+			handleEvent(e,"FocusOut");
+		}
+		
+		private function onIOKeyFocusChange(e:Event):void
+		{
+			handleEvent(e,"KeyFocusChange");
+		}
+		
+		private function onIOMouseFocusChange(e:Event):void
+		{
+			handleEvent(e,"MouseFocusChange");
+		}
+		
+		private function onDOAdded(e:Event):void
+		{
+			handleEvent(e,"Added");
+		}
+
+		private function onDOAddedToStage(e:Event):void
+		{
+			handleEvent(e,"AddedToStage");
+		}
+		
+		private function onDOActivate(e:Event):void
+		{
+			handleEvent(e,"Activate");
+		}
+		
+		private function onDODeactivate(e:Event):void
+		{
+			handleEvent(e,"Deactivate");
+		}
+		
+		private function onDORemoved(e:Event):void
+		{
+			handleEvent(e,"Removed");
+		}
+		
+		private function onDORemovedFromStage(e:Event):void
+		{
+			handleEvent(e,"RemovedFromStage");
+		}
+
+		private function onIOClick(e:MouseEvent):void
+		{
+			handleEvent(e,"Click");
+		}
+		
+		private function onIODoubleClick(e:MouseEvent):void
+		{
+			handleEvent(e,"DoubleClick");
+		}
+		
+		private function onIOMouseDown(e:MouseEvent):void
+		{
+			handleEvent(e,"MouseDown");
+		}
+		
+		private function onIOMouseMove(e:MouseEvent):void
+		{
+			handleEvent(e,"MouseMove");
+		}
+		
+		private function onIOMouseOver(e:MouseEvent):void
+		{
+			handleEvent(e,"MouseOver");
+		}
+		
+		private function onIOMouseOut(e:MouseEvent):void
+		{
+			handleEvent(e,"MouseOut");
+		}
+		
+		private function onIOMouseUp(e:MouseEvent):void
+		{
+			handleEvent(e,"MouseUp");
+		}
+	
+		private function onIOMouseWheel(e:MouseEvent):void
+		{
+			handleEvent(e,"MouseWheel",true);
+		}
+		
+		/**
+		 * Generic method used to handle all events, and possibly call
+		 * the callback on the defined callback delegate.
+		 */
+		private function handleEvent(e:*, func:String, forceEventObjectPass:Boolean=false):void
+		{
+			var obj:IEventDispatcher=IEventDispatcher(e.currentTarget || e.target);
+			if(!edinfo[obj])return;
+			var info:Object=Object(edinfo[obj]);
+			var f:String=info.callbackPrefix+func;
+			if(info.passThroughTracking&&!info.trackingID)Tracking.track(f);
+			else if(info.passThroughTracking&&info.trackingID)
+			{
+				f=info.trackingID+func;
+				Tracking.track(f);
+			}
+			if(!(f in info.callbackDelegate))return;
+			if(info.passEventObjects||forceEventObjectPass)info.callbackDelegate[f](e);
+			else info.callbackDelegate[f]();
+		}
+		
+		/**
+		 * A shorcut for the disposeEventsForObject method, this will used
+		 * in favor of the latter in 1.0.
+		 * 
+		 * @param obj The object in which events are being managed.
+		 */
+		public function disposeEvents(obj:IEventDispatcher):void
+		{
+			disposeEventsForObject(obj);
+		}
+
+		/**
+		 * Dispose of events for an object that was being managed by this event manager.
+		 * 
+		 * @param	obj	The object in which events are being managed.
+		 */
+		public function disposeEventsForObject(obj:IEventDispatcher):void
+		{
+			if(!edinfo[obj])return;
+			if(edinfo[obj])edinfo[obj]=null;
+			if(obj is XMLLoader)
+			{
+				var x:XMLLoader=XMLLoader(obj);
+				edinfo[x.contentLoader]=null;
+				x.contentLoader.removeEventListener(Event.COMPLETE,onXMLLoaderComplete);
+				return;
+			}
+			if(obj is Timer)
+			{
+				obj.removeEventListener(TimerEvent.TIMER, onTimer);
+				obj.removeEventListener(TimerEvent.TIMER_COMPLETE, onTimerComplete); 
+				return;
+			}
+			if(obj is LoaderInfo||obj is URLLoader)
+			{
+				obj.removeEventListener(Event.COMPLETE, onLIComplete);
+				obj.removeEventListener(Event.OPEN, onLIOpen);
+				obj.removeEventListener(Event.UNLOAD, onLIUnload);
+				obj.removeEventListener(Event.INIT, onLIInit);
+				obj.removeEventListener(ProgressEvent.PROGRESS, onLIProgress);
+				return;
+			}
+			if(obj is Camera||obj is Microphone)
+			{
+				obj.removeEventListener(ActivityEvent.ACTIVITY, onCameraActivity);
+				obj.removeEventListener(StatusEvent.STATUS, onCameraStatus);
+				return;
+			}
+			if(obj is Socket)
+			{
+				obj.removeEventListener(Event.CLOSE, onSocketClose);
+				obj.removeEventListener(Event.CONNECT, onSocketConnect);
+				obj.removeEventListener(ProgressEvent.SOCKET_DATA, onSocketData);
+				return;
+			}
+			if(obj is NetConnection)
+			{
+				obj.removeEventListener(StatusEvent.STATUS, onCameraStatus);
+				return;
+			}
+			if(obj is NetStream)
+			{
+				obj.removeEventListener(StatusEvent.STATUS, onCameraStatus);
+				return;
+			}
+			if(obj is FileReference)
+			{
+				obj.removeEventListener(Event.CANCEL, onFRCancel);
+				obj.removeEventListener(Event.COMPLETE, onFRComplete);
+				obj.removeEventListener(Event.OPEN,onFROpen);
+				obj.removeEventListener(Event.SELECT, onFRSelect);
+				obj.removeEventListener(DataEvent.UPLOAD_COMPLETE_DATA, onFRUploadCompleteData);
+				return;
+			}
+			if(obj is TextField)
+			{
+				obj.removeEventListener(Event.CHANGE, onTextFieldChange);
+				obj.removeEventListener(TextEvent.LINK, onTextFieldLink);
+				return;
+			}
+			if(obj is PreloadController)
+			{
+				obj.removeEventListener(PreloadProgressEvent.PROGRESS, onProgress);
+				obj.removeEventListener(Event.COMPLETE, onComplete);
+				obj.removeEventListener(AssetCompleteEvent.COMPLETE, onAssetComplete);
+				obj.removeEventListener(AssetErrorEvent.ERROR,onAssetError);
+			}
+			if(obj is FLV)
+			{
+				obj.removeEventListener(FLVEvent.PROGRESS,onFLVProgress);
+				obj.removeEventListener(FLVEvent.START,onFLVStart);
+				obj.removeEventListener(FLVEvent.STOP,onFLVStop);
+				obj.removeEventListener(FLVEvent.SEEK_NOTIFY,onFLVSeekNotify);
+				obj.removeEventListener(FLVEvent.SEEK_INVALID_TIME,onFLVSeekInvalidTime);
+				obj.removeEventListener(FLVEvent.STREAM_NOT_FOUND,onFLVStreamNotFound);
+				obj.removeEventListener(FLVEvent.BUFFER_FLUSH,onFLVBufferFlush);
+				obj.removeEventListener(FLVEvent.BUFFER_EMPTY,onFLVBufferEmpty);
+				obj.removeEventListener(FLVEvent.BUFFER_FULL,onFLVBufferFull);
+				obj.removeEventListener(FLVEvent.CUE_POINT,onFLVCuePoint);
+				obj.removeEventListener(FLVEvent.METADATA,onFLVMetaData);
+			}
+			if(obj is InteractiveObject)
+			{
+				obj.removeEventListener(Event.RESIZE, onStageResize);
+				obj.removeEventListener(Event.FULLSCREEN, onStageFullscreen);
+				obj.removeEventListener(Event.ADDED,onDOAdded);
+				obj.removeEventListener(Event.ADDED_TO_STAGE,onDOAddedToStage);
+				obj.removeEventListener(Event.ACTIVATE,onDOActivate);
+				obj.removeEventListener(Event.DEACTIVATE,onDODeactivate);
+				obj.removeEventListener(Event.REMOVED,onDORemoved);
+				obj.removeEventListener(Event.REMOVED_FROM_STAGE,onDORemovedFromStage);
+				obj.removeEventListener(Event.MOUSE_LEAVE, onStageMouseLeave);
+				obj.removeEventListener(MouseEvent.CLICK,onIOClick);
+				obj.removeEventListener(MouseEvent.DOUBLE_CLICK,onIODoubleClick);
+				obj.removeEventListener(MouseEvent.MOUSE_DOWN,onIOMouseDown);
+				obj.removeEventListener(MouseEvent.MOUSE_MOVE,onIOMouseMove);
+				obj.removeEventListener(MouseEvent.MOUSE_UP,onIOMouseUp);
+				obj.removeEventListener(MouseEvent.MOUSE_OUT,onIOMouseOut);
+				obj.removeEventListener(MouseEvent.MOUSE_OVER,onIOMouseOver);
+				obj.removeEventListener(MouseEvent.MOUSE_WHEEL,onIOMouseWheel);
+				obj.removeEventListener(MouseEvent.ROLL_OUT, onIORollOut);
+				obj.removeEventListener(MouseEvent.ROLL_OVER,onIORollOver);
+				obj.removeEventListener(FocusEvent.FOCUS_IN,onIOFocusIn);
+				obj.removeEventListener(FocusEvent.FOCUS_OUT,onIOFocusOut);
+				obj.removeEventListener(FocusEvent.KEY_FOCUS_CHANGE,onIOKeyFocusChange);
+				obj.removeEventListener(FocusEvent.MOUSE_FOCUS_CHANGE,onIOMouseFocusChange);
+				obj.removeEventListener(Event.TAB_CHILDREN_CHANGE, onTabChildrenChange);
+				obj.removeEventListener(Event.TAB_ENABLED_CHANGE, onTabEnabledChange);
+				obj.removeEventListener(Event.TAB_INDEX_CHANGE,onTabIndexChange);
+				obj.removeEventListener(KeyboardEvent.KEY_DOWN, onKeyDown);
+				obj.removeEventListener(KeyboardEvent.KEY_UP, onKeyUp);
+			}
+			if(obj is Sound)
+			{
+				obj.removeEventListener(Event.COMPLETE,onSoundComplete);
+				obj.removeEventListener(ProgressEvent.PROGRESS,onSoundProgress);
+				obj.removeEventListener(Event.OPEN,onSoundOpen);
+				obj.removeEventListener(Event.ID3,onSoundID3);
+			}
+			if(obj is SoundManager)
+			{
+				obj.removeEventListener(Event.CHANGE,onSoundChange);
+			}
+		}
+		
+		/**
+		 * Dispose of events for multiple objects.
+		 * @param	objects	An array of objects whose events should be disposed of.
+		 */
+		public function disposeEventsForObjects(...objects:Array):void
+		{
+			for each(var obj:* in objects)disposeEventsForObject(obj);
+		}	
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/KeyManager.as b/src/as/net/guttershark/managers/KeyManager.as
new file mode 100644
index 0000000..b6047b8
--- /dev/null
+++ b/src/as/net/guttershark/managers/KeyManager.as
@@ -0,0 +1,672 @@
+package net.guttershark.managers 
+{
+	import net.guttershark.util.Singleton;
+	
+	import flash.events.KeyboardEvent;
+	import flash.ui.Keyboard;
+	import flash.utils.Dictionary;
+	import flash.utils.clearTimeout;
+	import flash.utils.setTimeout;
+	
+	/**
+	 * The KeyManager class simplifies working with keyboard events.
+	 */
+	final public class KeyManager
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:KeyManager;
+		
+		/**
+		 * A timeout that executes when checking word match attempts.
+		 */
+		private var attemptedWordTimeout:Number;
+		
+		/**
+		 * A dictionary of key down mappings.
+		 */
+		private var keyMappings:Dictionary;
+		
+		/**
+		 * A dictionary of word mappins.
+		 */
+		private var wordMappings:Dictionary;
+		
+		/**
+		 * Callback lookups for sequence matches.
+		 */
+		private var sequenceCallbacks:Dictionary;
+		
+		/**
+		 * Sequences to search for by scope of the object being listened to.
+		 */
+		private var sequencesByScope:Dictionary;
+		
+		/**
+		 * A look up for word matches by scope.
+		 */
+		private var scopeToWordLookup:Dictionary;
+		
+		/**
+		 * tmp dict for key down / up monitoring.
+		 */
+		private var tmpDict:Dictionary;
+		
+		/**
+		 * A concatenated string of all keys currently down.
+		 */
+		private var keysDown:String;
+		
+		/**
+		 * The mapping count by scope.
+		 */
+		private var mappingCountByScope:Dictionary;
+		
+		/**
+		 * Singleton Instance.
+		 */
+		public static function gi():KeyManager
+		{
+			if(!inst) inst=Singleton.gi(KeyManager);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 * Constructor for KeyboardEventManager instances.
+		 */
+		public function KeyManager():void
+		{
+			Singleton.assertSingle(KeyManager);
+			keyMappings=new Dictionary();
+			wordMappings=new Dictionary();
+			sequenceCallbacks=new Dictionary();
+			scopeToWordLookup=new Dictionary();
+			tmpDict=new Dictionary();
+			sequencesByScope=new Dictionary();
+			mappingCountByScope=new Dictionary();
+			keysDown="";
+		}
+		
+		/**
+		 * Add a keyboard event mapping.
+		 * 
+		 * &lt;p>There are multiple ways you can add a handler. You can add
+		 * handler for a single character, a word or sentence, or a sequence.&lt;/p>
+		 * 
+		 * @example Adding mappings of different types.
+		 * &lt;listing>	
+		 * km=KeyManager.gi();
+		 * km.addMapping(stage,"f", onF);
+		 * km.addMapping(stage,"Whatup",onWhatup);
+		 * km.addMapping(stage,"CONTROL+SHIFT+M", onM);
+		 * km.addMapping(stage,"CONTROL+m",onM);
+		 * km.addMapping(myTextField,"ENTER",onEnter);
+		 * 
+		 * private function onM():void
+		 * {
+		 *    trace("on control+shift+m");
+		 * }
+		 * 
+		 * private function onF():void
+		 * {
+		 *    trace("on f");
+		 * }
+		 * 
+		 * private function onWhatup():void
+		 * {
+		 *    trace("you typed 'Whatup'");
+		 * }
+		 * 
+		 * private function onEnter():void
+		 * {
+		 *     trace("you pressed enter in the text field");
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * &lt;p>&lt;strong>Supported Key Shortcuts for Key Sequences&lt;/strong>&lt;/p>
+		 * &lt;ul>
+		 * &lt;li>BACKSPACE&lt;/li>
+		 * &lt;li>CONTROL&lt;/li>
+		 * &lt;li>CAPSLOCK&lt;/li>
+		 * &lt;li>DELETE&lt;/li>
+		 * &lt;li>DOWN&lt;/li>
+		 * &lt;li>END&lt;/li>
+		 * &lt;li>ENTER&lt;/li>
+		 * &lt;li>ESC&lt;/li>
+		 * &lt;li>F1&lt;/li>
+		 * &lt;li>F2&lt;/li>
+		 * &lt;li>F3&lt;/li>
+		 * &lt;li>F4&lt;/li>
+		 * &lt;li>F5&lt;/li>
+		 * &lt;li>F6&lt;/li>
+		 * &lt;li>F7&lt;/li>
+		 * &lt;li>F8&lt;/li>
+		 * &lt;li>F9&lt;/li>
+		 * &lt;li>F10&lt;/li>
+		 * &lt;li>F11&lt;/li>
+		 * &lt;li>F12&lt;/li>
+		 * &lt;li>F13&lt;/li>
+		 * &lt;li>F14&lt;/li>
+		 * &lt;li>F15&lt;/li>
+		 * &lt;li>HOME&lt;/li>
+		 * &lt;li>INSERT&lt;/li>
+		 * &lt;li>LEFT&lt;/li>
+		 * &lt;li>PAGEDOWN&lt;/li>
+		 * &lt;li>PAGEUP&lt;/li>
+		 * &lt;li>RIGHT&lt;/li>
+		 * &lt;li>SHIFT&lt;/li>
+		 * &lt;li>SPACE&lt;/li>
+		 * &lt;li>TAB&lt;/li>
+		 * &lt;li>UP&lt;/li>
+		 * &lt;li>NUMPAD1&lt;/li>
+		 * &lt;li>NUMPAD2&lt;/li>
+		 * &lt;li>NUMPAD3&lt;/li>
+		 * &lt;li>NUMPAD4&lt;/li>
+		 * &lt;li>NUMPAD5&lt;/li>
+		 * &lt;li>NUMPAD6&lt;/li>
+		 * &lt;li>NUMPAD7&lt;/li>
+		 * &lt;li>NUMPAD8&lt;/li>
+		 * &lt;li>NUMPAD9&lt;/li>
+		 * &lt;li>NUMPAD0&lt;/li>
+		 * &lt;li>NUMPAD_ADD&lt;/li>
+		 * &lt;li>NUMPAD_DIVIDE&lt;/li>
+		 * &lt;li>NUMPAD_MULTIPLY&lt;/li>
+		 * &lt;li>NUMPAD_SUBTRACT&lt;/li>
+		 * &lt;li>NUMPAD_DECIMAL&lt;/li>
+		 * &lt;li>NUMPAD_ENTER&lt;/li>
+		 * &lt;/ul>
+		 * 
+		 * @param scope The scope in which to add the keyboard events to.
+		 * @param mapping The mapping to listen for.
+		 * @param callback The callback function.
+		 */
+		public function addMapping(scope:*,mapping:String,callback:Function):void
+		{
+			if(mapping.length == 1) addCharMapping(scope,mapping,callback);
+			else if(isShortcutForKeycode(mapping)) addSequenceMapping(scope,mapping,callback);
+			else if(mapping.indexOf("+") > -1) addSequenceMapping(scope,mapping,callback);
+			else addWordMapping(scope, mapping, callback);
+		}
+		
+		/**
+		 * A shortcut for the &lt;em>&lt;code>addMapping&lt;/em>&lt;/code> method.
+		 */
+		public function am(scope:*, mapping:String, callback:Function):void
+		{
+			addMapping(scope,mapping,callback);
+		}
+		
+		/**
+		 * Add the same mapping and callback to multiple objects.
+		 * 
+		 * @param objects An array of objects to add mappings to.
+		 * @param mapping The mapping to listen for.
+		 * @param callback The callback function.
+		 */
+		public function addMappings(objects:Array,mapping:String,callback:Function):void
+		{
+			var l:int=objects.length;
+			var i:int=0;
+			for(i; i &lt; l; i++) addMapping(objects[i],mapping,callback);
+		}
+		
+		/**
+		 * Remove a keyboard event mapping.
+		 * 
+		 * @example Removing a keyboard event mapping.
+		 * &lt;listing>	
+		 * var km:KeyboardEventManager=KeyboardEventManager.gi();
+		 * km.addMapping(stage,"f",onF);
+		 * km.removeMapping(stage,"f");
+		 * &lt;/listing>
+		 * 
+		 * @param scope The scope - usually a DisplayObject or Stage.
+		 * @param mapping The key event mapping being listened for.
+		 */
+		public function removeMapping(scope:*, mapping:String):void
+		{
+			if(mapping.length == 1) removeCharMapping(scope, mapping);
+			else if(mapping.indexOf("+") > -1) removeSequenceMapping(scope, mapping);
+			else if(isShortcutForKeycode(mapping)) removeSequenceMapping(scope,mapping);
+			else removeWordMapping(scope, mapping);
+			clearKeys();
+		}
+		
+		/**
+		 * A shortcut for the &lt;em>&lt;code>removeMapping&lt;/em>&lt;/code> method.
+		 */
+		public function rm(scope:*, mapping:String):void
+		{
+			removeMapping(scope,mapping);
+		}
+		
+		/**
+		 * Remove the same mapping from multiple objects.
+		 * 
+		 * @param objects An array of objects to remove the mapping from.
+		 * @param mapping The key mapping to remove.
+		 */
+		public function removeMappings(objects:Array, mapping:String):void
+		{
+			var i:int=0;
+			var l:int=objects.length;
+			for(i;i&lt;l;i++) removeMapping(objects[i],mapping);
+			clearKeys();
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Clear all keys that have been pressed.
+		 * This is needed in cases where the object that is dispatching
+		 * keyboard events, is hidden, just before or after you call removeMapping
+		 * - which will cause the KEY_UP events to stop dispatching,
+		 * which is bad, as that event is crucial for this manager.
+		 * 
+		 * &lt;p>The only time you need this is when your hiding
+		 * the target object just before, or after you set it's visible
+		 * property to false, or, remove it from the stage.&lt;/p>
+		 * 
+		 * @example Handling race conditions with the KEY_UP event.
+		 * &lt;listing>	
+		 * var emailField:TextField;
+		 * var submitView:BasicView;
+		 * 
+		 * km.addMapping(emailField,"ENTER",onEnter);
+		 * 
+		 * function onEnter():void
+		 * {
+		 *     submitView.hide();
+		 *     //because submitView's visible property is now false, 
+		 *     //the KEY_UP event for the emailField does not fire - which
+		 *     //is a crucial feature, and clears internal states of what
+		 *     //keys are currently pressed. unfortunately there isn't a way
+		 *     //around this. So you must call clearKeys to fix this.
+		 *     
+		 *     //The problem will happen even if you place the submitView.hide()
+		 *     //call after the removeMapping function call as well.
+		 *     
+		 *     km.clearKeys();
+		 *     km.removeMapping(emailField,"ENTER");
+		 *     
+		 *     //submitView.hide(); //the same problem occurs here, as it's a race condition with the KEY_UP event.
+		 * }	
+		 * &lt;/listing>
+		 */
+		public function clearKeys():void
+		{
+			keysDown="";
+		}
+
+		/**
+		 * Returns the shortcut string representation of a keyCode
+		 */
+		private function getShortcutForKey(keyCode:uint):String
+		{
+			var char:String=null;
+			switch(keyCode)
+			{
+				case 0:
+					break;
+				case Keyboard.BACKSPACE:
+					char="BACKSPACE";
+					break;
+				case Keyboard.CONTROL:
+					char="CONTROL";
+					break;
+				case Keyboard.CAPS_LOCK:
+					char="CAPSLOCK";
+					break;
+				case Keyboard.DELETE:
+					char="DELETE";
+					break;
+				case Keyboard.DOWN:
+					char="DOWN";
+					break;
+				case Keyboard.END:
+					char="END";
+					break;
+				case Keyboard.ENTER:
+					char="ENTER";
+					break;
+				case Keyboard.ESCAPE:
+					char="ESC";
+					break;
+				case Keyboard.F1:
+					char="F1";
+					break;
+				case Keyboard.F2:
+					char="F2";
+					break;
+				case Keyboard.F3:
+					char="F3";
+					break;
+				case Keyboard.F4:
+					char="F4";
+					break;
+				case Keyboard.F5:
+					char="F5";
+					break;
+				case Keyboard.F6:
+					char="F6";
+					break;
+				case Keyboard.F7:
+					char="F7";
+					break;
+				case Keyboard.F8:
+					char="F8";
+					break;
+				case Keyboard.F9:
+					char="F9";
+					break;
+				case Keyboard.F10:
+					char="F10";
+					break;
+				case Keyboard.F11:
+					char="F11";
+					break;
+				case Keyboard.F12:
+					char="F12";
+					break;
+				case Keyboard.F13:
+					char="F13";
+					break;
+				case Keyboard.F14:
+					char="F14";
+					break;
+				case Keyboard.F15:
+					char="F15";
+					break;
+				case Keyboard.HOME:
+					char="HOME";
+					break;
+				case Keyboard.INSERT:
+					char="INSERT";
+					break;
+				case Keyboard.LEFT:
+					char="LEFT";
+					break;
+				case Keyboard.PAGE_DOWN:
+					char="PAGEDOWN";
+					break;
+				case Keyboard.PAGE_UP:
+					char="PAGEUP";
+					break;
+				case Keyboard.RIGHT:
+					char="RIGHT";
+					break;
+				case Keyboard.SHIFT:
+					char="SHIFT";
+					break;
+				case Keyboard.SPACE:
+					char="SPACE";
+					break;
+				case Keyboard.TAB:
+					char="TAB";
+					break;
+				case Keyboard.UP:
+					char="UP";
+					break;
+				case Keyboard.NUMPAD_1:
+					char="NUMPAD1";
+					break;
+				case Keyboard.NUMPAD_2:
+					char="NUMPAD2";
+					break;
+				case Keyboard.NUMPAD_3:
+					char="NUMPAD3";
+					break;
+				case Keyboard.NUMPAD_4:
+					char="NUMPAD4";
+					break;
+				case Keyboard.NUMPAD_5:
+					char="NUMPAD5";
+					break;
+				case Keyboard.NUMPAD_6:
+					char="NUMPAD6";
+					break;
+				case Keyboard.NUMPAD_7:
+					char="NUMPAD7";
+					break;
+				case Keyboard.NUMPAD_8:
+					char="NUMPAD8";
+					break;
+				case Keyboard.NUMPAD_9:
+					char="NUMPAD9";
+					break;
+				case Keyboard.NUMPAD_0:
+					char="NUMPAD0";
+					break;
+				case Keyboard.NUMPAD_ADD:
+					char="NUMPADADD";
+					break;
+				case Keyboard.NUMPAD_DECIMAL:
+					char="NUMPAD_DECIMAL";
+					break;
+				case Keyboard.NUMPAD_DIVIDE:
+					char="NUMPAD_DIVIDE";
+					break;
+				case Keyboard.NUMPAD_ENTER:
+					char="NUMPAD_ENTER";
+					break;
+				case Keyboard.NUMPAD_MULTIPLY:
+					char="NUMPAD_MULTIPLY";
+					break;
+				case Keyboard.NUMPAD_SUBTRACT:
+					char="NUMPAD_SUBTRACT";
+					break;
+			}
+			return char;
+		}
+		
+		/**
+		 * Test whether a string is a shortcut for a keycode.
+		 */
+		private function isShortcutForKeycode(mapping:String):Boolean
+		{
+			var keys:String="BACKSPACE+CONTROL+CAPSLOCK+DELETE+DOWN+";
+			keys += "END+ENTER+ESC+F1+F2+F3+F4+F5+F6+F7+F8+F9+F10+F11+F12+";
+			keys += "F13+F14+F15+HOME+INSERT+LEFT+PAGEDOWN+PAGEUP+RIGHT+SHIFT+SPACE+TAB+UP";
+			keys += "NUMPAD0+NUMPAD1+NUMPAD2+NUMPAD3+NUMPAD4+NUMPAD5+NUMPAD6+NUMPAD7+NUMPAD8+NUMPAD9+";
+			keys += "NUMPAD_ADD+NUMPAD_DECIMAL+NUMPAD_DIVIDE+NUMPAD_ENTER+NUMPAD_MULTIPLY+NUMPAD_SUBTRACT";
+			if(keys.indexOf(mapping) > -1) return true;
+			return false;
+		}
+		
+		/**
+		 * Add a callback mapping for a character.
+		 * 
+		 * @param	scope	The scope in which this keyboard event will be valid.
+		 * @param	char	The character to listen for.
+		 * @param	callback	The callback function.
+		 */
+		private function addCharMapping(scope:*, char:String, callback:Function):void
+		{
+			if(!keyMappings[scope])
+			{
+				scope.addEventListener(KeyboardEvent.KEY_UP, onKeyUp,false,0,true);
+				keyMappings[scope]=new Dictionary();
+			}
+			keyMappings[scope][char.charCodeAt(0)]=callback;
+			if(!mappingCountByScope[scope])
+			{
+				mappingCountByScope[scope]=new Dictionary();
+				mappingCountByScope[scope]['char']=0;
+			}
+			mappingCountByScope[scope]['char']++;		
+		}
+		
+		/**
+		 * Add a callback mapping for a word.
+		 * 
+		 * @param scope The scope in which the key event should be listened for.
+		 * @param word The word to listen for.
+		 * @param callback The callback function.
+		 */
+		private function addWordMapping(scope:*, word:String, callback:Function):void
+		{
+			if(!wordMappings[scope]) wordMappings[scope]=new Dictionary();
+			wordMappings[scope][word]=callback;
+			scopeToWordLookup[scope]=word;
+			scope.addEventListener(KeyboardEvent.KEY_UP,onKeyUpForWordMapping,false,0,true);
+			if(!mappingCountByScope[scope])
+			{
+				mappingCountByScope[scope]=new Dictionary();
+				mappingCountByScope[scope]['word']=0;
+			}
+			if(mappingCountByScope[scope]['word'] &lt; 0) mappingCountByScope[scope]['word']=0;
+			mappingCountByScope[scope]['word']++;
+		}
+		
+		/**
+		 * Add a mapping for a sequence of keys.
+		 * 
+		 * @param scope The scope in which the key event should be listened for.
+		 * @param word The word to listen for.
+		 * @param callback The callback function.
+		 */
+		private function addSequenceMapping(scope:*,sequence:String,callback:Function):void
+		{
+			if(!sequenceCallbacks[scope])
+			{
+				scope.addEventListener(KeyboardEvent.KEY_DOWN,onKeyDownForSequence);
+				scope.addEventListener(KeyboardEvent.KEY_UP,onKeyUpForSequence);
+				sequenceCallbacks[scope]=new Dictionary();
+				
+			}
+			if(!sequenceCallbacks[scope][sequence]) sequenceCallbacks[scope][sequence]=new Dictionary();
+			sequenceCallbacks[scope][sequence]['callback']=callback;
+			if(!mappingCountByScope[scope])
+			{
+				mappingCountByScope[scope]=new Dictionary();
+				mappingCountByScope[scope]['sequence']=0;
+			}
+			mappingCountByScope[scope]['sequence']++;
+		}
+		
+		/**
+		 * Remove a char mapping.
+		 * 
+		 * @param scope The scope in which the char mapping was on.
+		 * @param char The char that was being listened for.
+		 */
+		private function removeCharMapping(scope:*, char:String):void
+		{
+			if(!keyMappings[scope]) return;
+			if(!keyMappings[scope][char]) return;
+			keyMappings[scope][char]=null;
+			if(mappingCountByScope[scope]['char'] > 0) mappingCountByScope[scope]['char']--;
+			if(mappingCountByScope[scope]['char'] == 0) scope.removeEventListener(KeyboardEvent.KEY_UP, onKeyUp);
+		}
+		
+		/**
+		 * Remove a word mapping.
+		 * 
+		 * @param scope The scope in which the keyboard event was added.
+		 * @param word The word that was being listened for.
+		 */
+		private function removeWordMapping(scope:*,word:String):void
+		{
+			if(!wordMappings[scope])return;
+			if(!wordMappings[scope][word])return;
+			wordMappings[scope][word]=null;
+			if(mappingCountByScope[scope]['word']>0)mappingCountByScope[scope]['word']--;
+			if(mappingCountByScope[scope]['word']==0)scope.removeEventListener(KeyboardEvent.KEY_UP, onKeyUpForWordMapping);
+		}
+		
+		/**
+		 * Remove sequence mappings.
+		 * 
+		 * @param scope The scope in which the keyboard event was added.
+		 * @param word The word that was being listened for.
+		 */
+		private function removeSequenceMapping(scope:*, mapping:String):void
+		{
+			sequenceCallbacks[scope][mapping]=null;
+			sequenceCallbacks[scope][mapping]['callback']=null;
+			if(mappingCountByScope[scope]['sequence']>0)mappingCountByScope[scope]['sequence']--;
+			if(mappingCountByScope[scope]['sequence']==0)
+			{
+				sequenceCallbacks[scope]=null;
+				scope.removeEventListener(KeyboardEvent.KEY_UP, onKeyUpForSequence);
+				scope.removeEventListener(KeyboardEvent.KEY_DOWN, onKeyDownForSequence);
+			}
+		}
+		
+		/**
+		 * On key up for char mapping listener.
+		 */
+		private function onKeyUp(ke:KeyboardEvent):void
+		{
+			var scope:* =ke.target;
+			if(!keyMappings[scope]) return;
+			if(keyMappings[scope][ke.keyCode]) keyMappings[scope][ke.keyCode]();
+			else if(keyMappings[scope][ke.charCode]) keyMappings[scope][ke.charCode]();
+		}
+		
+		/**
+		 * On key up for a word mapping listener.
+		 */
+		private function onKeyUpForWordMapping(ke:KeyboardEvent):void
+		{
+			if(ke.charCode == 0) return;
+			var scope:* =ke.target;
+			var word:String=scopeToWordLookup[scope];
+			if(!word) return;
+			if(!tmpDict[scope]) tmpDict[scope]="";
+			tmpDict[scope] += String.fromCharCode(ke.charCode);
+			if(tmpDict[scope] == word)
+			{
+				wordMappings[scope][word]();
+				tmpDict[scope]="";
+			}
+			else if(tmpDict[scope].length >= word.length) tmpDict[scope]="";
+			clearTimeout(attemptedWordTimeout);
+			attemptedWordTimeout=setTimeout(clearAttemptedWord,500,scope);
+		}
+		
+		/**
+		 * On key up for a key sequence mapping listener.
+		 */
+		private function onKeyUpForSequence(ke:KeyboardEvent):void
+		{
+			var scope:* =ke.target;
+			var char:String=getShortcutForKey(ke.keyCode);
+			if(char==null) char=String.fromCharCode(ke.charCode);
+			var test:String=char+"+";
+			var i:int=0;
+			for(i;i&lt;4;i++)if(keysDown.indexOf(test)>-1)keysDown=keysDown.replace(test,"");
+			if(!keysDown||keysDown=="")return;
+			if(!sequenceCallbacks[scope][keysDown]) return;
+		}
+		
+		/**
+		 * On key down logic for a key sequence mapping.
+		 */
+		private function onKeyDownForSequence(ke:KeyboardEvent):void
+		{
+			var scope:* =ke.target;
+			if(!sequenceCallbacks[scope]) return;
+			var char:String=getShortcutForKey(ke.keyCode);
+			if(char == null) char=String.fromCharCode(ke.charCode);
+			var c:String=char+"+";
+			if(!keysDown)keysDown="";
+			if(keysDown.indexOf(c)>-1)return;
+			keysDown+=c;
+			var m:String=keysDown.substring(0,keysDown.length-1);
+			if(!sequenceCallbacks[scope][m])return;
+			if(sequenceCallbacks[scope][m])sequenceCallbacks[scope][m]['callback']();
+		}
+		
+		/**
+		 * Clears the attempted word for wordMapping
+		 */
+		private function clearAttemptedWord(scope:*):void
+		{
+			tmpDict[scope]="";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/LayoutManager.as b/src/as/net/guttershark/managers/LayoutManager.as
new file mode 100644
index 0000000..e3f3a9d
--- /dev/null
+++ b/src/as/net/guttershark/managers/LayoutManager.as
@@ -0,0 +1,7 @@
+package net.guttershark.managers
{
	import flash.display.DisplayObject;
+	import flash.display.DisplayObjectContainer;
+	import flash.display.Stage;
+	import flash.geom.Point;
+
+	/**
	 * The LayoutManager class adds shortcuts for layout, and layer management
	 * with a display objects children.
	 * 
	 * &lt;p>DisplayObject's must have their registration point at 0,0 in
	 * order for the align / stage align methods to function correctly. Otherwise
	 * you'll see shifts in what is expected.&lt;/p>
	 * 
	 * @example	Using a layout manager from a CoreClip.
	 * &lt;listing>	
	 * public class MyClip extends CoreClip
	 * {
	 *     public function MyClip()
	 *     {
	 *         super(); //critical
	 *         
	 *         var mc1:MovieClip=new MovieClip();
	 *         //draw vector box in mc1 here...
	 *        
	 *         var mc2:MovieClip=new MovieClip();
	 *         //draw vector box in mc2 here...
	 *         
	 *         var mc3:MovieClip=new MovieClip();
	 *         //draw vector box in mc3 here...
	 *         
	 *         lm.addChildren(mc1,mc2,mc3); //shortcut to add multiple children.
	 *         
	 *         lm.bringInFront(mc1,mc2); //moves mc1 in front of mc2.
	 *         lm.sendToBack(mc1); //sends mc1 all the way to the back.
	 *         lm.bringForward(mc2); //brings mc2 forward (in front of mc3).
	 *     }
	 * }
	 * &lt;/listing>
	 * 
	 * @example Using a layout manager manually.
	 * &lt;listing>	
	 * var lm:LayoutManager=new LayoutManager(this);
	 * 
	 * var mc1:MovieClip=new MovieClip();
	 * //draw box in mc1
	 * 
	 * var mc2:MovieClip=new MovieClip();
	 * //draw box in mc2
	 * 
	 * var mc3:MovieClip=new MovieClip();
	 * //draw box in mc3
	 * 
	 * lm.addChildren(mc1,mc2,mc3);
	 * lm.bringToFront(mc1); //moves mc1 in front
	 * &lt;/listing>
	 */
	final public class LayoutManager
	{
		
		/**
		 * The container in which layering operations will occur.
		 */
		protected var container:DisplayObjectContainer;

		/**
		 * zero point for local to local translations.
		 */
		private static var ZeroPoint:Point;
		
		/**
		 * The stage width from the versy first time a layout manager instance was created.
		 */
		private static var FirstStageWidth:int;
		
		/**
		 * The stage height from the versy first time a layout manager instance was created.
		 */
		private static var FirstStageHeight:int;
		
		/**
		 * a reference to the stage
		 */
		private static var StageRef:Stage;
		
		/**
		 * Whether or not to use whole pixels on for x and y coordinates.
		 */
		public static var wholePixels:Boolean=true;
		
		/**
		 * Ignore the stage align property and correctly translate
		 * stage alignment operations to the actual stage viewport -
		 * meaning if the stage.align property is anything other
		 * than undefined or TOP_LEFT, correctly translate the 
		 * positioning offsets that occur when setting x and y.
		 */
		public static var ignoreStageAlign:Boolean=true;
		
		/**
		 * @private
		 * Set a reference to the stage.
		 * 
		 * @param st The stage instance.
		 */
		public static function SetStageReference(st:Stage):void
		{
			if(!st) throw new Error("The {stage} parameter cannot be null.");
			StageRef=st;
			FirstStageHeight=st.stageHeight;
			FirstStageWidth=st.stageWidth;
		}
+		/**
		 * Constructor for LayoutManager instances. 
		 */
		public function LayoutManager(target:DisplayObjectContainer)
		{
			container=target;
			ZeroPoint=new Point(0,0);
			if(!FirstStageHeight && container.stage)
			{
				FirstStageHeight=container.stage.stageHeight;
				FirstStageWidth=container.stage.stageWidth;
				StageRef=container.stage;
			}
		}
		
		/**
		 * Gets the properties needed for container coordinate translations.
		 * 
		 * @param target The target display object.
		 * @param relativeTo The relative to display object.
		 */
		private function getProps(target:DisplayObject,relativeTo:DisplayObject):Object
		{
			var props:Object={};
			props.iw=target.width;
			props.ih=target.height;
			props.tw=relativeTo.width;
			props.th=relativeTo.height;
			props.tgp=relativeTo.localToGlobal(ZeroPoint);
			props.ilp=target.parent.globalToLocal(props.tgp);
			return props;
		}
		
		/**
		 * Bring a target display object in front of another display object.
		 * 
		 * @param target The target display object to re-layer.
		 * @param relativeTo The display object in which the target will be brought in front of.
		 */
		public function bringInFront(target:DisplayObject, relativeTo:DisplayObject):void
		{
			var index:int=container.getChildIndex(relativeTo);
			if(index &lt; container.getChildIndex(target)) index +=1;
			if(index!=-1) container.setChildIndex(target,index);
		}
		
		/**
		 * Send a target display object behind another display object.
		 * 
		 * @param target The target display object to re-layer.
		 * @param relativeTo The display object in which the target will be moved behind.
		 */
		public function sendBehind(target:DisplayObject, relativeTo:DisplayObject):void
		{
			var index:int=container.getChildIndex(relativeTo);
			if(index!=-1) container.setChildIndex(target,index);
		}
		
		/**
		 * Bring a display object forward 1 layer.
		 * 
		 * @param target The target display object.
		 */
		public function bringForward(target:DisplayObject):void
		{
			var index:int=container.getChildIndex(target)+1;
			if(index == container.numChildren) return;
			if(index!=-1) container.setChildIndex(target,index);
		}
		
		/**
		 * Send the target display object backward 1 layer.
		 * 
		 * @param target The target display object.
		 */
		public function sendBackward(target:DisplayObject):void
		{
			var index:int=Math.max(0,container.getChildIndex(target)-1);
			container.setChildIndex(target,index);
			if(index!=-1) container.setChildIndex(target,index);
		}
		
		/**
		 * Bring the target display object to the top most layer.
		 * 
		 * @param target The target display object.
		 */
		public function bringToFront(target:DisplayObject):void
		{
			var index:int=container.numChildren-1;
			container.setChildIndex(target,index);
			if(index!=-1) container.setChildIndex(target,index);
		}
		
		/**
		 * Send the target display object to bottom most layer.
		 * 
		 * @param target The target display object.
		 */
		public function sendToBack(target:DisplayObject):void
		{
			container.setChildIndex(target,0);
		}
		
		/**
		 * Add all children specified to the display list.
		 * 
		 * @param ...children An array of display objects to add.
		 */
		public function addChildren(...children):void
		{
			for each(var child:DisplayObject in children) container.addChild(child);
		}
		
		/**
		 * Add all children specified onto the display list of the target container.
		 * 
		 * @param target A display object to add the spefified children onto.
		 * @param ...children An array of display objects to add.
		 */
		public function addChildrenTo(target:DisplayObjectContainer,...children):void
		{
			for each(var child:DisplayObject in children) target.addChild(child);
		}

		/**
		 * Remove all children from the display list.
		 */
		public function removeAllChildren():void
		{
			if(container.numChildren&lt;1) return;
			var i:int=0;
			var l:int=container.numChildren;
			for(i;i&lt;l;i++) container.removeChildAt(0);
		}
		
		/**
		 * Remove all children specified from the display list.
		 * 
		 * @param ...children The children to remove.
		 */
		public function removeChildren(...children):void
		{
			for each(var child:DisplayObject in children) container.removeChild(child);
		}
		
		/**
		 * Remove all children from the display list of the specified target object.
		 * 
		 * @param target The target display object container whose children will be removed.
		 */
		public function removeAllChildrenFrom(target:DisplayObjectContainer):void
		{
			if(target.numChildren&lt;1) return;
			var i:int=0;
			var l:int=target.numChildren;
			for(i;i&lt;l;i++) target.removeChildAt(0);
		}

		/**
		 * Align the target display object centered on the x coordinate relatively
		 * to another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignXCenter(target:DisplayObject,relativeTo:DisplayObject):void
		{
			var props:Object=getProps(target,relativeTo);
			if(wholePixels) target.x=Math.round(props.ilp.x + ((props.tw - props.iw) / 2));
			else target.x=props.ilp.x + ((props.tw - props.iw) / 2);
		}

		/**
		 * Align the target display object centered on the y coordinate relatively
		 * to another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignYCenter(target:DisplayObject,relativeTo:DisplayObject):void 
		{
			var props:Object=getProps(target,relativeTo);
			if(wholePixels) target.y=Math.round(props.ilp.y + ((props.th - props.ih) / 2));
			else target.y=props.ilp.y + ((props.th - props.ih) / 2);
		}
		
		/**
		 * Align the target display object to the right edge of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignRight(target:DisplayObject,relativeTo:DisplayObject):void
		{
			var props:Object=getProps(target,relativeTo);
			if(wholePixels) target.x=Math.round(props.ilp.x + ((props.tw - props.iw)));
			else target.x=props.ilp.x + ((props.tw - props.iw));
		}
		
		/**
		 * Align the target display object to the left edge of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */	
		public function alignLeft(target:DisplayObject,relativeTo:DisplayObject):void 
		{
			var props:Object=getProps(target,relativeTo);
			if(wholePixels) target.x=Math.round(props.ilp.x);
			else target.x=props.ilp.x;
		}
		
		/**
		 * Align a display object to the top edge of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignTop(target:DisplayObject,relativeTo:DisplayObject):void 
		{
			var props:Object=getProps(target,relativeTo);
			if(wholePixels) target.y=Math.round(props.ilp.y);
			else target.y=props.ilp.y;
		}
		
		/**
		 * Align a display object to the bottom edge of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignBottom(target:DisplayObject,relativeTo:DisplayObject):void 
		{
			var props:Object=getProps(target,relativeTo);
			if(wholePixels) target.y=Math.round(props.ilp.y + (props.th-props.ih));
			else target.y=props.ilp.y + props.th;
		}
		
		/**
		 * Align a display object to the dead center of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignCenter(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignXCenter(target,relativeTo);
			alignYCenter(target,relativeTo);
		}
		
		/**
		 * Align a display object to the top center of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignTopCenter(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignXCenter(target,relativeTo);
			alignTop(target,relativeTo);
		}
		
		/**
		 * Align a display object to the bottom center of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignBottomCenter(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignXCenter(target,relativeTo);
			alignBottom(target,relativeTo);
		}
		
		/**
		 * Align a display object to the top left corner of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignTopLeft(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignLeft(target,relativeTo);
			alignTop(target,relativeTo);
		}
		
		/**
		 * Align a display object to the left middle of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignMiddleLeft(target:DisplayObject,relativeTo:DisplayObject):void 
		{
			alignLeft(target,relativeTo);
			alignYCenter(target,relativeTo);
		}
		
		/**
		 * Align a display object to the bottom left corner of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignBottomLeft(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignLeft(target,relativeTo);
			alignBottom(target,relativeTo);
		}
		
		/**
		 * Align a display object to the top right corner of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignTopRight(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignRight(target,relativeTo);
			alignTop(target,relativeTo);
		}
		
		/**
		 * Align a display object to the right middle of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignMiddleRight(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignRight(target,relativeTo);
			alignYCenter(target,relativeTo);
		}
		
		/**
		 * Align a display object to the bottom right corner of another display object.
		 * 
		 * @param target The target display object to align.
		 * @param relativeTo The target display object that target will be aligned to.
		 */
		public function alignBottomRight(target:DisplayObject,relativeTo:DisplayObject):void
		{
			alignRight(target,relativeTo);
			alignBottom(target,relativeTo);
		}
		
		/**
		 * Checks for a stage reference, if there is one, updates the properties needed
		 * for stage align methods otherwise throws an error because the
		 * container must be on the stage.
		 */
		private function checkForStageAndUpdate():void
		{
			if(!container.stage) throw new Error("The container used for the layout manager must be on the stage, before using any of the stage align methods.");
			if(!FirstStageHeight)
			{
				FirstStageHeight=container.stage.stageHeight;
				FirstStageWidth=container.stage.stageWidth;
				StageRef=container.stage;
			}
		}
		
		/**
		 * Gets common properties for the target item.
		 * 
		 * @param item The target display object.
		 */
		private function propsForStageAligns(item:DisplayObject):Object
		{
			checkForStageAndUpdate();
			var props:Object={};
			props.iw=item.width;
			props.ih=item.height;
			return props;
		}
		
		/**
		 * Takes care of updating the X coordinate for adjustments to
		 * stage size by resize, because if the stage.align property
		 * is anything other than top left, the coordinates get
		 * shifted strangely.
		 */
		private function updatePointXForStageAdjustments(p:Point):Point
		{
			if(StageRef.stageHeight == FirstStageHeight && StageRef.stageWidth == FirstStageWidth) return p;
			if(!(StageRef.align || StageRef.align == "T" || StageRef.align == "B"))
			{
				if(FirstStageWidth &lt; StageRef.stageWidth) p.x -= (StageRef.stageWidth - FirstStageWidth) / 2;
				else p.x += (FirstStageWidth - StageRef.stageWidth) / 2;
			}
			else if(StageRef.align == "R" || StageRef.align == "TR" || StageRef.align == "BR")
			{
				if(FirstStageWidth &lt; StageRef.stageWidth) p.x -= (StageRef.stageWidth - FirstStageWidth);
				else p.x += (FirstStageWidth - StageRef.stageWidth);
			}
			if(wholePixels) p.x=Math.round(p.x);
			return p;
		}
		
		/**
		 * Takes care of updating the Y coordinate for adjustments to
		 * stage size by resize, because if the stage.align property
		 * is anything other than top left, the coordinates get
		 * shifted strangely.
		 */
		private function updatePointYForStageAdjustments(p:Point):Point
		{
			if(StageRef.stageHeight == FirstStageHeight && StageRef.stageWidth == FirstStageWidth) return p;
			if(!(StageRef.align) || StageRef.align == "L" || StageRef.align == "R")
			{
				if(FirstStageHeight &lt; StageRef.stageHeight) p.y -= (StageRef.stageHeight - FirstStageHeight) / 2;
				else p.y += (FirstStageHeight - StageRef.stageHeight) / 2;
			}
			else if(StageRef.align == "BL" || StageRef.align == "BR" || StageRef.align == "B")
			{
				if(FirstStageHeight &lt; StageRef.stageHeight) p.y -= (StageRef.stageHeight - FirstStageHeight);
				else p.y += (FirstStageHeight - StageRef.stageHeight);
			}
			if(wholePixels) p.y=Math.round(p.y);
			return p;
		}
		
		/**
		 * Align the target display object centered on the x coordinate relatively
		 * to the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignXCenter(target:DisplayObject):void
		{
			var props:Object=propsForStageAligns(target);
			var nx:int=(container.stage.stageWidth - props.iw) / 2;
			var p:Point=new Point(nx,0);
			var np:Point=target.parent.globalToLocal(p);
			if(ignoreStageAlign) np=updatePointXForStageAdjustments(np);
			target.x=np.x;
		}

		/**
		 * Align the target display object centered on the y coordinate relatively
		 * to the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignYCenter(item:DisplayObject):void
		{
			var props:Object=propsForStageAligns(item);
			var ny:int=(container.stage.stageHeight - props.ih) / 2;
			var p:Point=new Point(0,ny);
			var np:Point=item.parent.globalToLocal(p);
			if(ignoreStageAlign) np=updatePointYForStageAdjustments(np);
			item.y=np.y;
		}
		
		/**
		 * Align the target display object to the right edge of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignRight(target:DisplayObject):void
		{
			var props:Object=propsForStageAligns(target);
			var nx:int=(container.stage.stageWidth - props.iw);
			var p:Point=new Point(nx,0);
			var np:Point=target.parent.globalToLocal(p);
			if(ignoreStageAlign) np=updatePointXForStageAdjustments(np);
			target.x=np.x;
		}
	
		/**
		 * Align the target display object to the left edge of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignLeft(target:DisplayObject):void
		{
			var p:Point=new Point(0,0);
			var np:Point=target.parent.globalToLocal(p);
			if(ignoreStageAlign) np=updatePointXForStageAdjustments(np);
			target.x=np.x;
		}

		/**
		 * Align the target display object to the bottom edge of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignBottom(target:DisplayObject):void
		{
			var props:Object=propsForStageAligns(target);
			var ny:int=(container.stage.stageHeight - props.ih);
			var p:Point=new Point(0,ny);
			var np:Point=target.parent.globalToLocal(p);
			if(ignoreStageAlign) np=updatePointYForStageAdjustments(np);
			target.y=np.y;
		}
		
		/**
		 * Align the target display object to the top edge of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignTop(target:DisplayObject):void
		{
			var p:Point=target.parent.globalToLocal(ZeroPoint);
			if(ignoreStageAlign) p=updatePointYForStageAdjustments(p);
			target.y=p.y;
		}
		
		/**
		 * Align the target display object to the dead center of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignCenter(target:DisplayObject):void
		{
			stageAlignXCenter(target);
			stageAlignYCenter(target);
		}
		
		/**
		 * Align the target display object to the right middle of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignMiddleRight(target:DisplayObject):void
		{
			stageAlignRight(target);
			stageAlignYCenter(target);
		}
		
		/**
		 * Align the target display object to the left middle of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignMiddleLeft(target:DisplayObject):void
		{
			stageAlignLeft(target);
			stageAlignYCenter(target);
		}
		
		/**
		 * Align the target display object to the top center of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignTopCenter(target:DisplayObject):void
		{
			stageAlignTop(target);
			stageAlignXCenter(target);
		}
		
		/**
		 * Align the target display object to the bottom center of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignBottomCenter(target:DisplayObject):void
		{
			stageAlignBottom(target);
			stageAlignXCenter(target);
		}
		
		/**
		 * Align the target display object to the top right corner of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignTopRight(target:DisplayObject):void
		{
			stageAlignRight(target);
			stageAlignTop(target);
		}
		
		/**
		 * Align the target display object to the bottom right corner of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignBottomRight(target:DisplayObject):void
		{
			stageAlignBottom(target);
			stageAlignRight(target);
		}
		
		/**
		 * Align the target display object to the bottom left corner of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignBottomLeft(target:DisplayObject):void
		{
			stageAlignLeft(target);
			stageAlignBottom(target);
		}
		
		/**
		 * Align the target display object to the top left corner of the stage.
		 * 
		 * @param target The target display object to align.
		 */
		public function stageAlignTopLeft(target:DisplayObject):void
		{
			stageAlignTop(target);
			stageAlignLeft(target);
		}
		
		/**
		 * Returns the stage dead center point.
		 */
		public function getStageDeadCenterPoint():Point
		{
			return new Point(StageRef.stageWidth/2,StageRef.stageHeight/2);
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/ServiceManager.as b/src/as/net/guttershark/managers/ServiceManager.as
new file mode 100644
index 0000000..d21cbf9
--- /dev/null
+++ b/src/as/net/guttershark/managers/ServiceManager.as
@@ -0,0 +1,202 @@
+package net.guttershark.managers
+{
+	import flash.utils.Dictionary;
+	import flash.utils.Proxy;
+	import flash.utils.flash_proxy;
+	
+	import net.guttershark.support.servicemanager.http.Service;
+	import net.guttershark.support.servicemanager.remoting.RemotingConnection;
+	import net.guttershark.support.servicemanager.remoting.RemotingService;
+	import net.guttershark.util.Singleton;
+	
+	/**
+	 * The ServiceManager simplifies remoting requests and http
+	 * requests with support for retries, timeouts, and some features that
+	 * are specific to one or the other.
+	 * 
+	 * @example A basic remoting request example.
+	 * &lt;listing>	
+	 * import net.guttershark.managers.ServiceManager;
+	 * import net.guttershark.support.serviceamanager.shared.CallResult;
+	 * import net.guttershark.support.serviceamanager.shared.CallFault;
+	 * 
+	 * var sm:ServiceManager=ServiceManager.gi();
+	 * 
+	 * sm.createRemotingService("users","http://localhost/amfphp/gateway.php",3,1,3000,true);
+	 * 
+	 * //make a remoting call.
+	 * sm.users.getAllUsers({onResult:onr,onFault:onf});
+	 * function onr(cr:CallResult):void{}
+	 * function onf(cf:CallFault):void{}
+	 * &lt;/listing>
+	 * 
+	 * @example A basic http request example:
+	 * &lt;listing>	
+	 * import net.guttershark.managers.ServiceManager;
+	 * import net.guttershark.support.serviceamanager.shared.CallResult;
+	 * import net.guttershark.support.serviceamanager.shared.CallFault;
+	 * var sm:ServiceManager=ServiceManager.gi();
+	 * sm.createHTTPService("codeigniter","http://localhost/codeigniter/index.php/",3,3000,false,"variables");
+	 * sm.codeigniter({routes:["user","name"],onResult:onr,onFault:onf}); // -> http://localhost/codeigniter/index.php/user/name
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>When you are creating a service (http or remoting) the parameters
+	 * you give to the service are the "defaults", but you can override the
+	 * attempts,timeout,limiter parameter by supplying it in the callProps
+	 * object.&lt;/p>
+	 * 
+	 * &lt;p>&lt;strong>See the Service and RemotingService classes for additional detailed
+	 * information and examples of the types of requests you can make as well as
+	 * supported call properties.&lt;/strong>&lt;/p>
+	 */
+	final public dynamic class ServiceManager extends Proxy
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:ServiceManager;
+		
+		/**
+		 * Stored services.
+		 */
+		private var services:Dictionary;
+		
+		/**
+		 * RemotingConnections that can be re-used for a service that connects
+		 * to the same gateway.
+		 */
+		private var rcp:Dictionary;
+		
+		/**
+		 * @private
+		 */
+		public function ServiceManager()
+		{
+			Singleton.assertSingle(ServiceManager);
+			services=new Dictionary();
+			rcp=new Dictionary();
+		}
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():ServiceManager
+		{
+			if(!inst) inst=Singleton.gi(ServiceManager);
+			return inst;
+		}
+		
+		/**
+		 * Creates a new remoting service internally that you can access as a property on the service manager instance.
+		 * 
+		 * @param id The id for the service - you can access the service dyanmically as well, like serviceManager.{id}.
+		 * @param gateway The gateway url for the remoting server.
+		 * @param endpoint The service endpoint, IE: com.test.Users.
+		 * @param objectEncoding The object encoding, 0 or 3.
+		 * @param attempts The number of attempts that will be allowed for each service call - this sets the default, but can be overwritten by a callProps object.
+		 * @param timeout The time allowed for each call, before making another attempt.
+		 * @param limiter Use a call limiter.
+		 * @param username A username to supply for a credentials header.
+		 * @param password A password to supply for a credentals header.
+		 */
+		public function createRemotingService(id:String,gateway:String,endpoint:String,objectEncoding:int,attempts:int=1,timeout:int=10000,limiter:Boolean=false,overwriteIfExists:Boolean=true,username:String=null,password:String=null):void
+		{
+			if(services[id]&&!overwriteIfExists)return;
+			var rc:RemotingConnection;
+			if(rcp[gateway])rc=rcp[gateway];
+			else rc=rcp[gateway]=new RemotingConnection(gateway,objectEncoding);
+			if(username&&password)rc.setCredentials(username,password);
+			if(services[id]&&overwriteIfExists)services[id].dispose();
+			services[id]=new RemotingService(rc,endpoint,attempts,timeout,limiter);
+		}
+		
+		/**
+		 * Creates a new http service internally that you can access as a property on the service manager instance.
+		 * 
+		 * @param id The id for the service - you can access the service dyanmically as well, like serviceManager.{id}.
+		 * @param url The http url for the service.
+		 * @param attempts The number of attempts that will be allowed for each service call - this sets the default, but can be overwritten by a callProps object.
+		 * @param timeout The time allowed for each call, before making another attempt.
+		 * @param limiter Use a call limiter. (currently not available for HTTP, but plans to add in, in the future.)
+		 * @param defaultResponseFormat	The default response format ("variables","xml","text","binary"), see net.guttershark.support.servicemanager.http.ResponseFormat.
+		 */
+		public function createHTTPService(id:String, url:String, attempts:int=1, timeout:int=10000, limiter:Boolean=false, defaultResponseFormat:String="variables"):void
+		{
+			if(services[id]) return;
+			var s:Service=new Service(url,attempts,timeout,limiter,defaultResponseFormat);
+			services[id]=s;
+		}
+		
+		/**
+		 * Get's a service from the internal dictionary of services.
+		 * 
+		 * &lt;p>This is only intended to be used when you need to get a service
+		 * defined by a variable, and not a hard coded property on the service manager.&lt;/p>
+		 * 
+		 * @example Intended use for this method:
+		 * &lt;listing>	
+		 * var sm:ServiceManager=ServiceManager.gi();
+		 * sm.createRemotingService("amfphp","http://localhost/amfphp/gateway.php","HelloWorld");
+		 * 
+		 * //only intended for use when a variable decides the service it will use.
+		 * var a:String="amfphp";
+		 * trace(sm.getService(a)); //return amfphp service.
+		 * 
+		 * //the default, recommended way
+		 * trace(sm.amfphp); //returns amfphp service.
+		 * &lt;/listing>
+		 * 
+		 * @param id The service id.
+		 */
+		public function getService(id:String):*
+		{
+			if(!services[id]) throw new Error("Service {"+id+"} does not exist.");
+			return services[id];
+		}
+		
+		/**
+		 * Check whether or not a service has been created.
+		 * 
+		 * @param id The service id to check for.
+		 */
+		public function serviceExist(id:String):Boolean
+		{
+			return !(services[id]==null);
+		}
+		
+		/**
+		 * Dispose of a service.
+		 *
+		 * @param id The service id.
+		 */
+		public function disposeService(id:String):void
+		{
+			if(!services[id]) return;
+			services[id].dispose();
+			services[id]=null;
+		}
+				
+		/**
+		 * @private
+		 * 
+		 * getProperty - override getters to return null always.
+		 */
+		flash_proxy override function getProperty(name:*):*
+		{
+			if(services[name]) return services[name];
+			else throw new Error("Service {"+name+"} not available");
+		}
+		
+		/**
+		 * @private
+		 */
+		flash_proxy override function callProperty(methodName:*, ...args):*
+		{
+			if(!services[methodName]) throw new Error("Service {"+methodName+"} not found.");
+			if(services[methodName] is RemotingService) throw new Error("RemotingService cannot be called this way. Please see the documentation in ServiceManager.");
+			var callProps:Object=args[0];
+			services[methodName].send(callProps);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/managers/SoundManager.as b/src/as/net/guttershark/managers/SoundManager.as
new file mode 100644
index 0000000..6ac401d
--- /dev/null
+++ b/src/as/net/guttershark/managers/SoundManager.as
@@ -0,0 +1,142 @@
+package net.guttershark.managers 
+{
+	import net.guttershark.support.soundmanager.AudioGroup;
+	import net.guttershark.util.Singleton;
+	
+	import flash.utils.Dictionary;
+	import flash.utils.Proxy;
+	import flash.utils.flash_proxy;	
+	
+	/**
+	 * The SoundManager class simplifies managing sounds.
+	 * 
+	 * &lt;p>To get started, the first thing you must do is
+	 * create a group with the &lt;em>createGroup&lt;/em> method.&lt;/p>
+	 * 
+	 * @example Creating a new group:
+	 * &lt;listing>	
+	 * snm.createGroup("myGroup");
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>After you've created a group, it becomes a property on the
+	 * sound manager you can access by name.&lt;/p>
+	 * 
+	 * @example Accessing the group:
+	 * &lt;listing>	
+	 * trace(snm.myGroup);
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>After you have a group, you can add sound instances and objects
+	 * to it, which can be controlled entirely as a group, or
+	 * individually.&lt;/p>
+	 * 
+	 * @example Adding a sound and a display object to a group:
+	 * &lt;listing>	
+	 * var am:AssetManager=AssetManager.gi();
+	 * var myFLVPlayer:FLV=new FLV();
+	 * snm.myGroup.addObject("sparkle",am.getSound("Sparkle"));
+	 * snm.myGroup.addObject("flvPlayer",myFLVPlayer);
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>After you've added objects to the group, you can control
+	 * the group, or individual objects.&lt;/p>
+	 * 
+	 * @example Controlling a group, and objects:
+	 * &lt;listing>	
+	 * snm.myGroup.play(); //plays all sound instances in the group
+	 * snm.myGroup.volume=.3; //sets the volume to .3 for all objects in the group
+	 * snm.myGroup.sparkle.play(); //plays the "sparkle" sound from this group.
+	 * snm.myGroup.flvPlayer.mute(); //mutes the flv player object.
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>The key thing to note is what object types your accessing, which
+	 * will point you in the right direction for what methods
+	 * and properties are accessable.&lt;/p>
+	 * 
+	 * @example What objects are you accessing?
+	 * &lt;listing>	
+	 * trace(snm.myGroup); //-> [Object AudioGroup]
+	 * trace(snm.myGroup.sparkle); //-> [Object AudioObject]
+	 * &lt;/listing>
+	 */
+	final public dynamic class SoundManager extends Proxy 
+	{
+	
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:SoundManager;
+		
+		/**
+		 * stored groups.
+		 */
+		private var groups:Dictionary;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():SoundManager
+		{
+			if(!inst)inst=Singleton.gi(SoundManager);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function SoundManager()
+		{
+			groups=new Dictionary();
+		}
+		
+		/**
+		 * Create an audio group.
+		 * 
+		 * @param id The group id.
+		 */
+		public function createGroup(id:String):void
+		{
+			groups[id]=new AudioGroup(id);
+		}
+		
+		/**
+		 * Destroy an audio group.
+		 * 
+		 * @param id The group id.
+		 */
+		public function destroyGroup(id:String):void
+		{
+			AudioGroup(groups[id]).dispose();
+			groups[id]=null;
+			delete groups[id];
+		}
+		
+		/**
+		 * Check whether or not a group exists.
+		 * 
+		 * @param id The group id.
+		 */
+		public function doesGroupExist(id:String):Boolean
+		{
+			return !(groups[id]==null);
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * getProperty - override getters to return null always.
+		 */
+		flash_proxy override function getProperty(name:*):*
+		{
+			if(!groups[name])groups[name]=new AudioGroup(name);
+			return groups[name];
+		}
+		
+		/**
+		 * @private
+		 */
+		flash_proxy override function callProperty(methodName:*, ...args):*
+		{
+			trace("Method {"+methodName+"} not found.");
+			return null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/model/Model.as b/src/as/net/guttershark/model/Model.as
new file mode 100644
index 0000000..8e7161c
--- /dev/null
+++ b/src/as/net/guttershark/model/Model.as
@@ -0,0 +1,883 @@
+package net.guttershark.model 
+{
+	import net.guttershark.managers.AssetManager;
+	import net.guttershark.managers.ContextMenuManager;
+	import net.guttershark.managers.ServiceManager;
+	import net.guttershark.support.preloading.Asset;
+	import net.guttershark.util.Assertions;
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.StringUtils;
+	import net.guttershark.util.StyleSheetUtils;
+	import net.guttershark.util.Utilities;
+	import net.guttershark.util.XMLLoader;
+	import net.guttershark.util.cache.Cache;
+	
+	import flash.events.Event;
+	import flash.external.ExternalInterface;
+	import flash.net.SharedObject;
+	import flash.net.URLRequest;
+	import flash.net.navigateToURL;
+	import flash.text.Font;
+	import flash.text.StyleSheet;
+	import flash.text.TextFormat;
+	import flash.ui.ContextMenu;
+	import flash.utils.Dictionary;
+
+	/**
+	 * The Model class contains shortcuts for parsing a model xml file.
+	 * 
+	 * @example Example model XML file:
+	 * &lt;listing>	
+	 * &lt;?xml version="1.0" encoding="utf-8"?&gt;
+	 * &lt;model&gt;
+	 * 	  &lt;content&gt;
+	 *        &lt;text id="helloWorldExample"&gt;&lt;![CDATA[Hello]]&gt;&lt;/text&gt;
+	 *        &lt;text id="sparsley"&gt;&lt;![CDATA[Some more example content]]&gt;&lt;/text&gt;
+	 *    &lt;/content&gt;
+	 *    &lt;properties&gt;
+	 *        &lt;propset id="test"&gt;
+	 *            &lt;textFormat id="theTextFormat" /&gt;
+	 *            &lt;alpha&gt;0.5&lt;/alpha&gt;
+	 *            &lt;xywh x="20" y="+30" width="+100" height="100" /&gt; &lt;!-- optional node for x/y/w/h --&gt;
+	 *            &lt;y&gt;+30&lt;/y&gt;
+	 *            &lt;width&gt;400&lt;/width&gt;
+	 *            &lt;alpha&gt;+.4&lt;/alpha&gt;
+	 *        &lt;/propset&gt;
+	 *        &lt;propset id="tfieldTest"&gt;
+	 *            &lt;styleSheet id="colors3" /&gt;
+	 *            &lt;htmlText&gt;&lt;![CDATA[&lt;p&gt;&lt;span class="pink"&gt;hello&lt;/span&gt; &lt;span class="some"&gt;w&lt;/span&gt;orld&lt;/p&gt;]]&gt;&lt;/htmlText&gt;
+	 *            &lt;htmlText id="sparsley"/&gt; &lt;!-- optionally you can target a content/text node from the model, but not both. --&gt;
+	 *        &lt;/propset&gt;
+	 *    &lt;/properties&gt;
+	 *    &lt;fonts&gt;
+	 *        &lt;font libraryName="Arial_Test" /&gt;
+	 *        &lt;group id="myGroup"&gt;
+	 *            &lt;font libraryName="Helvetica Neueu Bold Condensed" /&gt;
+	 *        &lt;/group&gt;
+	 *    &lt;/fonts&gt;
+	 *    &lt;assets&gt;
+	 *        &lt;asset libraryName="clayBanner1" source="clay_banners_1.jpg" preload="true" /&gt;
+	 *        &lt;asset libraryName="clayBanner2" source="clay_banners_2.jpg" /&gt;
+	 *        &lt;asset libraryName="clayWebpage" source="clay_webpage.jpg" /&gt;
+	 *        &lt;group id="sounds"&gt;
+	 *            &lt;asset libraryName="thesound" source="sound.mp3" path="sounds" /&gt;
+	 *        &lt;/group&gt;
+	 *    &lt;/assets&gt;
+	 *    &lt;links&gt;
+	 *        &lt;link id="google" url="http://www.google.com" /&gt;
+	 *        &lt;link id="rubyamf" url="http://www.rubyamf.org" /&gt;
+	 *        &lt;link id="guttershark" url="http://www.guttershark.net" window="_blank" /&gt;
+	 *    &lt/links&gt;
+	 *    &lt;attributes&gt;
+	 *        &lt;attribute id="someAttribute" value="the value" /&gt;
+	 *    &lt;/attributes&gt;
+	 *    &lt;services&gt;
+	 *        &lt;gateway id="amfphp" path="amfphp" url="http://localhost/amfphp/gateway.php" objectEncoding="3" /&gt;
+	 *        &lt;service id="test" gateway="amfphp" endpoint="Test" limiter="true" attempts="4" timeout="1000" /&gt;
+	 *        &lt;service id="foo" url="http://localhost/" attempts="4" timeout="1000" /&gt;
+	 *        &lt;service id="sessionDestroy" path="sessiondestroy" url="http://tagsf/services/codeigniter/session/destroy" attempts="4" timeout="1000" responseFormat="variables" /&gt;
+	 *        &lt;service id="ci" url="http://tagsf/services/codeigniter/" attempts="4" timeout="1000" responseFormat="variables" /&gt;
+	 *    &lt;/services&gt;
+	 *    &lt;stylesheets&gt;
+	 *        &lt;stylesheet id="colors"&gt;
+	 *        &lt;![CDATA[
+	 *            .pink{color:#FF0066}
+	 *        ]]&gt;
+	 *        &lt;/stylesheet&gt;
+	 *        &lt;stylesheet id="colors2"&gt;
+	 *        &lt;![CDATA[
+	 *            .some{color:#FF8548}
+	 *        ]]&gt;
+	 *        &lt;/stylesheet&gt;
+	 *        &lt;stylesheet id="colors3" mergeStyleSheets="colors,colors2" /&gt;
+	 *    &lt;/stylesheets&gt;
+	 *    &lt;textformats&gt;
+	 *        &lt;textformat id="theTF" font="Arial" color="0xFF0066" bold="true" /&gt;
+	 *    &lt;/textformats&gt;
+	 *    &lt;contextmenus&gt;
+	 *        &lt;menu id="menu1"&gt;
+	 *            &lt;item id="home" label="home" /&gt;
+	 *            &lt;item id="back" label="GO BACK" sep="true"/&gt;
+	 *        &lt;/menu&gt;
+	 *    &lt;/contextmenus&gt;
+	 * &lt;/model&gt;
+	 * &lt;/listing>
+	 */
+	final public dynamic class Model
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		protected static var inst:Model;
+		
+		/**
+		 * Reference to the entire model XML.
+		 */
+		private var _model:XML;
+		
+		/**
+		 * Stores a reference to the &lt;assets&gt;&lt;/assets&gt;
+		 * node in the model xml.
+		 */
+		protected var assets:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;links&gt;&lt;/links&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var links:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;attributes&gt;&lt;/attributes&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var attributes:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;services&gt;&lt;/services&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var services:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;stylesheets&gt;&lt;/stylesheets&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var stylesheets:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;textformats&gt;&lt;/textformats&gt;&lt;/code>
+		 */
+		protected var textformats:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;content&gt;&lt;/content&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var contents:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;properties&gt;&lt;/properties&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var properties:XMLList;
+		
+		/**
+		 * Stores a reference to the &lt;code>&lt;fonts&gt;&lt/fonts&gt;&lt;/code>
+		 * node in the model xml.
+		 */
+		protected var fonts:XMLList;
+		
+		/**
+		 * A placeholder variable for the movies flashvars - this is
+		 * not set by default, you need to set it in your controller.
+		 */
+		public var flashvars:Object;
+		
+		/**
+		 * A placeholder variable for the movies shared object - this is
+		 * not set by default, override &lt;em>&lt;code>restoreSharedObject&lt;/code>&lt;/em>
+		 * in your DocumentController, and set this property to a shared object.
+		 */
+		public var sharedObject:SharedObject;
+		
+		/**
+		 * Assertions.
+		 */
+		private var ast:Assertions;
+
+		/**
+		 * If external interface is not available, all paths are stored here.
+		 */
+		private var paths:Dictionary;
+		
+		/**
+		 * ExternalInterface availability flag.
+		 */
+		private var available:Boolean;
+		
+		/**
+		 * Flag for warning about ExternalInterface.
+		 */
+		private var warnedAboutEI:Boolean;
+		
+		/**
+		 * Utilities singleton instance.
+		 */
+		private var utils:Utilities;
+		
+		/**
+		 * A cache for text formats and stylesheets.
+		 */
+		private var modelcache:Cache;
+		
+		/**
+		 * A reference to the context menu xml node.
+		 */
+		private var contextmenus:XMLList;
+		
+		/**
+		 * Custom merged stylesheets.
+		 */
+		private var customStyles:Dictionary;
+
+		/**
+		 * xml loader used for loadModelXML;
+		 */
+		private var xmlLoader:XMLLoader;
+		
+		/**
+		 * A callback for xml loader complete function.
+		 */
+		private var xmlLoaderOnComplete:Function;
+		
+		/**
+		 * String utils.
+		 */
+		private var su:StringUtils;
+		
+		/**
+		 * Asset Manager.
+		 */
+		private var am:AssetManager;
+		
+		/**
+		 * Context menu manager.
+		 */
+		private var cmm:ContextMenuManager;
+
+		/**
+		 * @private
+		 * Constructor for Model instances.
+		 */
+		public function Model()
+		{
+			Singleton.assertSingle(Model);
+			paths=new Dictionary();
+			customStyles=new Dictionary();
+			ast=Assertions.gi();
+			utils=Utilities.gi();
+			modelcache=new Cache();
+			su=StringUtils.gi();
+			am=AssetManager.gi();
+			cmm=ContextMenuManager.gi();
+		}
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():Model
+		{
+			if(!inst) inst=Singleton.gi(Model);
+			return inst;
+		}
+		
+		/**
+		 * Sets the model xml.
+		 * 
+		 * @param xml The xml content that is the model.
+		 */
+		public function set xml(xml:XML):void
+		{
+			ast.notNil(xml, "Parameter xml cannot be null");
+			_model=xml;
+			if(_model.assets)assets=_model.assets;
+			if(_model.links)links=_model.links;
+			if(_model.attributes)attributes=_model.attributes;
+			if(_model.stylesheets)stylesheets=_model.stylesheets;
+			if(_model.service)services=_model.services;
+			if(_model.textformats)textformats=_model.textformats;
+			if(_model.content)contents=_model.content;
+			if(_model.contextmenus)contextmenus=_model.contextmenus;
+			if(_model.properties)properties=_model.properties;
+			if(_model.fonts)fonts=_model.fonts;
+		}
+		
+		/**
+		 * The XML used as the model.
+		 */
+		public function get xml():XML
+		{
+			return _model;
+		}
+		
+		/**
+		 * Load's an xml file to use as the model xml.
+		 * Generally this is not needed, unless you use
+		 * the model without a DocumentController.
+		 * 
+		 * @param xmlRequest The xml file to load.
+		 * @param onCompleteCallback A callback function for on complete of the xml load.
+		 */
+		public function loadModelXML(xmlRequest:URLRequest,onCompleteCallback:Function=null):void
+		{
+			xmlLoaderOnComplete=onCompleteCallback;
+			xmlLoader=new XMLLoader();
+			xmlLoader.contentLoader.addEventListener(Event.COMPLETE,onXMLComplete,false,0,true);
+			xmlLoader.load(xmlRequest);
+		}
+		
+		/**
+		 * On model xml complete.
+		 */
+		private function onXMLComplete(e:Event):void
+		{
+			xml=xmlLoader.data;
+			xmlLoader.removeEventListener(Event.COMPLETE,onXMLComplete);
+			if(xmlLoaderOnComplete!=null)xmlLoaderOnComplete();
+		}
+
+		/**
+		 * Get an Asset instance by the library name.
+		 * 
+		 * @param libraryName The libraryName of the asset to create.
+		 * @param prependSourcePath	The path to append to the source property of the asset.
+		 */
+		public function getAssetByLibraryName(libraryName:String, prependSourcePath:String=null):Asset
+		{
+			checkForXML();
+			var cacheKey:String="asset_"+libraryName;
+			if(modelcache.isCached(cacheKey))return modelcache.getCachedObject(cacheKey) as Asset;
+			ast.notNil(libraryName,"Parameter libraryName cannot be null");
+			var node:XMLList=assets..asset.(@libraryName==libraryName);
+			var ft:String=(node.@forceType!=undefined&&node.@forceType!="")?node.@forceType:null;
+			var src:String=node.@source || node.@src;
+			if(prependSourcePath)src=prependSourcePath+src;
+			if(node.@path!=undefined)src=getPath(node.@path.toString())+src;
+			var a:Asset=new Asset(src,libraryName,ft);
+			modelcache.cacheObject(cacheKey,a);
+			return a;
+		}
+		
+		/**
+		 * Get an array of asset objects, from the provided library names.
+		 * 
+		 * @param ...libraryNames An array of library names.
+		 */
+		public function getAssetsByLibraryNames(...libraryNames:Array):Array
+		{
+			checkForXML();
+			var cacheKey:String="assets_"+libraryNames.join("");
+			if(modelcache.isCached(cacheKey))return modelcache.getCachedObject(cacheKey) as Array;
+			var p:Array=[];
+			var i:int=0;
+			var l:int=libraryNames.length;
+			for(i;i&lt;l;i++) p[i]=getAssetByLibraryName(libraryNames[i]);
+			modelcache.cacheObject(cacheKey,p);
+			return p;
+		}
+		
+		/**
+		 * Get an array of asset objects, defined by a group node.
+		 * 
+		 * @param groupId The id of the group node.
+		 */
+		public function getAssetGroup(groupId:String):Array
+		{
+			checkForXML();
+			var cacheKey:String="assetGroup_"+groupId; 
+			if(modelcache.isCached(cacheKey))return modelcache.getCachedObject(cacheKey) as Array;
+			var x:XMLList=assets..group.(@id==groupId);
+			var n:XML;
+			var payload:Array=[];
+			for each(n in x..asset)payload.push(getAssetByLibraryName(n.@libraryName));
+			modelcache.cacheObject(cacheKey,payload);
+			return payload;
+		}
+		
+		/**
+		 * Initializes all services defined in the model XML with the ServiceManager.
+		 */
+		public function initServices():void
+		{
+			checkForXML();
+			var sm:ServiceManager=ServiceManager.gi();
+			var children:XMLList=xml.services.service;
+			var oe:int=3;
+			var gateway:String;
+			var attempts:int=1;
+			var timeout:int=10000;
+			var limiter:Boolean=false;
+			var url:String;
+			var drf:String;
+			for each(var s:XML in children)
+			{
+				if(s.@attempts != undefined) attempts=int(s.@attempts);
+				if(s.@timeout != undefined) timeout=int(s.@timeout);
+				if(s.@limiter != undefined && s.@limiter=="true") limiter=true;
+				if(s.@gateway != undefined)
+				{
+					var r:XMLList=xml.services.gateway.(@id == s.@gateway);
+					var username:String;
+					var password:String;
+					if(!r) throw new Error("Gateway {"+s.@gateway+"} not found.");
+					if(r.@password !=undefined && (r.@username != undefined || r.@userid !=undefined))
+					{
+						username=(r.@username!=undefined) ? r.@username : r.@userid;
+						password=r.@password;
+					}
+					if(r.@url!=undefined)gateway=r.@url;
+					if(r.@path!=undefined&&isPathDefined(r.@path.toString()))gateway=getPath(r.@path.toString());
+					if(!gateway) throw new Error("Gateway not found, you must have a url or path attribute defined on the gateway node.");
+					if(r.@objectEncoding!=undefined) oe=int(r.@objectEncoding);
+					if(oe != 3 && oe != 0) throw new Error("ObjectEncoding can only be 0 or 3.");
+					sm.createRemotingService(s.@id,gateway,s.@endpoint,oe,attempts,timeout,limiter,true,username,password);
+				}
+				else
+				{
+					if(s.@url != undefined)url=s.@url;
+					if(s.@path!=undefined&&isPathDefined(s.@path.toString()))url=getPath(s.@path.toString());
+					if(s.@responseFormat != undefined) drf=s.@responseFormat;
+					if(drf != null && drf != "variables" && drf != "xml" && drf != "text" && drf != "binary") throw new Error("The defined response format is not supported, only xml|text|binary|variables is supported.");
+					sm.createHTTPService(s.@id, url, attempts, timeout, limiter, drf);
+				}
+			}
+		}
+		
+		/**
+		 * Returns an array of Asset instances from the assets node,
+		 * that has a "preload" attribute set to true (preload='true').
+		 */
+		public function getAssetsForPreload():Array
+		{
+			checkForXML();
+			var a:XMLList=assets..asset;
+			if(!a)
+			{
+				trace("WARNING: No assets were defined, not doing anything.");
+				return null;
+			}
+			var payload:Array=[];
+			for each(var n:XML in a)
+			{
+				if(n.@preload==undefined||n.@preload=="false")continue;
+				var src:String=n.@source||n.@src;
+				if(n.attribute("path")!=undefined)src=getPath(n.@path.toString())+src;
+				var ast:Asset=new Asset(src,n.@libraryName);
+				payload.push(ast);
+			}
+			return payload;
+		}
+		
+		/**
+		 * Creates and returns a URLRequest from a link node.
+		 * 
+		 * @param id The id of the link node.
+		 */
+		public function getLink(id:String):URLRequest
+		{
+			checkForXML();
+			var key:String="link_"+id;
+			if(modelcache.isCached(key))return URLRequest(modelcache.getCachedObject(key));
+			var link:XMLList=links..link.(@id==id);
+			if(!link) return null;
+			var u:URLRequest;
+			if(link.@url!=undefined)u=new URLRequest(link.@url);
+			else if(link.@href!=undefined)u=new URLRequest(link.@href);
+			modelcache.cacheObject(key,u);
+			return u;
+		}
+		
+		/**
+		 * Check whether or not a link is defined in the model.
+		 * 
+		 * @param id The link id.
+		 */
+		public function doesLinkExist(id:String):Boolean
+		{
+			checkForXML();
+			var link:XMLList=links..link.(@id==id);
+			if(!link||link==null)return false;
+			return true;
+		}
+		
+		/**
+		 * Get the window attribute value on a link node.
+		 * 
+		 * @param id The id of the link node.
+		 */
+		public function getLinkWindow(id:String):String
+		{
+			checkForXML();
+			var key:String="window_"+id;
+			if(modelcache.isCached(key))return String(modelcache.getCachedObject(key));
+			var link:XMLList=links..link.(@id == id);
+			if(!link)return null;
+			var window:String=link.@window;
+			if(window)modelcache.cacheObject(key,window);
+			return window;
+		}
+		
+		/**
+		 * Navigates to a link.
+		 * 
+		 * @param id The link id.
+		 */
+		public function navigateToLink(id:String):void
+		{
+			var req:URLRequest=getLink(id);
+			var w:String=getLinkWindow(id);
+			navigateToURL(req,w);
+		}
+		
+		/**
+		 * Get the value from an attribute node.
+		 * 
+		 * @param attributeID The id of an attribute node.
+		 */
+		public function getAttribute(attributeID:String):String
+		{
+			checkForXML();
+			var attr:XMLList=attributes..attribute.(@id == attributeID);
+			if(!attr) return null;
+			return attr.@value;
+		}
+		
+		/**
+		 * checks if external interface is available.
+		 */	
+		private function checkEI():void
+		{
+			if(utils.player.isIDEPlayer() || utils.player.isStandAlonePlayer())
+			{
+				if(!warnedAboutEI)
+				{
+					trace("WARNING: ExternalInterface is not available, path logic will use internal dictionary.");
+					warnedAboutEI=true;
+				}
+				available=false;
+				return;
+			}
+			available=true;
+		}
+		
+		/**
+		 * Check that the model xml was set on the singleton instance before any attempts
+		 * to read the xml happens.
+		 */
+		protected function checkForXML():void
+		{
+			ast.notNil(_model, "The model xml must be set on the model before attempting to read a property from it. Please see documentation in the DocumentController for the flashvars.model and flashvars.autoInitModel property.",Error);
+		}
+
+		/**
+		 * Check whether or not a path has been defined.
+		 */
+		public function isPathDefined(path:String):Boolean
+		{
+			checkEI();
+			if(!available)return !(paths[path]==false);
+			return ExternalInterface.call("net.guttershark.Paths.isPathDefined",path);
+		}
+		
+		/**
+		 * Add a URL path to the model - if ExternalInterface is available, it
+		 * uses the guttershark javascript api. Otherwise it's stored in a local dictionary.
+		 * 
+		 * @example Using path logic with the model.
+		 * &lt;listing>	
+		 * public class Main extends DocumentController
+		 * {
+		 * 
+		 *     //only called in standalone player, otherwise you must
+		 *     //add paths through javascript - see the guttershark/lib/js/guttershark.js file.
+		 *     override protected function initPathsForStandalone():void
+		 *     {
+		 *         ml.addPath("root","./");
+		 *         ml.addPath("assets",ml.getPath("root")+"assets/");
+		 *         ml.addPath("bitmaps",ml.getPath("root","assets")+"bitmaps/");
+		 *         testPaths();
+		 *     }
+		 *     
+		 *     //illustrates how the "getPath" function works.
+		 *     private function testPaths():void
+		 *     {
+		 *         trace(ml.getPath("root")); // -> ./
+		 *         trace(ml.getPath("assets")); // -> ./assets/
+		 *         trace(ml.getPath("bitmaps")); // -> ./assets/bitmaps/
+		 *     }
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * @param pathId The path identifier.
+		 * @param path The path.
+		 */	
+		public function addPath(pathId:String, path:String):void
+		{
+			checkEI();
+			if(!available)
+			{
+				paths[pathId]=path;
+				return;
+			}
+			ExternalInterface.call("net.guttershark.Paths.addPath",pathId,path);
+		}
+		
+		/**
+		 * Get a path concatenated from the given pathIds - if ExternalInterface is
+		 * available, it uses the guttershark javascript api. Otherwise it's stored in a local
+		 * dictionary.
+		 * 
+		 * @param ...pathIds An array of pathIds whose values will be concatenated together.
+		 */
+		public function getPath(...pathIds:Array):String
+		{
+			checkEI();
+			var fp:String="";
+			if(!available)
+			{
+				var i:int=0;
+				var l:int=pathIds.length;
+				for(i;i&lt;l;i++)
+				{
+					if(!paths[pathIds[i]]) throw new Error("Path {"+pathIds[i]+"} not defined.");
+					fp += paths[pathIds[i]];
+				}
+				return fp;
+			}
+			return ExternalInterface.call("net.guttershark.Paths.getPath",pathIds as Array);
+		}
+		
+		/**
+		 * Get's a color defined in the "colors" stylesheet. There
+		 * must be a stylesheet defined with the id of "colors".
+		 * 
+		 * @example A colors stylesheet definition:
+		 * &lt;listing>	
+		 * &lt;stylsheets&gt;
+		 *     &lt;stylesheet id="colors"&gt;
+		 *     &lt;![CDATA[
+		 *         .pink{color:#ff0066}
+		 *     ]]&gt;
+		 *     &lt;/stylesheet&gt;
+		 * &lt;/stylesheets&gt;
+		 * &lt;/listing>
+		 * 
+		 * @example Using this method:
+		 * &lt;listing>	
+		 * var color:int=Model.gi().getColorAsInt(".pink");
+		 * &lt;/listing>
+		 * 
+		 * @param selector The selector from "colors" the stylesheet.
+		 */
+		public function getColorAsInt(selector:String):int
+		{
+			if(!selector)return -1;
+			var s:StyleSheet=getStyleSheetById("colors");
+			if(!s)throw new Error("A styleshee in the model name 'colors' must be defined.");
+			return su.styleSheetNumberToInt(s.getStyle(selector).color);
+		}
+		
+		/**
+		 * Get a color in hex with 0x, (0xff0066).
+		 * 
+		 * @param selector The select from the "colors" stylesheet.
+		 * 
+		 * @see #getColorAsInt The getColorAsInt function for more documentation.
+		 */
+		public function getColorAs0xHexString(selector:String):String
+		{
+			if(!selector)return "0x";
+			var s:StyleSheet=getStyleSheetById("colors");
+			if(!s)throw new Error("A styleshee in the model name 'colors' must be defined.");
+			return su.styleSheetNumberTo0xHexString(s.getStyle(selector).color);
+		}
+		
+		/**
+		 * Get a color in hex with #, (#ff0066).
+		 * 
+		 * @param selector The select from the "colors" stylesheet.
+		 * 
+		 * @see #getColorAsInt The getColorAsInt function for more documentation.
+		 */
+		public function getColorAsPoundHexString(selector:String):String
+		{
+			var s:StyleSheet=getStyleSheetById("colors");
+			if(!s)throw new Error("A styleshee in the model name 'colors' must be defined.");
+			return s.getStyle(selector).color;
+		}
+		
+		/**
+		 * Get a StyleSheet object by the node id.
+		 * 
+		 * @param id The id of the stylesheet node to grab from the model.
+		 */
+		public function getStyleSheetById(id:String):StyleSheet
+		{
+			checkForXML();
+			var cacheId:String="css_"+id;
+			if(modelcache.isCached(cacheId))return StyleSheet(modelcache.getCachedObject(cacheId));
+			if(customStyles[id])return StyleSheet(customStyles[id]);
+			var n:XMLList=stylesheets.stylesheet.(@id==id);
+			if(!n)return null;
+			var s:StyleSheet;
+			if(n.@mergeStyleSheets!=undefined)s=mergeStyleSheetsAs(n.@id,n.@mergeStyleSheets.toString().split(","));
+			else
+			{
+				s=new StyleSheet();
+				s.parseCSS(n.toString());
+			}
+			modelcache.cacheObject(cacheId,s);
+			return s;
+		}
+		
+		/**
+		 * Merge any number of style sheets declared in the model, as a new
+		 * stylesheet with a unique id. The new stylesheet is returned to you,
+		 * and can be accessed again through the &lt;em>getStyleSheetById&lt;/em>
+		 * method. You can also declare merged style sheets in the model
+		 * through xml. There is an example in examples/model/model.xml.
+		 * 
+		 * @param newStyleId The id to name the new merged stylesheet.
+		 * @param styleId An array of style ids that are defined in the model.
+		 */
+		public function mergeStyleSheetsAs(newStyleId:String, ...styleIds:Array):StyleSheet
+		{
+			checkForXML();
+			ast.notNil(newStyleId, "Parameter {newStyleId} cannot be null.");
+			ast.notNilOrEmpty(styleIds, "Parameter {styleIds} cannot be null or empty");
+			if(styleIds[0] is Array)styleIds=styleIds[0];
+			var sheets:Array=[];
+			var i:int=0;
+			var l:int=styleIds.length;
+			for(i;i&lt;l;i++)sheets.push(getStyleSheetById(styleIds[i]));
+			var newstyle:StyleSheet=StyleSheetUtils.gi().mergeStyleSheets(sheets);
+			customStyles[newStyleId]=newstyle;
+			var cacheKey:String="css_"+newStyleId;
+			modelcache.cacheObject(cacheKey,newstyle,-1,true);
+			return newstyle;
+		}
+		
+		/**
+		 * Get a TextFormat object by the node id.
+		 * 
+		 * &lt;p>Supports these attributes:&lt;/p>
+		 * &lt;ul>
+		 * &lt;li>align&lt;/li>
+		 * &lt;li>blockIndent&lt;/li>
+		 * &lt;li>bold&lt;/li>
+		 * &lt;li>bullet&lt;/li>
+		 * &lt;li>color&lt;/li>
+		 * &lt;li>font&lt;/li>
+		 * &lt;li>indent&lt;/li>
+		 * &lt;li>italic&lt;/li>
+		 * &lt;li>kerning&lt;/li>
+		 * &lt;li>leading&lt;/li>
+		 * &lt;li>leftMargin&lt;/li>
+		 * &lt;li>letterSpacing&lt;/li>
+		 * &lt;li>rightMargin&lt;/li>
+		 * &lt;li>size&lt;/li>
+		 * &lt;li>underline&lt;/li>
+		 * &lt;/ul>
+		 */
+		public function getTextFormatById(id:String):TextFormat
+		{
+			checkForXML();
+			var cacheId:String="tf_"+id;
+			if(modelcache.isCached(cacheId)) return modelcache.getCachedObject(cacheId) as TextFormat;
+			var n:XMLList=textformats.textformat.(@id==id);
+			var tf:TextFormat=new TextFormat();
+			if(n.attribute("align")!=undefined) tf.align=n.@align;
+			if(n.attribute("blockIndent")!=undefined) tf.blockIndent=int(n.@blockIndent);
+			if(n.attribute("bold")!=undefined) tf.bold=n.@bold;
+			if(n.attribute("bullet")!=undefined) tf.bullet=utils.string.toBoolean(n.@bullet);
+			if(n.attribute("color")!=undefined) tf.color=Number(n.@color);
+			if(n.attribute("font")!=undefined) tf.font=n.@font;
+			if(n.attribute("indent")!=undefined) tf.indent=int(n.@indent);
+			if(n.attribute("italic")!=undefined) tf.italic=utils.string.toBoolean(n.@italic);
+			if(n.attribute("kerning")!=undefined) tf.kerning=utils.string.toBoolean(n.@kerning);
+			if(n.attribute("leading")!=undefined) tf.leading=int(n.@leading);
+			if(n.attribute("leftMargin")!=undefined) tf.leftMargin=int(n.@leftMargin);
+			if(n.attribute("letterSpacing")!=undefined) tf.letterSpacing=int(n.@letterSpacing);
+			if(n.attribute("rightMargin")!=undefined) tf.rightMargin=int(n.@rightMargin);
+			if(n.attribute("size")!=undefined) tf.size=int(n.@size);
+			if(n.attribute("underline")!=undefined) tf.underline=utils.string.toBoolean(n.@underline);
+			modelcache.cacheObject(cacheId,tf);
+			return tf;
+		}
+
+		/**
+		 * Flush the &lt;em>&lt;code>sharedObject&lt;/code>&lt;/em> property.
+		 */
+		public function flushSharedObject():void
+		{
+			if(!sharedObject)
+			{
+				trace("WARNING: sharedObject was not flushed, it is null.");
+				return;
+			}
+			sharedObject.flush();
+		}
+		
+		/**
+		 * Get's a piece of content from the content node in xml.
+		 * 
+		 * @param id The text id.
+		 */
+		public function getContentById(id:String):String
+		{
+			checkForXML();
+			var n:XMLList=contents..text.(@id==id);
+			var s:String=n.toString();
+			if(s==null||!s)trace("WARNING: No content was found for id {"+id+"}");
+			return s;
+		}
+		
+		/**
+		 * Creates a new context menu with the context menu manager,
+		 * from a menu that is defined in the model.
+		 * 
+		 * @param id The id of the context menu to build and return.
+		 */
+		public function createContextMenuById(id:String):ContextMenu
+		{
+			checkForXML();
+			ast.notNil(id,"Parameter {id} cannot be null.");
+			var c:XMLList=contextmenus..menu.(@id==id);
+			var children:XMLList=c.children();
+			var sep:Boolean;
+			var it:Object={};
+			var items:Array=[];
+			var x:XML;
+			for each(x in children)
+			{
+				if(x.@id==undefined) throw new Error("You must have an 'id' attribute declared on each menu item.");
+				sep=false;
+				if(x.@sep=="true")sep=true;
+				it={};
+				it.label=x.@label;
+				it.sep=sep;
+				it.id=x.@id;
+				items.push(it);
+			}
+			return cmm.createMenu(id,items);
+		}
+		
+		/**
+		 * Register declared fonts from the model. If no group id is specified,
+		 * all fonts declared are registered.
+		 * 
+		 * @param groupId Optionally register fonts that were declared as part of a specific group.
+		 */
+		public function registerFonts(groupId:String=null):void
+		{
+			var child:XML;
+			if(groupId)
+			{
+				var group:XML=fonts.group.(@id==groupId);
+				for each(child in group.font)Font.registerFont(am.getClass(child.@libraryName));
+			}
+			else for each(child in fonts.font)Font.registerFont(am.getClass(child.@libraryName));
+		}
+
+		/**
+		 * Dispose of the internal cache. The internal cache
+		 * caches textformats and stylesheets.
+		 */
+		public function disposeCache():void
+		{
+			modelcache.purgeAll();
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/events/FLVEvent.as b/src/as/net/guttershark/support/events/FLVEvent.as
new file mode 100644
index 0000000..d1e164b
--- /dev/null
+++ b/src/as/net/guttershark/support/events/FLVEvent.as
@@ -0,0 +1,142 @@
+package net.guttershark.support.events
+{
+	import flash.events.Event;
+
+	/**
+	 * The FLVEvent class is dispatched from an FLV instance.
+	 */
+	public class FLVEvent extends Event
+	{
+	
+		/**
+		 * FLV Start.
+		 */
+		public static const START:String = 'start';
+		
+		/**
+		 * FLV Stop.
+		 */
+		public static const STOP:String = 'stop';
+		
+		/**
+		 * FLV Progress.
+		 */
+		public static const PROGRESS:String = 'progress';
+		
+		/**
+		 * FLV Meta Data.
+		 */
+		public static const METADATA:String = 'metaData';
+		
+		/**
+		 * Buffer Empty.
+		 */
+		public static const BUFFER_EMPTY:String = 'bufferEmpty';
+		
+		/**
+		 * Buffer Full.
+		 */
+		public static const BUFFER_FULL:String = 'bufferFull';
+		
+		/**
+		 * Buffer Flush.
+		 */
+		public static const BUFFER_FLUSH:String = 'bufferFlush';
+		
+		/**
+		 * Invalid seek time.
+		 */
+		public static const SEEK_INVALID_TIME:String = 'seekInvalidTime';
+		
+		/**
+		 * Seek notify
+		 */
+		public static const SEEK_NOTIFY:String = 'seekNotify';
+		
+		/**
+		 * Stream not found.
+		 */
+		public static const STREAM_NOT_FOUND:String = 'streamNotFound';
+		
+		/**
+		 * Cue point.
+		 */
+		public static var CUE_POINT:String = "cuePoint";
+		
+		/**
+		 * A cuepoint object.
+		 */
+		public var cuepoint:Object;
+		
+		/**
+		 * The percent loaded.
+		 */
+		public var percentLoaded:Number;
+		
+		/**
+		 * Percent played.
+		 */
+		public var percentPlayed:Number;
+		
+		/**
+		 * The percent of the video that is in buffer.
+		 */
+		public var percentBuffered:Number;
+		
+		/**
+		 * The amount of pixels that are buffered out of the total buffer.
+		 */
+		public var pixelsBuffered:int;
+		
+		/**
+		 * The amount of pixels that have been played.
+		 */
+		public var pixelsPlayed:int;
+		
+		/**
+		 * FLV meta data object.
+		 */
+		public var metadata:Object;
+		
+		/**
+		 * The currently playing, or the attempted flv url.
+		 */
+		public var url:String;
+		
+		/**
+		 * The current bytes loaded of the flv.
+		 */
+		public var bytesLoaded:Number;
+		
+		/**
+		 * The bytes total of the flv.
+		 */
+		public var bytesTotal:Number;
+		
+		/**
+		 * Constructor for FLVEvent instances.
+		 */
+		public function FLVEvent(type:String,url:String=null,percentLoaded:Number=0,percentPlayed:Number=0,percentBuffered:Number=0,pixelsBuffered:Number=0,pixelsPlayed:Number=0,cuepoint:Object=null,metadata:Object=null,bytesLoaded:Number=0,bytesTotal:Number=0) 
+		{
+			super(type,false,true);
+			this.bytesLoaded = bytesLoaded;
+			this.bytesTotal = bytesTotal;
+			this.percentLoaded = percentLoaded;
+			this.percentPlayed = percentPlayed;
+			this.percentBuffered = percentBuffered;
+			this.pixelsBuffered = pixelsBuffered;
+			this.pixelsPlayed = pixelsPlayed;
+			this.metadata = metadata;
+			this.cuepoint = cuepoint;
+			this.url = url;
+		}
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function clone():Event
+		{
+			return new FLVEvent(type,url,percentLoaded,percentPlayed,percentBuffered,pixelsBuffered,pixelsPlayed,cuepoint,metadata,bytesLoaded,bytesTotal);
+		}														
+	}
+}
diff --git a/src/as/net/guttershark/support/preloading/Asset.as b/src/as/net/guttershark/support/preloading/Asset.as
new file mode 100644
index 0000000..7aa58f0
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/Asset.as
@@ -0,0 +1,196 @@
+package net.guttershark.support.preloading
+{
+	import flash.events.SecurityErrorEvent;
+	import flash.system.LoaderContext;
+	
+	import net.guttershark.control.PreloadController;
+	import net.guttershark.support.preloading.events.AssetCompleteEvent;
+	import net.guttershark.support.preloading.events.AssetErrorEvent;
+	import net.guttershark.support.preloading.events.AssetOpenEvent;
+	import net.guttershark.support.preloading.events.AssetProgressEvent;
+	import net.guttershark.support.preloading.events.AssetStatusEvent;
+	import net.guttershark.support.preloading.workers.WorkerInstances;
+	import net.guttershark.util.StringUtils;		
+
+	/**
+	 * The Asset class defines an asset to preload with a PreloadController.
+	 */
+	final public class Asset
+	{
+
+		/**
+		 * The controller that receives updates from this item.
+		 */
+		private var controller:PreloadController;
+
+		/**
+		 * The worker that is doing the loading work.
+		 */
+		private var worker:*;
+		
+		/**
+		 * The file type of this asset. This will be a file extension less the period (jpg).
+		 */
+		public var fileType:String;
+		
+		/**
+		 * The URI to the file to load.
+		 */
+		public var source:String;
+		
+		/**
+		 * The identifier of this item in the AssetManager
+		 */
+		public var libraryName:String;
+		
+		/**
+		 * The data for this asset after the asset has been loaded. 
+		 * 
+		 * &lt;p>This will be a reference to the loader that was used
+		 * in loading the data.&lt;/p>
+		 */
+		public var data:*;
+		
+		/**
+		 * Constructor for Asset instances.
+		 * 
+		 * @param source The source URL to the asset.
+		 * @param libraryName The name to be used in the AssetManager.
+		 * @param forceFileType	Force the asset's file type (file extension without the ".", EX: xml).
+		 */
+		public function Asset(source:String, libraryName:String = null, forceFileType:String = null)
+		{
+			if(!forceFileType)
+			{
+				var fileType:String = StringUtils.gi().findFileType(source);
+				if(!fileType) throw new Error("The filetype could not be found for this item: " + source);
+				this.fileType = fileType;
+			}
+			else this.fileType = forceFileType;
+			this.source = source;
+			if(!libraryName)
+			{
+				trace("WARNING: No library name was supplied for asset with source {"+source+"} using the source as the libraryName");
+				this.libraryName = source;
+			}
+			else this.libraryName = libraryName;
+		}
+
+		/**
+		 * @private
+		 * 
+		 * Starts the load process for this item.
+		 * 
+		 * @param controller A preload controller that is controlling this asset.
+		 * @param loaderContext A loader context object.
+		 */
+		public function load(controller:PreloadController,loaderContext:LoaderContext=null):void
+		{
+			this.controller = controller;
+			worker=WorkerInstances.GetWorkerInstance(fileType);
+			addListenersToWorker();
+			worker.loaderContext=loaderContext;
+			worker.load(this);
+		}
+		
+		/**
+		 * removes listeners
+		 */
+		private function removeListenersFromWorker():void
+		{
+			if(!worker) return;
+			worker.removeEventListener(AssetCompleteEvent.COMPLETE,onComplete);
+			worker.removeEventListener(AssetProgressEvent.PROGRESS,controller.progress);
+			worker.removeEventListener(AssetErrorEvent.ERROR,onError);
+			worker.removeEventListener(AssetOpenEvent.OPEN,controller.open);
+			worker.removeEventListener(AssetStatusEvent.STATUS,onHTTPStatus);
+			worker.removeEventListener(SecurityErrorEvent.SECURITY_ERROR,onSecurityError);
+		}
+		
+		/**
+		 * adds listeners
+		 */
+		private function addListenersToWorker():void
+		{
+			if(!worker) return;
+			worker.addEventListener(AssetCompleteEvent.COMPLETE,onComplete);
+			worker.addEventListener(AssetProgressEvent.PROGRESS,controller.progress);
+			worker.addEventListener(AssetErrorEvent.ERROR,onError);
+			worker.addEventListener(AssetOpenEvent.OPEN,controller.open);
+			worker.addEventListener(AssetStatusEvent.STATUS,onHTTPStatus);
+			worker.addEventListener(SecurityErrorEvent.SECURITY_ERROR,onSecurityError);
+		}
+		
+		private function onComplete(e:AssetCompleteEvent):void
+		{
+			controller.complete(e);
+			dispose();
+		}
+		
+		private function onError(e:AssetErrorEvent):void
+		{
+			if(!controller)
+			{
+				dispose();
+				return;
+			}
+			controller.error(e);
+			dispose();
+		}
+		
+		private function onHTTPStatus(h:AssetStatusEvent):void
+		{
+			if(!controller)
+			{
+				dispose();
+				return;
+			}
+			controller.httpStatus(h);
+			dispose();
+		}
+		
+		/**
+		 * Handles security error, the controller doesn't specifically handle it.
+		 */
+		private function onSecurityError(se:SecurityError):void
+		{
+			dispose();
+			throw se;
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Returns the bytes loaded for this item.
+		 */
+		public function get bytesLoaded():Number
+		{
+			return worker.bytesLoaded;
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Returns the bytes total for this item.
+		 */
+		public function get bytesTotal():Number
+		{
+			return worker.bytesTotal;
+		}
+		
+		/**
+		 * The dispose method only disposes of unused properties
+		 * after the asset is complete / errored out, to completely
+		 * dispose of the Asset, use &lt;em>&lt;code>disposeFinal&lt;/code>&lt;/em>
+		 */
+		public function dispose():void
+		{
+			removeListenersFromWorker();
+			if(worker) worker.dispose();
+			worker = null;
+			controller = null;
+			libraryName = null;
+			fileType = null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/events/AssetCompleteEvent.as b/src/as/net/guttershark/support/preloading/events/AssetCompleteEvent.as
new file mode 100644
index 0000000..e62ddec
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/events/AssetCompleteEvent.as
@@ -0,0 +1,51 @@
+package net.guttershark.support.preloading.events
+{
+	import flash.events.Event;
+	
+	import net.guttershark.support.preloading.Asset;	
+
+	/**
+	 * The AssetCompleteEvent dispatches when an asset has completed downloading.
+	 */
+	final public class AssetCompleteEvent extends Event
+	{
+		
+		/**
+		 * Defines the value of the type property of the assetComplete event type.
+		 */
+		public static const COMPLETE:String = 'assetComplete';
+		
+		/**
+		 * The asset that has completely downloaded.
+		 */
+		public var asset:Asset;
+		
+		/**
+		 * Constructor for AssetCompleteEvent instances.
+		 * 
+		 * @param type The event type.
+		 * @param asset The Asset that has completely downloaded.
+		 */
+		public function AssetCompleteEvent(type:String,asset:Asset)
+		{
+			super(type,false,false);
+			this.asset = asset;
+		}
+		
+		/**
+		 * Clone this AssetCompleteEvent.
+		 */
+		override public function clone():Event
+		{
+			return new AssetCompleteEvent(type,asset);
+		}
+		
+		/**
+		 * To string override for descriptions.
+		 */
+		override public function toString():String
+		{
+			return "[AssetCompleteEvent asset:"+asset.source+"]";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/events/AssetErrorEvent.as b/src/as/net/guttershark/support/preloading/events/AssetErrorEvent.as
new file mode 100644
index 0000000..fa2296e
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/events/AssetErrorEvent.as
@@ -0,0 +1,51 @@
+package net.guttershark.support.preloading.events
+{
+	import flash.events.Event;
+	
+	import net.guttershark.support.preloading.Asset;	
+
+	/**
+	 * The AssetErrorEvent dispatches when an asset has stopped loading due to an error.
+	 */
+	final public class AssetErrorEvent extends Event
+	{ 
+		
+		/**
+		 * Defines the value of the type propert yof the assetError event type.
+		 */
+		public static const ERROR:String = "assetError";
+		
+		/**
+		 * The Asset that errored out.
+		 */
+		public var asset:Asset;
+		
+		/**
+		 * Constructor for AssetErrorEvent instances.
+		 * 
+		 * @param type The event type.
+		 * @param asset	The Asset that errored out.
+		 */
+		public function AssetErrorEvent(type:String, asset:Asset)
+		{
+			super(type,false,false);
+			this.asset = asset;
+		}
+		
+		/**
+		 * Clone this AssetErrorEvent.
+		 */
+		override public function clone():Event
+		{
+			return new AssetErrorEvent(type,asset);
+		}
+		
+		/**
+		 * To string override for descriptions.
+		 */
+		override public function toString():String
+		{
+			return "[AssetErrorEvent asset:"+asset.source+"]";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/events/AssetOpenEvent.as b/src/as/net/guttershark/support/preloading/events/AssetOpenEvent.as
new file mode 100644
index 0000000..b1d00e9
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/events/AssetOpenEvent.as
@@ -0,0 +1,51 @@
+package net.guttershark.support.preloading.events
+{
+	import flash.events.Event;
+	
+	import net.guttershark.support.preloading.Asset;	
+
+	/**
+	 * The AssetOpenEvent dispatches when an Asset has started downloading.
+	 */
+	final public class AssetOpenEvent extends Event
+	{ 
+		
+		/**
+		 * Defines the value of the type property of the assetOpen event type.
+		 */
+		public static const OPEN:String = "assetOpen";
+		
+		/**
+		 * The Asset that started downloading.
+		 */
+		public var asset:Asset;
+		
+		/**
+		 * Constructor for AssetOpenEvent instances.
+		 * 
+		 * @param type The event type.
+		 * @param asset	The Asset that is downloading.
+		 */
+		public function AssetOpenEvent(type:String, asset:Asset)
+		{
+			super(type,false,false);
+			this.asset = asset;
+		}
+		
+		/**
+		 * Clone this AssetOpenEvent.
+		 */
+		override public function clone():Event
+		{
+			return new AssetOpenEvent(type,asset);
+		}
+		
+		/**
+		 * To string override for descriptions.
+		 */
+		override public function toString():String
+		{
+			return "[AssetOpenEvent asset:"+asset.source+"]";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/events/AssetProgressEvent.as b/src/as/net/guttershark/support/preloading/events/AssetProgressEvent.as
new file mode 100644
index 0000000..d6bb5e0
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/events/AssetProgressEvent.as
@@ -0,0 +1,51 @@
+package net.guttershark.support.preloading.events
+{
+	import flash.events.Event;
+	
+	import net.guttershark.support.preloading.Asset;	
+
+	/**
+	 * The AssetProgressEvent dispatches for an Asset that is downloading.
+	 */
+	final public class AssetProgressEvent extends Event
+	{ 
+		
+		/**
+		 * Defines the value of the type property of the assetProgress event type.
+		 */
+		public static const PROGRESS:String = "assetProgress";
+		
+		/**
+		 * The asset that is loading.
+		 */
+		public var asset:Asset;
+		
+		/**
+		 * Constructor for AssetProgressEvent instances.
+		 * 
+		 * @param type The type.
+		 * @param asset	The Asset that is downloading.
+		 */
+		public function AssetProgressEvent(type:String, asset:Asset)
+		{
+			super(type,false,false);
+			this.asset = asset;
+		}
+		
+		/**
+		 * Clone this AssetProgressEvent.
+		 */
+		override public function clone():Event
+		{
+			return new AssetProgressEvent(type,asset);
+		}
+		
+		/**
+		 * To string override for descriptions.
+		 */
+		override public function toString():String
+		{
+			return "[AssetProgressEvent asset:"+asset.source+"]";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/events/AssetStatusEvent.as b/src/as/net/guttershark/support/preloading/events/AssetStatusEvent.as
new file mode 100644
index 0000000..9e5f020
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/events/AssetStatusEvent.as
@@ -0,0 +1,57 @@
+package net.guttershark.support.preloading.events
+{
+	import flash.events.Event;
+	
+	import net.guttershark.support.preloading.Asset;	
+
+	/**
+	 * The AssetStatusEvent dispatches for an Asset that had an HTTP status other than 0 or 200.
+	 */
+	final public class AssetStatusEvent extends Event
+	{ 
+		/**
+		 * Defines the value of the type property of the assetStatus event type.
+		 */
+		public static const STATUS:String = "assetStatus";
+		
+		/**
+		 * The Asset that had the status error.
+		 */
+		public var asset:Asset;
+		
+		/**
+		 * The status code.
+		 */
+		public var status:int;
+		
+		/**
+		 * Constructor for AssetStatusEvent instances.
+		 * 
+		 * @param type The type.
+		 * @param asset The Asset that triggered the status event.
+		 * @param int The status code of the event.
+		 */
+		public function AssetStatusEvent(type:String, asset:Asset, status:int)
+		{
+			super(type,false,false);
+			this.asset = asset;
+			this.status = status;
+		}
+		
+		/**
+		 * Clone this AssetStatusEvent.
+		 */
+		override public function clone():Event
+		{
+			return new AssetStatusEvent(type,asset,status);
+		}
+		
+		/**
+		 * To string override for descriptions.
+		 */
+		override public function toString():String
+		{
+			return "[AssetStatusEvent asset:"+asset.source+"]";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/events/PreloadProgressEvent.as b/src/as/net/guttershark/support/preloading/events/PreloadProgressEvent.as
new file mode 100644
index 0000000..2cd81b2
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/events/PreloadProgressEvent.as
@@ -0,0 +1,57 @@
+package net.guttershark.support.preloading.events
+{
+	import flash.events.Event;	
+
+	/**
+	 * The PreloadProgressEvent dispatches to notify listeners the overall
+	 * progress of a PreloadController.
+	 */
+	final public class PreloadProgressEvent extends Event
+	{
+		
+		/**
+		 * Defines the value of the type property of the preloadProgress event type.
+		 */
+		public static const PROGRESS:String = "preloadProgress";
+		
+		/**
+		 * The number of pixels that are "filled" based off of the overall progress.
+		 */
+		public var pixels:int;
+		
+		/**
+		 * The percent complete of the overall assets to download.
+		 */
+		public var percent:Number;
+		
+		/**
+		 * Constructor for PreloadProgressEvent instances.
+		 * 
+		 * @param type The event type.
+		 * @param pixels The amount of pixels.
+		 * @param percent The percent complete.
+		 */
+		public function PreloadProgressEvent(type:String, pixels:int, percent:Number):void
+		{
+			super(type,false,false);
+			this.pixels = pixels;
+			this.percent = percent;	
+		}
+		
+		/**
+		 * Clone this PreloadProgressEvent.
+		 */
+		override public function clone():Event
+		{
+			return new PreloadProgressEvent(type,pixels,percent);
+		}
+		
+		/**
+		 * To string override for descriptions.
+		 */
+		override public function toString():String
+		{
+			return "[PreloadProgressEvent pixels: "+pixels+" percent: "+percent+"]";
+		}
+	}
+}
diff --git a/src/as/net/guttershark/support/preloading/workers/BitmapWorker.as b/src/as/net/guttershark/support/preloading/workers/BitmapWorker.as
new file mode 100644
index 0000000..ca7fc0c
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/BitmapWorker.as
@@ -0,0 +1,45 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.display.Loader;
+	import flash.events.Event;
+	import flash.events.HTTPStatusEvent;
+	import flash.events.IOErrorEvent;
+	import flash.events.ProgressEvent;
+	import flash.events.SecurityErrorEvent;
+	import flash.net.URLRequest;
+	
+	import net.guttershark.support.preloading.Asset;
+	
+	/**
+	 *	The BitmapWorker class is the worker that loads all
+	 *	assets that are considered bitmap files.
+	 *	
+	 *	&lt;p>This class is not used directly. It is used internally to an
+	 *	Asset instance.&lt;/p>
+	 */
+	public class BitmapWorker extends Worker
+	{	
+		
+		/**
+		 * Load an asset of type bitmap.
+		 * 
+		 * @param asset The Asset instance that needs to be loaded.
+		 */
+		override public function load(asset:Asset):void
+		{
+			this.asset = asset;
+			request = new URLRequest(asset.source);
+			loader = new Loader();
+			loader.contentLoaderInfo.addEventListener(Event.OPEN, super.onOpen,false,0,true);
+			loader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, super.onProgress,false,0,true);
+			loader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, super.onHTTPStatus,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.DISK_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.NETWORK_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.VERIFY_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(SecurityErrorEvent.SECURITY_ERROR, super.onSecurityError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(Event.COMPLETE, super.onComplete,false,0,true);
+			start();
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/workers/FLVWorker.as b/src/as/net/guttershark/support/preloading/workers/FLVWorker.as
new file mode 100644
index 0000000..0c26da7
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/FLVWorker.as
@@ -0,0 +1,116 @@
+package net.guttershark.support.preloading.workers 
+{
	import flash.events.AsyncErrorEvent;
	import flash.events.IOErrorEvent;
	import flash.events.NetStatusEvent;
	import flash.events.TimerEvent;
	import flash.net.NetConnection;
	import flash.net.NetStream;
	import flash.utils.clearInterval;
	import flash.utils.setInterval;
	
	import net.guttershark.managers.AssetManager;
	import net.guttershark.support.preloading.Asset;
	import net.guttershark.support.preloading.events.AssetCompleteEvent;
	import net.guttershark.support.preloading.events.AssetProgressEvent;	
+
	/**
+	 * The FLVWorker class loads progressive flv's with
+	 * a net stream object.
+	 */
+	final public class FLVWorker extends Worker
+	{
+		
+		/**
+		 * Net connection.
+		 */
+		private var nc:NetConnection;
+		
+		/**
+		 * progress / complete interval.
+		 */
+		private var bt:Number;
+		
+		/**
+		 * The Asset manager.
+		 */
+		private var am:AssetManager;
+
		/**
+		 * Load an asset of type flv.
+		 */
+		public override function load(asset:Asset):void
+		{
+			this.asset = asset;
+			am = AssetManager.gi();
+			if(am.isAvailable(asset.source))
+			{
+				loader = am.getNetStream(asset.source);
+				loader.client = this;
+			}
+			else
+			{
+				nc = new NetConnection();
+				nc.connect(null);
+				loader = new NetStream(nc);
+				loader.client = this;
+				loader.bufferTime = 100000;
+				loader.soundTransform.volume = 0;
+				am.addAsset(asset.source,loader,asset.source);
+				am.addAsset(asset.libraryName,loader,asset.source);
+				loader.play(asset.source);
+				loader.pause();
+			}
+			bt = setInterval(check,200);
+			asset.data = loader;
+			loader.addEventListener(NetStatusEvent.NET_STATUS,onns,false,0,true);
+			loader.addEventListener(AsyncErrorEvent.ASYNC_ERROR,onasync,false,0,true);
+		}
+		
+		/**
+		 * @private
+		 */
+		public function onMetaData(metadata:Object):void{}
+		
+		//suppresses async errors
+		private function onasync(a:AsyncErrorEvent):void{}
+		
+		/**
+		 * Does progress and complete checks.
+		 */
+		private function check(te:TimerEvent=null):void
+		{
+			if(!loader) return;
+			bytesLoaded=loader.bytesLoaded;
+			bytesTotal=loader.bytesTotal;
+			if(loader.bytesLoaded>=loader.bytesTotal)
+			{
+				clearInterval(bt);
+				dispatchEvent(new AssetCompleteEvent(AssetCompleteEvent.COMPLETE,asset));
+			}
+			else dispatchEvent(new AssetProgressEvent(AssetProgressEvent.PROGRESS,asset));
+		}
+		
+		/**
+		 * removes event listeners.
+		 */
+		override protected function removeEventListeners():void
+		{
+			loader.removeEventListener(NetStatusEvent.NET_STATUS,onns);
+			loader.removeEventListener(AsyncErrorEvent.ASYNC_ERROR,onasync);
+		}
+		
+		/**
+		 * On net status events.
+		 */
+		private function onns(stats:NetStatusEvent):void
+		{
+			switch(stats.info.code)
+			{
+				case "NetStream.Play.StreamNotFound":
+					onIOLoadError(new IOErrorEvent(IOErrorEvent.IO_ERROR));
+					clearInterval(bt);
+					break;
+			}
+		}
+		
+		/**
+		 * Dispose of this flv worker.
+		 */
+		override public function dispose():void
+		{
+			removeEventListeners();
+			clearInterval(bt);
+			bt = NaN;
+			bytesLoaded = NaN;
+			bytesTotal = NaN;
+			asset = null;
+			loader = null;
+			request = null;
+			nc = null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/workers/SWFWorker.as b/src/as/net/guttershark/support/preloading/workers/SWFWorker.as
new file mode 100644
index 0000000..11f7da1
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/SWFWorker.as
@@ -0,0 +1,45 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.display.Loader;
+	import flash.events.Event;
+	import flash.events.HTTPStatusEvent;
+	import flash.events.IOErrorEvent;
+	import flash.events.ProgressEvent;
+	import flash.events.SecurityErrorEvent;
+	import flash.net.URLRequest;
+	
+	import net.guttershark.support.preloading.Asset;
+	
+	/**
+	 *	The SWFWorker class is the worker that loads all
+	 *	swfs.
+	 *	
+	 *	&lt;p>This class is not used directly. It is used internally to an
+	 *	Asset instance.&lt;/p>
+	 */
+	final public class SWFWorker extends Worker
+	{	
+		
+		/**
+		 * Load an asset of type swf.
+		 * 
+		 * @param asset The Asset instance that needs to be loaded.
+		 */
+		override public function load(asset:Asset):void
+		{
+			this.asset = asset;
+			request = new URLRequest(asset.source);
+			loader = new Loader();
+			loader.contentLoaderInfo.addEventListener(Event.OPEN, super.onOpen,false,0,true);
+			loader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, super.onProgress,false,0,true);
+			loader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, super.onHTTPStatus,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.DISK_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.NETWORK_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(IOErrorEvent.VERIFY_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(SecurityErrorEvent.SECURITY_ERROR, super.onSecurityError,false,0,true);
+			loader.contentLoaderInfo.addEventListener(Event.COMPLETE, super.onComplete,false,0,true);
+			start();
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/workers/SoundWorker.as b/src/as/net/guttershark/support/preloading/workers/SoundWorker.as
new file mode 100644
index 0000000..3181cde
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/SoundWorker.as
@@ -0,0 +1,41 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.events.Event;
+	import flash.events.IOErrorEvent;
+	import flash.events.ProgressEvent;
+	import flash.media.Sound;
+	import flash.net.URLRequest;
+	
+	import net.guttershark.support.preloading.Asset;
+		
+	/**
+	 *	The SoundWorker class is the worker loads all
+	 *	sound files.
+	 *	
+	 *	&lt;p>This class is not used directly. It is used internally to an
+	 *	Asset instance.&lt;/p>
+	 */
+	final public class SoundWorker extends Worker
+	{
+		
+		/**
+		 * Load an asset of type mp3 or aif.
+		 * 
+		 * @param asset The Asset instance that needs to be loaded.
+		 */
+		public override function load(asset:Asset):void
+		{
+			this.loader = new Sound();
+			this.asset = asset;
+			this.request = new URLRequest(asset.source);
+			loader.addEventListener(Event.COMPLETE, onComplete,false,0,true);
+			loader.addEventListener(ProgressEvent.PROGRESS, onProgress,false,0,true);
+			loader.addEventListener(IOErrorEvent.IO_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(IOErrorEvent.DISK_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(IOErrorEvent.NETWORK_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(IOErrorEvent.VERIFY_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(Event.OPEN, onOpen,false,0,true);
+			start();
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/workers/StyleSheetWorker.as b/src/as/net/guttershark/support/preloading/workers/StyleSheetWorker.as
new file mode 100644
index 0000000..6a80eef
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/StyleSheetWorker.as
@@ -0,0 +1,57 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.events.Event;
+	import flash.events.IOErrorEvent;
+	import flash.events.ProgressEvent;
+	import flash.net.URLLoader;
+	import flash.net.URLRequest;
+	import flash.text.StyleSheet;
+	
+	import net.guttershark.support.preloading.Asset;
+	import net.guttershark.support.preloading.events.AssetCompleteEvent;
+	import net.guttershark.support.preloading.workers.Worker;
+
+	/**
+	 * The StyleSheetWorker class is the worker that loads all
+	 * css files.
+	 */
+	final public class StyleSheetWorker extends Worker
+	{
+		
+		/**
+		 * Load an asset of type css.
+		 * 
+		 * @param asset The Asset instance that needs to be loaded.
+		 */
+		public override function load(asset:Asset):void
+		{
+			this.loader = new URLLoader();
+			this.asset = asset;
+			this.request = new URLRequest(asset.source);
+			loader.addEventListener(Event.COMPLETE, onComplete,false,0,true);
+			loader.addEventListener(ProgressEvent.PROGRESS, onProgress,false,0,true);
+			loader.addEventListener(IOErrorEvent.IO_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(IOErrorEvent.DISK_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(IOErrorEvent.NETWORK_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(IOErrorEvent.VERIFY_ERROR, onIOLoadError,false,0,true);
+			loader.addEventListener(Event.OPEN, onOpen,false,0,true);
+			start();
+		}
+		
+		/**
+		 * Event handler for the style sheet loading complete event.
+		 * 
+		 * @param e The event from url loaders complete event
+		 */
+		override protected function onComplete(e:Event):void
+		{
+			var sheet:StyleSheet = new StyleSheet();
+			sheet.parseCSS(loader.data);
+			asset.data = sheet;
+			dispatchEvent(new AssetCompleteEvent(AssetCompleteEvent.COMPLETE, asset));
+			asset = null;
+			try{loader.close();}catch(error:*){}
+			dispose();
+		}
+	}
+}
diff --git a/src/as/net/guttershark/support/preloading/workers/Worker.as b/src/as/net/guttershark/support/preloading/workers/Worker.as
new file mode 100644
index 0000000..c4eb205
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/Worker.as
@@ -0,0 +1,285 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.display.Loader;
+	import flash.events.Event;
+	import flash.events.EventDispatcher;
+	import flash.events.HTTPStatusEvent;
+	import flash.events.IOErrorEvent;
+	import flash.events.ProgressEvent;
+	import flash.events.SecurityErrorEvent;
+	import flash.net.URLRequest;
+	import flash.system.LoaderContext;
+	
+	import net.guttershark.support.preloading.Asset;
+	import net.guttershark.support.preloading.events.AssetCompleteEvent;
+	import net.guttershark.support.preloading.events.AssetErrorEvent;
+	import net.guttershark.support.preloading.events.AssetOpenEvent;
+	import net.guttershark.support.preloading.events.AssetProgressEvent;
+	import net.guttershark.support.preloading.events.AssetStatusEvent;		
+
+	/**
+	 * Dispatched when the worker has completed downloading the asset.
+	 * 
+	 * @eventType com.mccann.floss.preloading.events.AssetCompleteEvent
+	 */
+	[Event("assetComplete", type="com.mccann.floss.preloading.machinist.events.AssetCompleteEvent")]
+	
+	/**
+	 * Dispatched when the loader starts loading the asset.
+	 * 
+	 * @eventType com.mccann.floss.preloading.events.AssetOpenEvent
+	 */
+	[Event("assetOpen", type="com.mccann.floss.preloading.events.AssetOpenEvent")]
+	
+	/**
+	 * Dispatched on progress from the loader that is loading the asset.
+	 * 
+	 * @eventType com.mccann.floss.preloading.events.AssetProgressEvent
+	 */
+	[Event("assetProgress", type="com.mccann.floss.preloading.events.AssetProgressEvent")]
+	
+	/**
+	 * Dispatched when there is an error loading an asset.
+	 * 
+	 * @eventType com.mccann.floss.preloading.events.AssetErrorEvent
+	 */
+	[Event("assetError", type="com.mccann.floss.preloading.events.AssetErrorEvent")]
+	
+	/**
+	 * Dispatched when an HTTPStatus event occurs from the internal loader. This only dispatches
+	 * for HTTP status codes other than 0 and 200.
+	 * 
+	 * @eventType com.mccann.floss.preloading.events.AssetStatusEvent
+	 */
+	[Event("assetStatus", type="com.mccann.floss.preloading.events.AssetStatusEvent")]
+	
+	/**
+	 * Dispatched when a security error happens while attempting to load the item.
+	 * 
+	 * @eventType flash.events.SecurityErrorEvent
+	 */
+	[Event("securityError", type="flash.events.SecurityErrorEvent")]
+	
+	/**
+	 * The Worker class is a generic worker that implements base logic for loading 
+	 * an Asset. Most subclasses don't need to override all of the logic in this
+	 * class.
+	 * 
+	 * &lt;p>The worker provides default behavior like listening to events from the internal
+	 * loader and taking care of the callbacks, and routing the events
+	 * to the associated PreloadController.&lt;/p>
+	 * 
+	 * &lt;p>This worker class cannot be used directly, it must be subclassed. You
+	 * must override the "load" method and implement your own logic to prepare
+	 * the internal loader and request objects.&lt;/p>
+	 *
+	 * &lt;p>Worker subclasses must also be registered with the WorkerInstances class. An Asset
+	 * uses WorkerInstances to get a worker for it's type being loaded.&lt;/p>
+	 *
+	 * &lt;p>Here is a snippet taken from the BitmapWorker class that shows overriding the load method
+	 * and setting up the internal loader and request properties.&lt;/p>
+	 * 
+	 * &lt;listing>	
+	 * override public function load(asset:Asset):void
+	 * {
+	 *    this.asset = asset;
+	 *    request = new URLRequest(asset.source);
+	 *    loader = new Loader();
+	 * 	  loader.contentLoaderInfo.addEventListener(Event.OPEN, super.onOpen);
+	 * 	  loader.contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, super.onProgress);
+	 * 	  loader.contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, super.onHTTPStatus);
+	 * 	  loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, super.onIOLoadError);
+	 * 	  loader.contentLoaderInfo.addEventListener(IOErrorEvent.DISK_ERROR, super.onIOLoadError);
+	 * 	  loader.contentLoaderInfo.addEventListener(IOErrorEvent.NETWORK_ERROR, super.onIOLoadError);
+	 * 	  loader.contentLoaderInfo.addEventListener(IOErrorEvent.VERIFY_ERROR, super.onIOLoadError);
+	 * 	  loader.contentLoaderInfo.addEventListener(SecurityErrorEvent.SECURITY_ERROR, super.onSecurityError);
+	 * 	  loader.contentLoaderInfo.addEventListener(Event.COMPLETE, super.onComplete);
+	 * 	  start(); //kicks off the loading, default loading logic is in the Worker class.
+	 * }
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>See the source code in any other worker in this package for subclassing examples.
+	 */
+	public class Worker extends EventDispatcher
+	{
+
+		/**
+		 * The asset this worker is loading.
+		 */
+		protected var asset:Asset;
+		
+		/**
+		 * Internal loader used for loading the asset.
+		 * 
+		 * &lt;p>This is untyped so that any type of loader can be used. The loader you
+		 * use must have a "load" method declared on it that accepts a URLRequest.&lt;/p>
+		 */
+		protected var loader:*;
+		
+		/**
+		 * The URLRequest for the asset.
+		 */
+		protected var request:URLRequest;
+		
+		/**
+		 * @private
+		 * 
+		 * The bytes loaded
+		 */
+		public var bytesLoaded:Number = -1;
+		
+		/**
+		 * @private
+		 * 
+		 * The bytes total
+		 */
+		public var bytesTotal:Number = -1;
+		
+		/**
+		 * The loader context for the asset being loaded.
+		 */
+		public var loaderContext:LoaderContext;
+
+		/**
+		 * Load an asset.
+		 * 
+		 * &lt;p>This will throw an exception if you do not override the method.&lt;/p>
+		 * 
+		 * @param asset the asset to load.
+		 */
+		public function load(asset:Asset):void
+		{
+			throw new Error("You must extend Worker#load and implement your own logic");
+		}
+		
+		/**
+		 * Starts loading the internal loader instance.
+		 * 
+		 * &lt;p>The loader you set for the internal loader must have a "load" method
+		 * defined and accept a URLRequest&lt;/p>
+		 */
+		public function start():void
+		{
+			if(!request) throw new Error("The internal request object was null, you need to prepate the request object in your subclass.");
+			if(!loader) throw new Error("The internal loader object was null, you need to prepate the loader object in your subclass");
+			if((loader is Loader)&&loaderContext)loader.load(request,loaderContext);
+			else loader.load(request);
+		}
+				
+		/** 
+		 * The event handler for the internal loaders open event.
+		 * 
+		 * @param e The open event from the internal loader.
+		 */
+		protected function onOpen(e:Event):void
+		{
+			dispatchEvent(new AssetOpenEvent(AssetOpenEvent.OPEN, asset));
+		}
+		
+		/**
+		 * The event handler for the internal loaders progress.
+		 * 
+		 * @param pe The progress event from the internal loader.
+		 */
+		protected function onProgress(pe:ProgressEvent):void
+		{
+			this.bytesLoaded = pe.bytesLoaded;
+			this.bytesTotal = pe.bytesTotal;
+			dispatchEvent(new AssetProgressEvent(AssetProgressEvent.PROGRESS,asset));
+		}
+		
+		/**
+		 * The event handler for the internal loaders http status event.
+		 * 
+		 * @param hse The status event from the internal loader.
+		 */
+		protected function onHTTPStatus(hse:HTTPStatusEvent):void
+		{
+			if(hse.status != 0 && hse.status != 200)
+			{
+				dispatchEvent(new AssetStatusEvent(AssetStatusEvent.STATUS, asset, hse.status));
+				removeEventListeners();
+				asset = null;
+			}
+		}
+		
+		/**
+		 * The event handler for the internal loaders error event.
+		 * 
+		 * @param e The error event from the internal loader.
+		 */
+		protected function onIOLoadError(e:IOErrorEvent):void
+		{
+			removeEventListeners();
+			dispatchEvent(new AssetErrorEvent(AssetErrorEvent.ERROR, asset));
+			asset = null;
+		}
+		
+		/**
+		 * The event handler for the internal loaders security error event.
+		 * 
+		 * @param se The security error event from the internal loader.
+		 */
+		protected function onSecurityError(se:SecurityErrorEvent):void
+		{
+			removeEventListeners();
+			dispatchEvent(se);
+			asset = null;
+		}
+		
+		/**
+		 * The event handler for the internal loaders complete event.
+		 * 
+		 * @param e The event from the internal loaders complete event.
+		 */
+		protected function onComplete(e:Event):void
+		{
+			removeEventListeners();
+			asset.data = loader;
+			dispatchEvent(new AssetCompleteEvent(AssetCompleteEvent.COMPLETE, asset));
+			asset = null;
+			try{loader.close();}catch(error:*){}
+		}
+		
+		/**
+		 * Close the internal loader.
+		 */
+		public function close():void
+		{
+			try{loader.close();}catch(error:*){}
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Removes event listeners from the internal loader.
+		 */
+		protected function removeEventListeners():void
+		{
+			if(!loader) return;
+			loader.removeEventListener(Event.OPEN, onOpen);
+			loader.removeEventListener(Event.COMPLETE, onComplete);
+			loader.removeEventListener(ProgressEvent.PROGRESS, onProgress);
+			loader.removeEventListener(HTTPStatusEvent.HTTP_STATUS, onHTTPStatus);
+			loader.removeEventListener(IOErrorEvent.IO_ERROR, onIOLoadError);
+			loader.removeEventListener(IOErrorEvent.DISK_ERROR, onIOLoadError);
+			loader.removeEventListener(IOErrorEvent.NETWORK_ERROR, onIOLoadError);
+			loader.removeEventListener(IOErrorEvent.VERIFY_ERROR, onIOLoadError);
+			loader.removeEventListener(SecurityErrorEvent.SECURITY_ERROR, onSecurityError);
+		}
+		
+		/**
+		 * Dispose of this worker instance.
+		 */
+		public function dispose():void
+		{
+			removeEventListeners();
+			close();
+			bytesLoaded = NaN;
+			bytesTotal = NaN;
+			asset = null;
+			loader = null;
+			request = null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/workers/WorkerInstances.as b/src/as/net/guttershark/support/preloading/workers/WorkerInstances.as
new file mode 100644
index 0000000..608474b
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/WorkerInstances.as
@@ -0,0 +1,96 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.utils.Dictionary;
+	
+	import net.guttershark.support.preloading.workers.BitmapWorker;
+	import net.guttershark.support.preloading.workers.SWFWorker;
+	import net.guttershark.support.preloading.workers.SoundWorker;
+	import net.guttershark.support.preloading.workers.Worker;
+	import net.guttershark.support.preloading.workers.XMLWorker;
+
+	/**
+	 * The WorkerInstances class is an instance factory that returns instances
+	 * of workers based on a filetype being loaded.
+	 * 
+	 * &lt;p>This is used internally in an Asset. If you are adding any other types
+	 * of assets to be preloaded&lt;/p>
+	 * 
+	 * &lt;p>Default workers: bmp,jpg,jpeg,png,gif,swf,mp3,zip,xml,flv&lt;/p>
+	 */
+	final public class WorkerInstances
+	{
+		
+		/**
+		 * Stores class references to workers.
+		 */
+		private static var workerKlasses:Dictionary;
+		
+		/**
+		 * Flag indicating if the defaults have been registered already.
+		 */
+		private static var defaultsRegistered:Boolean;
+		
+		/**
+		 * @private
+		 * 
+		 * Registers the default worker instances internally. The default types are:
+		 * 
+		 * &lt;ul>
+		 * &lt;li>jpg&lt;/li>
+		 * &lt;li>jpeg&lt;/li>
+		 * &lt;li>png&lt;/li>
+		 * &lt;li>gif&lt;/li>
+		 * &lt;li>bmp&lt;/li>
+		 * &lt;li>mp3&lt;/li>
+		 * &lt;li>xml&lt;/li>
+		 * &lt;li>zip&lt;/li>
+		 * &lt;li>swf&lt;/li>
+		 * &lt;li>flv&lt;/li>
+		 * &lt;/ul>
+		 */
+		public static function RegisterDefaultWorkers():void
+		{
+			if(defaultsRegistered) return;
+			if(!workerKlasses) workerKlasses = new Dictionary(true);
+			RegisterWorkerForFileType("jpg",BitmapWorker);
+			RegisterWorkerForFileType("jpeg",BitmapWorker);
+			RegisterWorkerForFileType("png",BitmapWorker);
+			RegisterWorkerForFileType("gif",BitmapWorker);
+			RegisterWorkerForFileType("bmp",BitmapWorker);
+			RegisterWorkerForFileType("png",BitmapWorker);
+			RegisterWorkerForFileType("swf",SWFWorker);
+			RegisterWorkerForFileType("xml",XMLWorker);
+			RegisterWorkerForFileType("flv",FLVWorker);
+			RegisterWorkerForFileType("mp3",SoundWorker);
+			RegisterWorkerForFileType("aif",SoundWorker);
+			RegisterWorkerForFileType("css",StyleSheetWorker);
+			defaultsRegistered = true;
+		}
+
+		/**
+		 * Registers a worker for a file type. The file type string should be a file extension 
+		 * less the period. EX: "jpg","jpeg", etc.
+		 * 
+		 * @param fileType The file type to register the worker too
+		 * @param workerKlass The worker class to use for the specified file type. This must be a class reference.
+		 */
+		public static function RegisterWorkerForFileType(fileType:String, workerKlass:Class):void
+		{			
+			workerKlasses[fileType] = workerKlass;
+		}
+		
+		/**
+		 * Get an instance of the worker specified by type.
+		 * 
+		 * @param fileType The type of the worker. EX: 'bitmap', or 'swf', etc. The Worker must
+		 * have been registered previously before getting an instnace of it.
+		 */
+		public static function GetWorkerInstance(fileType:String):Worker
+		{
+			if(!workerKlasses[fileType]) throw new Error("No worker for filetype " + fileType + " was registered.");
+			var klass:Class = workerKlasses[fileType];
+			var worker:Worker = new klass();
+			return worker;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/preloading/workers/XMLWorker.as b/src/as/net/guttershark/support/preloading/workers/XMLWorker.as
new file mode 100644
index 0000000..0c5be64
--- /dev/null
+++ b/src/as/net/guttershark/support/preloading/workers/XMLWorker.as
@@ -0,0 +1,46 @@
+package net.guttershark.support.preloading.workers
+{
+	import flash.events.Event;
+	import flash.events.HTTPStatusEvent;
+	import flash.events.IOErrorEvent;
+	import flash.events.ProgressEvent;
+	import flash.events.SecurityErrorEvent;
+	import flash.net.URLRequest;
+	
+	import net.guttershark.support.preloading.Asset;
+	import net.guttershark.support.preloading.workers.Worker;
+	import net.guttershark.util.XMLLoader;	
+
+	/**
+	 * The XMLWorker class is the worker that loads all
+	 * xml files.
+	 *	
+	 * &lt;p>This class is not used directly. It is used internally to an
+	 * Asset instance.&lt;/p>
+	 */
+	final public class XMLWorker extends Worker
+	{	
+		
+		/**
+		 * Load an asset of type xml.
+		 * 
+		 * @param	asset	The Asset instance that needs to be loaded.
+		 */
+		public override function load(asset:Asset):void
+		{
+			this.asset = asset;
+			this.request = new URLRequest(asset.source);
+			this.loader = new XMLLoader();
+			loader.contentLoader.addEventListener(Event.OPEN, super.onOpen,false,0,true);
+			loader.contentLoader.addEventListener(ProgressEvent.PROGRESS, super.onProgress,false,0,true);
+			loader.contentLoader.addEventListener(HTTPStatusEvent.HTTP_STATUS, super.onHTTPStatus,false,0,true);
+			loader.contentLoader.addEventListener(IOErrorEvent.IO_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoader.addEventListener(IOErrorEvent.DISK_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoader.addEventListener(IOErrorEvent.NETWORK_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoader.addEventListener(IOErrorEvent.VERIFY_ERROR, super.onIOLoadError,false,0,true);
+			loader.contentLoader.addEventListener(SecurityErrorEvent.SECURITY_ERROR, super.onSecurityError,false,0,true);
+			loader.contentLoader.addEventListener(Event.COMPLETE, super.onComplete,false,0,true);
+			start();
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/http/ResponseFormat.as b/src/as/net/guttershark/support/servicemanager/http/ResponseFormat.as
new file mode 100644
index 0000000..5b3191a
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/http/ResponseFormat.as
@@ -0,0 +1,28 @@
+package net.guttershark.support.servicemanager.http 
+{
+	
+	/**
+	 * The ResponseFormat class contains enumerated values you can
+	 * use as the responseFormat in a service call.
+	 */
+	final public class ResponseFormat 
+	{
+		/**
+		 * Variables.
+		 */
+		public static const VARS:String = "variables";
+		
+		/**
+		 * Binary.
+		 */
+		public static const BINARY:String = "binary";
+		
+		/**
+		 * Text.
+		 */
+		public static const TEXT:String = "text";
+		
+		/**
+		 * XML.
+		 */
+		public static const XML:String = "xml";
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/http/Service.as b/src/as/net/guttershark/support/servicemanager/http/Service.as
new file mode 100644
index 0000000..bc9990a
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/http/Service.as
@@ -0,0 +1,182 @@
+package net.guttershark.support.servicemanager.http
+{
+	import flash.utils.Proxy;
+	
+	import net.guttershark.support.servicemanager.shared.Limiter;	
+
+	/**
+	 * The Service class is used to send http requests from the service manager.
+	 * This class is used internally, and when using the service manager to
+	 * make http calls, you are invariably using this class without realizing it.
+	 * Don't use this class directly, use the service manager, this class is strictly
+	 * for documentation.
+	 * 
+	 * &lt;p>When you make a service call from the service manager, and pass it
+	 * an object of properties, you are passing it a "callProps" object.&lt;/p>
+	 * 
+	 * &lt;p>Supported properties on the callProps object:&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>data (Object) - Data to submit to the service (post or get).&lt;/li>
+	 * &lt;li>routes (Array) - An array of "route" paths that get concatenated together.&lt;/li>
+	 * &lt;li>method (String) - post or get.&lt;/li>
+	 * &lt;li>file (FileReference) - Upload a file. Attempts and timeouts do not apply when uploading a file. See below for more file upload information.&lt;/li>
+	 * &lt;li>responseFormat (String) - The response format to expect so casting and parsing can occur - see net.guttershark.support.servicemanager.http.ResponseFormat.&lt;/li>
+	 * &lt;li>onCreate (Function) - A function to call, as soon as a http call instance was created (the request hasn't gone out yet though.).&lt;/li>
+	 * &lt;li>onResult (Function) - A function to call, and pass a CallResult object to.&lt;/li>
+	 * &lt;li>onFault (Function) - A function to call, and pass a CallFault object to.&lt;/li>
+	 * &lt;li>onRetry (Function) - A function to call for every retry of a service.&lt;/li>
+	 * &lt;li>onTimeout (Function) - A function to call after every retry has been attempted, and no result or fault occured.&lt;/li>
+	 * &lt;li>attempts (int) - The number of retry attempts allowed.&lt;/li>
+	 * &lt;li>timeout (int - milliseconds) - The amount of time allowed for each call before another attempt is made.&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>&lt;strong>Extended file upload info.&lt;/strong> If you're upload service returns some data, that data
+	 * will be passed to your onResult in a CallResult instance. If no data is returned
+	 * from the server, a call result object will &lt;strong>not&lt;/strong> be passed to your
+	 * onResult, or onFault callbacks.&lt;p>
+	 * 
+	 * &lt;p>&lt;strong>&lt;h2>File upload responses.&lt;/h2>&lt;/strong> If you do not send back a response,
+	 * the flash client does not fire the complete event. This is problamatic, so make
+	 * sure to send at least a variable response like: &lt;code>result=true&lt;/code>, this
+	 * ensures that the on result handlers will correctly fire.&lt;/p>
+	 * 
+	 * &lt;p>HTTP Service calls support a couple extra features, and, if you follow the rules with the
+	 * responses from the server, you can trigger the onFault callback. This is useful
+	 * for situations where the server may have returned a 200 OK, but you need
+	 * to indicate to the client that it was a faulty operation.&lt;/p>
+	 * 
+	 * &lt;p>&lt;strong>For "xml" responses&lt;/strong>&lt;/p>
+	 * &lt;p>A successful xml response can be any well formed xml, which will trigger the onResult callback.&lt;/p>
+	 * &lt;p>To indicate a fault, and call the onFault callback, send an XML structure like this as the response:&lt;/p> 
+	 * &lt;listing>	
+	 * &lt;root&gt;
+	 *     &lt;fault&gt;my message&lt;/fault&gt;
+	 * &lt;/root&gt;
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>&lt;strong>Note:&lt;/strong> the root node name doesn't matter in this case, it's the &lt;code>fault&lt;/code> node that matters&lt;/p>
+	 * 
+	 * &lt;p>&lt;strong>For "variable" responses&lt;/strong>&lt;/p>
+	 * &lt;p>The response should be a url encoded string like so: (name=asdfasd&email=asdfasd&test=sdfsdf)&lt;/p>
+	 * &lt;p>To indicate a fault through variables define it like so: (fault=my%20fault%20message).&lt;/p>
+	 * 
+	 * &lt;p>For text or binary response formats, no translation of the response occurs, it's handed
+	 * back to you as raw data in either the call result, or call fault.&lt;/p>
+	 * 
+	 * @example Submitting data to a POST service.
+	 * &lt;listing>	
+	 * import net.guttershark.managers.ServiceManager;
+	 * import net.guttershark.support.serviceamanager.shared.CallResult;
+	 * import net.guttershark.support.serviceamanager.shared.CallFault;
+	 * var sm:ServiceManager = ServiceManager.gi();
+	 * sm.createHTTPService("sendEmail","http://localhost/sendEmail.php",3,5000,false);
+	 * sm.sendEmail({method:"post",responseFormat:"variables",data:{toEmail:"test&#64;example.com",subject:"Example",message:"Hello World"},onResult:onr,onFault:onf});
+	 * function onr(cr:CallResult):void{}
+	 * function onf(cf:CallFault):void{}
+	 * &lt;/listing>
+	 * 
+	 * @example A file upload, with no upload data response:
+	 * &lt;listing>	
+	 * import net.guttershark.managers.ServiceManager;
+	 * var sm:ServiceManager = ServiceManager.gi();
+	 * sm.createHTTPService("uploadFile","http://localhost/uploadFile.php");
+	 * sm.uploadFile({file:myFileReference,onResult:onr,onFault:onf});
+	 * function onr():void{} //no parameter here, as no result data is received.
+	 * function onf():void{} //no parameter here, as no result data is received.
+	 * &lt;/listing>
+	 * 
+	 * @example A file upload, with file upload response data:
+	 * &lt;listing>	
+	 * import net.guttershark.managers.ServiceManager;
+	 * import net.guttershark.support.serviceamanager.shared.CallResult;
+	 * import net.guttershark.support.serviceamanager.shared.CallFault;
+	 * var sm:ServiceManager = ServiceManager.gi();
+	 * sm.createHTTPService("uploadFile","http://localhost/uploadFile.php");
+	 * sm.uploadFile({file:myFileReference,onResult:onr,onFault:onf});
+	 * function onr(cr:CallResult):void{} //no parameter here, as no result data is received.
+	 * function onf(cf:CallFault):void{} //no parameter here, as no result data is received.
+	 * &lt;/listing>
+	 */
+	final public class Service extends Proxy
+	{
+		
+		/**
+		 * A limiter.
+		 */
+		private var limiter:Limiter;
+		
+		/**
+		 * The service utl.
+		 */
+		private var url:String;
+		
+		/**
+		 * Attempts allowed.
+		 */
+		private var attempts:int;
+		
+		/**
+		 * Call time before retry.
+		 */
+		private var timeout:int;
+		
+		/**
+		 * default response format.
+		 */
+		private var drf:String;
+		
+		/**
+		 * Constructor for Service instances.
+		 * 
+		 * @param id The id of this service.
+		 * @param href The endpoing URL.
+		 * @param method The HTTP method. GET/POST.
+		 * @param defaultResultFormat The default responses data format.
+		 */
+		public function Service(url:String,attempts:int=3,timeout:int=1000,limiter:Boolean=false,defaultResponseFormat:String="variables")
+		{
+			this.url = url;
+			this.attempts = attempts;
+			this.timeout = timeout;
+			this.drf = defaultResponseFormat;
+			if(limiter) this.limiter = new Limiter();
+		}
+		
+		/**
+		 * Sends a service call, from parameters in the callProps object.
+		 * 
+		 * @param callProps An Object with keys that control the service call, result handling, timeouts, etc.
+		 */
+		public function send(callProps:Object):void
+		{
+			if(!callProps.attempts) callProps.attempts = attempts;
+			if(!callProps.timeout) callProps.timeout = timeout;
+			if(!callProps.responseFormat) callProps.responseFormat = drf;
+			if(!callProps.method) callProps.method = "get";
+			var sc:ServiceCall = new ServiceCall(url,callProps);
+			if(callProps.onCreate) callProps.onCreate();
+			if(callProps.file) sc.uploadFile();
+			else sc.execute();
+		}
+		
+		/**
+		 * Dispose of this service.
+		 */
+		public function dispose():void
+		{
+			limiter = null;
+			url = null;
+			attempts = 0;
+			timeout = 0;
+			drf = null;
+		}
+
+		/**
+		 * Friendly description.
+		 */
+		public function toString():String
+		{
+			return "[Service "+this.url+"]";
+		}
+	}
+}
diff --git a/src/as/net/guttershark/support/servicemanager/http/ServiceCall.as b/src/as/net/guttershark/support/servicemanager/http/ServiceCall.as
new file mode 100644
index 0000000..f7df846
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/http/ServiceCall.as
@@ -0,0 +1,317 @@
+package net.guttershark.support.servicemanager.http
+{
+	import flash.events.DataEvent;
+	import flash.events.Event;
+	import flash.events.IOErrorEvent;
+	import flash.events.TimerEvent;
+	import flash.net.FileReference;
+	import flash.net.URLLoader;
+	import flash.net.URLRequest;
+	import flash.net.URLVariables;
+	import flash.utils.ByteArray;
+	import flash.utils.Timer;
+	import flash.utils.setTimeout;
+	
+	import net.guttershark.support.servicemanager.shared.BaseCall;
+	import net.guttershark.support.servicemanager.shared.CallFault;
+	import net.guttershark.support.servicemanager.shared.CallResult;		
+
+	/**
+	 * The ServiceCall class makes the http calls that a service class requests.
+	 */
+	final public class ServiceCall extends BaseCall
+	{
+		
+		/**
+		 * The url
+		 */
+		private var url:String;
+		
+		/**
+		 * The loader.
+		 */
+		private var loader:URLLoader;
+		
+		/**
+		 * A request.
+		 */
+		private var request:URLRequest;
+		
+		/**
+		 * A file reference, which must be a member variable in
+		 * order to fix async issues with responses from files.
+		 */
+		private var file:FileReference;
+		
+		/**
+		 * the upload data from a file upload.
+		 */
+		private var uploadDataResponse:*;
+
+		/**
+		 * Constructor for ServiceCall instances.
+		 */
+		public function ServiceCall(url:String,callProps:Object)
+		{
+			super(callProps);
+			this.url = url;
+			request = new URLRequest(url);
+		}
+		
+		/**
+		 * Executes the service call (for non file uploads).
+		 */
+		override public function execute():void
+		{
+			if(!completed)
+			{
+				attempts = props.attempts;
+				request.method = props.method;
+				if(!callTimer)
+				{
+					callTimer = new Timer(props.timeout,attempts);
+					callTimer.addEventListener(TimerEvent.TIMER,onTick,false,0,true);
+				}
+				if(!loader)
+				{
+					if(props.routes && props.routes.length > 0)
+					{
+						var route:String = "";
+						for each(var n:String in props.routes) route = route + n + "/";
+						request.url += route;
+					}
+					if(props.data)
+					{
+						var t:URLVariables = new URLVariables();
+						for(var key:String in props.data) t[key] = props.data[key];
+						request.data = t;
+						if(props.method=="get") request.url += "?";
+					}
+				}
+				tries++;
+				if(loader)
+				{
+					loader.close();
+					loader.removeEventListener(Event.COMPLETE, onComplete);
+					loader.removeEventListener(IOErrorEvent.IO_ERROR,onError);
+				}
+				loader = new URLLoader();
+				if(!loader.hasEventListener(Event.COMPLETE))
+				{
+					loader.addEventListener(Event.COMPLETE,onComplete);
+					loader.addEventListener(IOErrorEvent.IO_ERROR,onError);
+				}
+				var rf:String = props.responseFormat;
+				if(rf == ResponseFormat.XML) rf = ResponseFormat.TEXT;
+				loader.dataFormat = rf;
+				if(!callTimer.running) callTimer.start();
+				loader.load(request);
+			}
+		}
+		
+		/**
+		 * Execute this service for file uploads.
+		 */
+		public function uploadFile():void
+		{
+			attempts = 1;
+			file = props.file;
+			request = new URLRequest(url);
+			if(!completed)
+			{
+				if(props.routes && props.routes.length > 0)
+				{
+					var route:String = "";
+					for each(var n:String in props.routes) route = route + n + "/";
+					request.url += route;
+				}
+				if(props.data)
+				{
+					var t:URLVariables = new URLVariables();
+					var k:String;
+					for(k in props.data) t[k] = props.data[k];
+					request.data = t;
+					if(props.method=="get") request.url += "?";
+				}
+				file.addEventListener(DataEvent.UPLOAD_COMPLETE_DATA,onUploadCompleteData);
+				file.addEventListener(Event.COMPLETE,onFileComplete);
+				file.addEventListener(IOErrorEvent.IO_ERROR,onFileIOError);
+				if(props.uploadDataFieldName) file.upload(request,props.uploadDataFieldName);
+				else file.upload(request);
+			}
+		}
+		
+		/**
+		 * On io error.
+		 */
+		private function onFileIOError(ie:IOErrorEvent):void
+		{
+			completed = true;
+			if(props.onFault) props.onFault(new CallFault(ie.text));
+		}
+
+		/**
+		 * Generic shared on file complete method.
+		 */
+		private function fileComplete():void
+		{
+			if(completed)
+			{
+				dispose();
+				return;
+			}
+			completed = true;
+			if(uploadDataResponse) onCompleteSequence(uploadDataResponse);
+			else
+			{
+				onCompleteSequence(null);
+				dispose();
+			}
+		}
+
+		/**
+		 * On upload data complete event.
+		 */
+		private function onUploadCompleteData(de:DataEvent):void
+		{
+			uploadDataResponse = de.data;
+			setTimeout(fileComplete,100);
+		}
+		
+		/**
+		 * On file complete.
+		 */
+		private function onFileComplete(e:Event):void
+		{
+			setTimeout(fileComplete,300);
+		}
+		
+		/**
+		 * on error.
+		 */
+		private function onError(e:*):void
+		{
+			if(!completed && !url) return;
+			if(completed) return;
+			callComplete();
+			var fal:CallFault = new CallFault(e);
+			if(!checkForOnFaultCallback()) return;
+			props.onFault(fal);
+			dispose();
+		}
+		
+		/**
+		 * on complete of the service call.
+		 */
+		private function onComplete(e:Event):void
+		{
+			if(!completed && !url) return;
+			if(completed) return;
+			callComplete();
+			onCompleteSequence(loader.data);
+		}
+		
+		/**
+		 * Generic on complete sequence for http / file.
+		 */
+		private function onCompleteSequence(rawData:*):void
+		{
+			var res:CallResult;
+			var fal:CallFault;
+			var nodata:Boolean;
+			var emptyres:CallResult = new CallResult();
+			if(!rawData) nodata = true;
+			if(props.responseFormat == ResponseFormat.VARS)
+			{
+				if(file) rawData = new URLVariables(rawData);
+				if(!nodata && rawData.result)
+				{
+					res = new CallResult(rawData.result);
+					if(rawData.result.toLowerCase() == "true") res.result = true;
+					else if(rawData.result.toLowerCase() == "false") res.result = false;
+					if(!checkForOnResultCallback()) return;
+					props.onResult(res);
+				}
+				else if(!nodata && rawData.fault)
+				{
+					fal = new CallFault(rawData.fault);
+					fal.fault = rawData.fault;
+					if(!checkForOnFaultCallback()) return;
+					props.onFault(fal);
+				}
+				else
+				{
+					if(nodata) res = emptyres;
+					else res = new CallResult(rawData);
+					//if(!checkForOnResultCallback()) return;
+					props.onResult(res);
+				}
+			}
+			else if(props.responseFormat == ResponseFormat.XML)
+			{
+				if(rawData)
+				{
+					var x:XML = new XML(rawData);
+					if(x.fault != undefined)
+					{
+						fal = new CallFault(x.fault.toString());
+						if(!checkForOnFaultCallback()) return;
+						props.onFault(fal);
+					}
+					else
+					{
+						res = new CallResult(x);
+						if(!checkForOnResultCallback()) return;
+						props.onResult(res);
+					}
+				}
+				else
+				{
+					res = emptyres;
+					if(!checkForOnResultCallback()) return;
+					props.onResult(res);
+				}
+			}
+			else if(props.responseFormat == ResponseFormat.TEXT)
+			{
+				if(rawData) res = new CallResult(rawData);
+				else res = emptyres;
+				if(!checkForOnResultCallback()) return;
+				props.onResult(res);
+			}
+			else if(props.responseFormat == ResponseFormat.BINARY)
+			{
+				if(rawData) res = new CallResult(rawData as ByteArray);
+				else res = emptyres;
+				if(!checkForOnResultCallback()) return;
+				props.onResult(res);
+			}
+			if(!file) dispose();
+		}
+		
+		/**
+		 * Dispose of this call.
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			url = null;
+			if(loader)
+			{
+				loader.close();
+				loader.removeEventListener(Event.COMPLETE, onComplete);
+				loader.removeEventListener(IOErrorEvent.IO_ERROR,onError);
+				loader = null;
+			}
+			if(file)
+			{
+				uploadDataResponse = null;
+				file.removeEventListener(DataEvent.UPLOAD_COMPLETE_DATA,onUploadCompleteData);
+				file.removeEventListener(Event.COMPLETE,onFileComplete);
+				file.removeEventListener(IOErrorEvent.IO_ERROR,onFileIOError);
+				file = null;
+			}
+			request = null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/remoting/RemotingCall.as b/src/as/net/guttershark/support/servicemanager/remoting/RemotingCall.as
new file mode 100644
index 0000000..b132186
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/remoting/RemotingCall.as
@@ -0,0 +1,91 @@
+package net.guttershark.support.servicemanager.remoting
+{
+	import flash.events.TimerEvent;
+	import flash.net.Responder;
+	import flash.utils.*;
+	
+	import net.guttershark.support.servicemanager.remoting.RemotingService;
+	import net.guttershark.support.servicemanager.shared.BaseCall;
+	import net.guttershark.support.servicemanager.shared.CallFault;
+	import net.guttershark.support.servicemanager.shared.CallResult;		
+
+	/**
+	 * The RemotingCall class executes remoting calls.
+	 */
+	final public class RemotingCall extends BaseCall
+	{
+		
+		/**
+		 * The remoting service to make calls to.
+		 */	
+		private var rs:RemotingService;
+		
+		/**
+		 * Constructor for RemotingCall instances.
+		 * 
+		 * @param rs The RemotingService this call is going to.
+		 * @param callProps The callproperties to use for this call.
+		 */
+		public function RemotingCall(rs:RemotingService, callProps:Object)
+		{
+			super(callProps);
+			this.rs=rs;
+		}
+		
+		/**
+		 * Execute this call.
+		 */
+		override public function execute():void
+		{
+			if(!completed)
+			{
+				attempts = props.attempts;
+				var operation:String = props.endpoint + "." + props.method;
+				var responder:Responder = new Responder(onResult, onFault);
+				var callArgs:Array = new Array(operation, responder);
+				if(!callTimer)
+				{
+					callTimer = new Timer(props.timeout,attempts);
+					callTimer.addEventListener(TimerEvent.TIMER,onTick, false, 0, true);
+				}
+				tries++;
+				if(!callTimer.running) callTimer.start();
+				rs.rc.connection.call.apply(null, callArgs.concat(props.params));
+				if(limiter) limiter.lockCall(id);
+			}
+		}
+		
+		private function onResult(resObj:Object):void
+		{
+			if(!completed && rs)
+			{
+				callComplete();
+				var re:CallResult = new CallResult(resObj);
+				if(!checkForOnResultCallback()) return;
+				(props.returnArgs && props.params.length>0 && props.params!=undefined) ? props.onResult(re,props.params) : props.onResult(re);
+				dispose();
+			}
+		}
+		
+		private function onFault(resObj:Object):void
+		{
+			if(!completed && rs)
+			{
+				callComplete();
+				var fe:CallFault = new CallFault(resObj);
+				if(!checkForOnFaultCallback()) return;
+				(props.returnArgs && props.params.length>0 && props.params!=undefined) ? props.onFault(fe,props.params) : props.onFault(fe);
+				dispose();
+			}
+		}
+		
+		/**
+		 * Dispose of this RemotingCall.
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			rs = null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/remoting/RemotingConnection.as b/src/as/net/guttershark/support/servicemanager/remoting/RemotingConnection.as
new file mode 100644
index 0000000..c51f759
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/remoting/RemotingConnection.as
@@ -0,0 +1,113 @@
+package net.guttershark.support.servicemanager.remoting
+{
+	import flash.events.*;
+	import flash.net.NetConnection;	
+
+	/**
+	 * The RemotingConnection class simplifies connecting a net connection to 
+	 * a Flash Remoting gateway.
+	 */
+	final public class RemotingConnection extends EventDispatcher
+	{	
+
+		/**
+		 * The gateway URL.
+		 */
+		public var gateway:String;
+		
+		/**
+		 * The net connection object used to connect.
+		 */
+		public var connection:NetConnection;
+		
+		/**
+		 * Constructor for RemotingConnection instances.
+		 * 
+		 * @param gateway The remoting gateway URL.
+		 * @param objectEncoding The AMF Object encoding.
+		 */
+		public function RemotingConnection(gateway:String, objectEncoding:int = 3)
+		{
+			if(gateway == '' || !gateway) throw new ArgumentError("Gateway cannot be null");
+			if(objectEncoding != 0 && objectEncoding != 3) throw new ArgumentError("Object encoding must be 0 or 3");
+			this.gateway = gateway;
+			connection = new NetConnection();
+			connection.objectEncoding = objectEncoding;
+			connection.addEventListener(NetStatusEvent.NET_STATUS, onConnectionStatus,false,0,true);
+			connection.addEventListener(IOErrorEvent.IO_ERROR, onConnectionError,false,0,true);
+			connection.addEventListener(SecurityErrorEvent.SECURITY_ERROR , onConnectionError,false,0,true);
+			connection.connect(gateway);
+		}
+		
+		/**
+		 * onConnectionError
+		 */
+		private function onConnectionError(event:ErrorEvent):void
+		{
+			connection.close();
+			connection = null;
+			trace("NetConnection Error"+event.text);
+		}
+		
+		/**
+		 * onConnectionStatus
+		 */
+		private function onConnectionStatus(event:NetStatusEvent):void
+		{
+			switch(event.info.code)
+			{
+				case "NetConnection.Connect.Success":
+					break;
+				case "NetConnection.Connect.Failed":
+					trace("Error: NetConnection Failed");
+					break;
+				case "NetConnection.Call.BadVersion":
+					trace("Error: NetConnection BadVersion");
+					break;
+				case "NetConnection.Call.Prohibited":
+					trace("Error: NetConnection Prohibited");
+					break;
+				case "NetConnection.Connect.Closed":
+					trace("Error: NetConnection Closed");
+					break;
+			}
+		}
+		
+		/**
+		 * Dispose of this RemotingConnection.
+		 */
+		public function dispose():void
+		{
+			if(connection.connected) connection.close();
+			connection = null;
+			gateway = null;
+		}
+
+		/**
+		 * Check whether or not the connection is currently established.
+		 */
+		public function get connected():Boolean
+		{
+			return connection.connected;
+		}
+		
+		/**
+		 * Re-connect the net connection object.
+		 */
+		public function reConnect():void
+		{
+			connection.connect(gateway);
+		}
+		
+		/**
+		 * Add a credentials header for any requests going to this connection.
+		 * 
+		 * @param username The username.
+		 * @param password The password.
+		 */
+		public function setCredentials(username:String,password:String):void
+		{
+			connection.addHeader("Credentials",false,{userid:username,password:password});
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/remoting/RemotingService.as b/src/as/net/guttershark/support/servicemanager/remoting/RemotingService.as
new file mode 100644
index 0000000..363f120
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/remoting/RemotingService.as
@@ -0,0 +1,201 @@
+package net.guttershark.support.servicemanager.remoting
+{
+	import flash.utils.Proxy;
+	import flash.utils.flash_proxy;
+	
+	import net.guttershark.support.servicemanager.remoting.RemotingCall;
+	import net.guttershark.support.servicemanager.remoting.RemotingConnection;
+	import net.guttershark.support.servicemanager.shared.Limiter;	
+	
+	/**
+	 * The RemotingService class creates and sends remoting requests.
+	 * This class is used internally, and when using the service manager to
+	 * make remoting calls, you are invariably using this class without realizing it.
+	 * Don't use this class directly, use the service manager, this class is strictly
+	 * for documentation.
+	 * 
+	 * &lt;p>When you make a service call from the service manager, and pass it
+	 * an object of properties, you are passing it a "callProps" object.&lt;/p>
+	 * 
+	 * &lt;p>Supported properties on the callProps object:&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>params (Array) - The parameters to send to the remoting service.&lt;/li>
+	 * &lt;li>onCreate (Function) - A function to call, as soon as a remoting call instance was created (the request hasn't gone out yet though.).&lt;/li>
+	 * &lt;li>onResult (Function) - A function to call, and pass a CallResult object to.&lt;/li>
+	 * &lt;li>onFault (Function) - A function to call, and pass a CallFault object to.&lt;/li>
+	 * &lt;li>onRetry (Function) - A function to call for every retry of a service call.&lt;/li>
+	 * &lt;li>onTimeout (Function) - A function to call after every retry has been attempted, and no result or fault was returned.&lt;/li>
+	 * &lt;li>attempts (int) - The number of retry attempts allowed.&lt;/li>
+	 * &lt;li>timeout (int - milliseconds) - The amount of time allowed for each call before another attempt is made.&lt;/li>
+	 * &lt;li>returnArgs (Boolean) - Return the original &lt;em>&lt;code>callprops.params&lt;/code>&lt;/em> sent through the
+	 * request as the second parameter to your onResult, or onFault callback&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * @example An extended remoting call example, with all callProp object properties filled in:
+	 * &lt;listing>	
+	 * import net.guttershark.managers.ServiceManager;
+	 * import net.guttershark.support.serviceamanager.shared.CallResult;
+	 * import net.guttershark.support.serviceamanager.shared.CallFault;
+	 * 
+	 * var sm:ServiceManager = ServiceManager.gi();
+	 * 
+	 * //this sets up a remoting service.
+	 * sm.createRemotingService("users","http://localhost/amfphp/gateway.php",3,1,3000,true);
+	 * 
+	 * //make a remoting call.
+	 * sm.users.getUserByName({param:["sam"],onResult:onr,onFault:onf,onCreate:onc,onRetry:onrt,onTimeout:ont,attempts:2,timeout:3000,returnArgs:true});
+	 * function onr(cr:CallResult,params:Array):void{} //onResult
+	 * function onf(cf:CallFault,params:Array):void{} //onFault
+	 * function onc():void{} //onCreate
+	 * function onrt():void{} //onRetry
+	 * function ont:void(){} //onTimeout
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>A remoting service supports something called a "limiter" which means
+	 * that if a request is being made to a service with X parameters, another
+	 * request to that service CANNOT be made until a result,timeout,or fault
+	 * occurs on the first call.&lt;/p>
+	 */
+	dynamic public class RemotingService extends Proxy
+	{
+		
+		/**
+		 * @private
+		 * The RemotingConnection.
+		 */
+		public var rc:RemotingConnection;
+		
+		/**
+		 * @private
+		 * A limiter, which get's passed to call instances.
+		 */
+		public var limiter:Limiter;
+		
+		/**
+		 * The endpoint.
+		 */
+		private var endpoint:String;
+		
+		/**
+		 * how many attempts.
+		 */
+		private var attempts:int;
+		
+		/**
+		 * timeout.
+		 */
+		private var timeout:int;
+		
+		/**
+		 * Constructor for RemotingService instances.
+		 * 
+		 * @param rc A RemotingConnection that this service will use.
+		 * @param endpoint The service endpoint.
+		 * @param attempts How many attempts can be made before a timeout occures.
+		 * @param timeout The time to allow each request, before retrying.
+		 */
+		public function RemotingService(rc:RemotingConnection,endpoint:String,attempts:int,timeout:int,limiter:Boolean)
+		{
+			this.rc=rc;
+			this.endpoint=endpoint;
+			this.attempts=attempts;
+			this.timeout=timeout;
+			if(limiter) this.limiter = new Limiter();
+		}
+		
+		/**
+		 * This is not the recommended way of using the remoting service, but is available
+		 * so you can call service methods where the methd name comes from a string variable.
+		 * 
+		 * @example Calling a service with the call method:
+		 * &lt;listing>	
+		 * var sm:ServiceManager = ServiceManager.gi();
+		 * 
+		 * var tf:TextField = new TextField();
+		 * tf.text = "helloWorld";
+		 * 
+		 * sm.helloWorldService.call(tf.text,{...});
+		 * 
+		 * //the normal way:
+		 * sm.helloWorldService.helloWorld({...});
+		 * &lt;/listing>
+		 */
+		public function call(methodName:String, ...args):*
+		{
+			var callProps:Object = args[0];
+			if(!callProps.timeout) callProps.timeout=timeout;
+			if(!callProps.attempts) callProps.attempts=attempts;
+			if(!callProps.params) callProps.params=[];
+			callProps.endpoint=endpoint;
+			callProps.method=methodName;
+			var rcall:RemotingCall = new RemotingCall(this,callProps);
+			if(callProps.onCreate) callProps.onCreate();
+			var unique:String=(rc.gateway+endpoint+methodName+callProps.params.toString());
+			rcall.id = unique;
+			if(limiter)
+			{
+				if(!limiter.canExecute(unique))
+				{
+					if(callProps.onLimited) callProps.onLimited();
+					return;
+				}
+				rcall.limiter = limiter;
+			}
+			rcall.execute();
+			return null;
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * sm.user // returns user RemotingService
+		 * //sm.user.deleteUser({})
+		 * 
+		 * callProperty - proxy override (__resolve)
+		 */
+		flash_proxy override function callProperty(methodName:*, ...args):*
+		{
+			var callProps:Object = args[0];
+			if(!callProps.timeout) callProps.timeout=timeout;
+			if(!callProps.attempts) callProps.attempts=attempts;
+			if(!callProps.params) callProps.params=[];
+			callProps.endpoint=endpoint;
+			callProps.method=methodName;
+			var rcall:RemotingCall = new RemotingCall(this,callProps);
+			if(callProps.onCreate) callProps.onCreate();
+			var unique:String=(rc.gateway+endpoint+methodName+callProps.params.toString());
+			rcall.id = unique;
+			if(limiter)
+			{
+				if(!limiter.canExecute(unique))
+				{
+					if(callProps.onLimited) callProps.onLimited();
+					return;
+				}
+				rcall.limiter = limiter;
+			}
+			rcall.execute();
+			return null;
+		}
+		
+		/**
+		 * Dispose of this RemotingService.
+		 */
+		public function dispose():void
+		{
+			if(limiter) limiter.dispose();
+			limiter = null;
+			timeout = 0;
+			attempts = 0;
+			endpoint = null;
+		} 
+		
+		/**
+		 * Friendly description.
+		 */
+		public function toString():String
+		{
+			return "[RemotingService " + endpoint + "]";
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/shared/BaseCall.as b/src/as/net/guttershark/support/servicemanager/shared/BaseCall.as
new file mode 100644
index 0000000..d864d38
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/shared/BaseCall.as
@@ -0,0 +1,140 @@
+package net.guttershark.support.servicemanager.shared
+{
+	import flash.events.TimerEvent;
+	import flash.utils.Timer;	
+
+	/**
+	 * The BaseCall class is the base for any service call,
+	 * and implements the base logic for attempts and timeout
+	 * handling.
+	 */
+	public class BaseCall 
+	{
+		
+		/**
+		 * The id of this call.
+		 */
+		public var id:String;
+		
+		/**
+		 * Limiter
+		 */
+		public var limiter:Limiter;
+		
+		/**
+		 * Whether or not this call is complete.
+		 */
+		protected var completed:Boolean;
+		
+		/**
+		 * How many tries have occured.
+		 */
+		protected var tries:int;
+		
+		/**
+		 * How many attempts to allows.
+		 */
+		protected var attempts:int;
+		
+		/**
+		 * The call timer.
+		 */
+		protected var callTimer:Timer;
+		
+		/**
+		 * Call properties for this call.
+		 */
+		protected var props:Object;
+		
+		/**
+		 * Constructor for BaseCall instances.
+		 * 
+		 * @param callProps An object with call properties.
+		 */
+		public function BaseCall(callProps:Object)
+		{
+			props = callProps;
+			tries = 0;
+			attempts = 1;
+		}
+		
+		/**
+		 * Stub method for executing this service call.
+		 */
+		public function execute():void{}
+		
+		/**
+		 * On timer tick.
+		 */
+		protected function onTick(e:TimerEvent):void
+		{
+			if(!completed)
+			{
+				if(tries >= attempts)
+				{
+					completed = true;
+					if(!props.onTimeout)
+					{
+						trace("WARNING: Call timed out, but onTimeout callback was not defined. You will not receive a fault event, or result event when a timeout occurs.");
+						return;
+					}
+					props.onTimeout();
+					return;
+				}
+				if(!props.onRetry) trace("WARNING: Call is retrying, but no onRetry callback is defined.");
+				else props.onRetry();
+				execute();
+			}
+		}
+		
+		/**
+		 * On service call complete.
+		 */
+		protected function callComplete():void
+		{
+			completed=true;
+			callTimer.stop();
+			if(limiter) limiter.releaseCall(id);
+		}
+		
+		/**
+		 * Checks if an onResult function was defined in the callProps object.
+		 */
+		protected function checkForOnResultCallback():Boolean
+		{
+			if(!props.onResult)
+			{
+				trace("WARNING: A result was recieved, but no onResult callback was defined.");
+				dispose();
+				return false;
+			}
+			return true;
+		}
+		
+		/**
+		 * Checks if an onFault functionw as defined in the callProps object.
+		 */
+		protected function checkForOnFaultCallback():Boolean
+		{
+			if(!props.onFault)
+			{
+				trace("WARNING: A fault was recieved, but no onFault callback was defined.");
+				dispose();
+				return false;
+			}
+			return true;
+		}
+		
+		/**
+		 * Dispose of this service.
+		 */
+		public function dispose():void
+		{
+			tries = 0;
+			attempts = 0;
+			completed = false;
+			callTimer = null;
+			limiter = null;
+			id = null;
+			props = null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/shared/CallFault.as b/src/as/net/guttershark/support/servicemanager/shared/CallFault.as
new file mode 100644
index 0000000..2c58035
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/shared/CallFault.as
@@ -0,0 +1,26 @@
+package net.guttershark.support.servicemanager.shared 
+{
+	
+	/**
+	 * The CallFault class stores the fault object that
+	 * was received from any service call that was considered
+	 * a fault, and is passed back to the onFault callback of
+	 * a service call.
+	 */
+	final public class CallFault
+	{
+		
+		/**
+		 * The fault object.
+		 */
+		public var fault:*;
+		
+		/**
+		 * Constructor for CallFault instances.
+		 * 
+		 * @param fal A fault object.
+		 */
+		public function CallFault(fal:*)
+		{
+			fault = fal;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/shared/CallResult.as b/src/as/net/guttershark/support/servicemanager/shared/CallResult.as
new file mode 100644
index 0000000..8d814eb
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/shared/CallResult.as
@@ -0,0 +1,24 @@
+package net.guttershark.support.servicemanager.shared 
+{
+	
+	/**
+	 * The CallResult class stores a result object from the server
+	 * for any successful service call, and is passed back
+	 * to the onResult callback function of a service call.
+	 */
+	final public class CallResult 
+	{
+		
+		/**
+		 * The result object.
+		 */
+		public var result:*;
+		
+		/**
+		 * Constructor for CallResult instances.
+		 * @param res The result object.
+		 */
+		public function CallResult(res:*=null)
+		{
+			result = res;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/servicemanager/shared/Limiter.as b/src/as/net/guttershark/support/servicemanager/shared/Limiter.as
new file mode 100644
index 0000000..8bce1ce
--- /dev/null
+++ b/src/as/net/guttershark/support/servicemanager/shared/Limiter.as
@@ -0,0 +1,74 @@
+package net.guttershark.support.servicemanager.shared
+{
+	import flash.utils.Dictionary;		
+
+	/**
+	 * The Limiter class stops duplicate calls in RemotingServices
+	 * when a call has been made, but no response has happened yet.
+	 */
+	final public class Limiter
+	{
+
+		/**
+		 * The lookup for calls.
+		 */
+		private var callsInProgress:Dictionary;
+
+		/**
+		 * New RemotinCallLimiter.
+		 */
+		public function Limiter()
+		{
+			callsInProgress = new Dictionary();
+		}
+		
+		/**
+		 * Locks a call so that no further calls can be made to it
+		 * until it's unlocked.
+		 * 
+		 * @param uniquePath A unique identifier for a remoting call.
+		 */
+		public function lockCall(uniquePath:String):void
+		{
+			callsInProgress[uniquePath] = true;
+		}
+		
+		/**
+		 * Releases a call from the call pool.
+		 * 
+		 * @param uniquePath The unique identifier for a remoting call.
+		 */
+		public function releaseCall(uniquePath:String):void
+		{
+			if(!uniquePath) return;				
+			callsInProgress[uniquePath] = false;
+		}
+		
+		/**
+		 * Test whether or not a call can be executed.
+		 * 
+		 * @param uniquePath The unique identifier for a remoting call.
+		 */
+		public function canExecute(uniquePath:String):Boolean
+		{
+			return (!callsInProgress[uniquePath]);
+		}
+		
+		/**
+		 * Clears all currently locked calls.
+		 */
+		public function releaseAllCalls():void
+		{
+			callsInProgress = new Dictionary();
+		}
+		
+		/**
+		 * Dispose of this RemotingCallLimiter.
+		 */
+		public function dispose():void
+		{
+			releaseAllCalls();
+			callsInProgress = null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/soundmanager/AudioEvent.as b/src/as/net/guttershark/support/soundmanager/AudioEvent.as
new file mode 100644
index 0000000..bd947ec
--- /dev/null
+++ b/src/as/net/guttershark/support/soundmanager/AudioEvent.as
@@ -0,0 +1,88 @@
+package net.guttershark.support.soundmanager 
+{
+	import flash.events.Event;		
+
+	/**
+	 * The AudioEvent class is dispatched for various
+	 * audio events from audible objects, audible groups,
+	 * and the sound manager.
+	 */
+	public class AudioEvent extends Event
+	{
+		
+		/**
+		 * Audio starts.
+		 */
+		public static const START:String="start";
+		
+		/**
+		 * Audio stopped.
+		 */
+		public static const STOP:String="stop";
+		
+		/**
+		 * Audio progress.
+		 */
+		public static const PROGRESS:String="progress";
+		
+		/**
+		 * Audio resumed.
+		 */
+		public static const RESUMED:String="resumed";
+		
+		/**
+		 * Audio paused.
+		 */
+		public static const PAUSED:String="paused";
+		
+		/**
+		 * Audio looped.
+		 */
+		public static const LOOPED:String="looped";
+		
+		/**
+		 * Audio volume changed.
+		 */
+		public static const VOLUME_CHANGE:String="volumeChange";
+		
+		/**
+		 * Audio panning changed.
+		 */
+		public static const PAN_CHANGE:String="panChange";
+		
+		/**
+		 * Audio completed.
+		 */
+		public static const COMPLETE:String="complete";
+		
+		/**
+		 * Audio muted.
+		 */
+		public static const MUTE:String="mute";
+		
+		/**
+		 * Audio unmuted.
+		 */
+		public static const UNMUTE:String="unmute";
+		
+		/**
+		 * The percent of the audio that was played.
+		 */
+		public var percentPlayed:Number;
+		
+		/**
+		 * The pixels that have been played.
+		 */
+		public var pixelsPlayed:Number;
+		
+		/**
+		 * Constructor for AudioEvent instances.
+		 * 
+		 * @param type The event type.
+		 * @param bubbles Whether or not the event bubbles.
+		 * @param cancelable Whether or not the event is cancelable.
+		 */
+		public function AudioEvent(type:String,bubbles:Boolean=false,cancelable:Boolean=false):void
+		{
+			super(type,bubbles,cancelable);
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/soundmanager/AudioGroup.as b/src/as/net/guttershark/support/soundmanager/AudioGroup.as
new file mode 100644
index 0000000..772b511
--- /dev/null
+++ b/src/as/net/guttershark/support/soundmanager/AudioGroup.as
@@ -0,0 +1,649 @@
+package net.guttershark.support.soundmanager 
+{
+	import flash.events.Event;
+	import flash.events.EventDispatcher;
+	import flash.events.IEventDispatcher;
+	import flash.media.Sound;
+	import flash.media.SoundTransform;
+	import flash.utils.Dictionary;
+	import flash.utils.Proxy;
+	import flash.utils.flash_proxy;	
+
+	/**
+	 * Dispatched when the group starts playing.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("start", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the group stops playing.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("stop", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the volume changes
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("volumeChange", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the group is paused.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("paused", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the group is resumed.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("resumed", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the group is muted.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("mute", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the group is un-muted.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("unmute", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * The AudioGroup class controls multiple AudibleObject's as a group.
+	 * 
+	 * &lt;p>The AudioGroup can be used directly,
+	 * but is not intended that way, you should use
+	 * the sound manager instead.&lt;/p>
+	 */
+	public class AudioGroup extends Proxy implements IEventDispatcher
+	{
+		
+		/**
+		 * The group id.
+		 */
+		public var id:String;
+		
+		/**
+		 * Event dispatcher.
+		 */
+		private var ed:EventDispatcher;
+		
+		/**
+		 * All audibles that have been added.
+		 */
+		private var audibles:Dictionary;
+		
+		/**
+		 * Stored audible options.
+		 */
+		private var audibleOptions:Dictionary;
+		
+		/**
+		 * All objects that aren't a sound instance.
+		 */
+		private var objs:Dictionary;
+		
+		/**
+		 * All playing audible objects.
+		 */
+		private var playingObjs:Array;
+		
+		/**
+		 * A sound transform that keeps track of volume,
+		 * which is applied to sounds that are playing- if no
+		 * custom volume is specified in it's play options.
+		 */
+		private var transform:SoundTransform;
+		
+		/**
+		 * Whether or not all sounds are being stopped.
+		 */
+		private var stoppingAll:Boolean;
+		
+		/**
+		 * muted flag
+		 */
+		private var muted:Boolean;
+		
+		/**
+		 * Constructor for AudioGroup instances.
+		 * 
+		 * @param id The group id.
+		 * @param groupOptions Group play options.
+		 */
+		public function AudioGroup(id:String):void
+		{
+			this.id=id;
+			ed=new EventDispatcher(this);
+			objs=new Dictionary();
+			audibles=new Dictionary();
+			audibleOptions=new Dictionary();
+			transform=new SoundTransform();
+			playingObjs=[];
+		}
+		
+		/**
+		 * Check whether or not a sound instance is playing.
+		 * 
+		 * @param id The id of the sound instance.
+		 */
+		public function isPlaying(id:String):Boolean
+		{
+			if(!hasObject(id))return false;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++)if(AudioObject(playingObjs[i]).id==id)return true;
+			return false;
+		}
+		
+		/**
+		 * Check if this group contains an audible object.
+		 * 
+		 * @param id The id to check.
+		 */
+		public function hasObject(id:String):Boolean
+		{
+			return !(audibles[id]==null||audibles[id]==undefined);
+		}
+		
+		/**
+		 * Add a sound instance, display object, or any
+		 * object that exposes a &lt;em>soundTransform&lt;/em> property.
+		 * 
+		 * @param id The id of the object.
+		 * @param obj The object.
+		 * @param options Persistent play options for the object.
+		 */
+		public function addObject(id:String, obj:*, options:Object=null):void
+		{
+			if(!(obj is Sound)&&!("soundTransform" in obj)) throw new Error("The volume for the object added cannot be controled, it must be a Sound or contain a {soundTransform} property.");
+			if(!(obj is Sound))
+			{
+				var ao:AudioObject=new AudioObject(id,obj);
+				objs[id]=ao;
+			}
+			audibles[id]=obj;
+			if(options)audibleOptions[id]=options;
+		}
+		
+		/**
+		 * Remove an object from this group.
+		 * 
+		 * @param id The id of the object to remove.
+		 */
+		public function removeObject(id:String):void
+		{
+			if(objs[id])
+			{
+				objs[id].dispose();
+				objs[id]=null;
+				delete objs[id];
+			}
+			if(audibles[id])
+			{
+				audibles[id]=null;
+				delete audibles[id];
+			}
+			if(audibleOptions[id])
+			{
+				audibleOptions[id]=null;
+				delete audibleOptions[id];
+			}
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++)
+			{
+				if(AudioObject(playingObjs[i]).id==id)
+				{
+					AudioObject(playingObjs[i]).stop();
+					playingObjs.splice(i,1);
+				}
+			}
+		}
+		
+		/**
+		 * Play a sound object.
+		 * 
+		 * @param id The id of the sound to play.
+		 * @param options Persistent play options.
+		 */
+		public function playSound(id:String,options:Object=null):void
+		{
+			if(!hasObject(id))return;
+			var ao:AudioObject=new AudioObject(id,audibles[id],this);
+			playingObjs.push(ao);
+			if(options&&!options.volume)options.volume=transform.volume;
+			if(options)ao.play(options);
+			else if(!options&&audibleOptions[id])ao.play(audibleOptions[id]);
+			else ao.play({volume:transform.volume});
+		}
+		
+		/**
+		 * Play all sound instances contained in this group.
+		 */
+		public function play():void
+		{
+			var key:String;
+			var ao:AudioObject;
+			for(key in audibles)
+			{
+				ao=new AudioObject(key,audibles[key],this);
+				if(audibleOptions[key])ao.play(audibleOptions[key]);
+				else ao.play({volume:transform.volume});
+				playingObjs.push(ao);
+			}
+			dispatchEvent(new AudioEvent(AudioEvent.START));
+		}
+		
+		/**
+		 * Stop all sound instances contained in this group.
+		 */
+		public function stop():void
+		{
+			stoppingAll=true;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++)
+			{
+				var ao:AudioObject=playingObjs[i];
+				if(ao==null)continue;
+				ao.stop();
+			}
+			dispatchEvent(new AudioEvent(AudioEvent.STOP));
+			stoppingAll=false;
+			playingObjs=[];
+		}
+		
+		/**
+		 * Stop a playing sound.
+		 * 
+		 * @param id The id of the sound to stop.
+		 */
+		public function stopSound(id:String):void
+		{
+			if(!isPlaying(id))return;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++)
+			{
+				var o:AudioObject=AudioObject(playingObjs[i]);
+				if(o.id==id)
+				{
+					o.stop();
+					playingObjs.splice(i,1);
+				}
+			}
+		}
+
+		/**
+		 * Pause all sound instances contained in this group.
+		 */
+		public function pause():void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			dispatchEvent(new AudioEvent(AudioEvent.PAUSED));
+			for(i;i&lt;l;i++)AudioObject(playingObjs[i]).pause();
+			for each(ao in objs) ao.pause();
+		}
+		
+		/**
+		 * Resume all sound instances contained in this group.
+		 */
+		public function resume():void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			dispatchEvent(new AudioEvent(AudioEvent.RESUMED));
+			for(i;i&lt;l;i++)AudioObject(playingObjs[i]).resume();
+			for each(ao in objs)ao.resume();
+		}
+
+		/**
+		 * Increase the group volume.
+		 * 
+		 * @param step The amount to increase the volume by.
+		 */
+		public function increaseVolume(step:Number=.1):void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			for(i;i&lt;l;i++)AudioObject(playingObjs[i]).increaseVolume(step);
+			for each(ao in objs)ao.increaseVolume(step);
+			dispatchEvent(new AudioEvent(AudioEvent.VOLUME_CHANGE));
+		}
+		
+		/**
+		 * Decrease the group volume.
+		 * 
+		 * @param step The amount to decrease the volume by.
+		 */
+		public function decreaseVolume(step:Number=.1):void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			for(i;i&lt;l;i++)AudioObject(playingObjs[i]).decreaseVolume(step);
+			for each(ao in objs)ao.decreaseVolume(step);
+			dispatchEvent(new AudioEvent(AudioEvent.VOLUME_CHANGE));
+		}
+		
+		/**
+		 * Set custom levels for any audible objects.
+		 * 
+		 * @example Setting custom levels:
+		 * &lt;listing>	
+		 * snm.setLevels(["sparkle","blip"],[.3,.5]);
+		 * &lt;/listing>
+		 * 
+		 * @param ids The ids of the objects whose levels should be updated.
+		 * @param levels An array of levels that correlate to the audible objects' volume.
+		 * @param persistent Whether or not the level update will persist when a sound is played more than once.
+		 */
+		public function setLevels(ids:Array,levels:Array,persistent:Boolean=true):void
+		{
+			if(!ids||!levels)return;
+			if(ids.length!=levels.length) throw new Error("There must be equal parts in the two arrays passed, for the audible ids, and the levels");
+			var i:int=0;
+			var l:int=ids.length;
+			var j:int=0;
+			var k:int=playingObjs.length;
+			for(i;i&lt;l;i++)
+			{
+				for(j=0;j&lt;k;j++)if(AudioObject(playingObjs[j]).id==ids[i])AudioObject(playingObjs[j]).volume=levels[i];
+				if(!persistent)continue;
+				if(audibleOptions[ids[i]])audibleOptions[ids[i]].volume=levels[i];
+				else
+				{
+					audibleOptions[ids[i]]={};
+					audibleOptions[ids[i]].volume=levels[i];
+				}
+			}
+		}
+		
+		/**
+		 * Applies a volume to all sound and object instances
+		 * contained in this group.
+		 * 
+		 * @param level The new audio level.
+		 */
+		public function set volume(level:Number):void
+		{
+			if(transform.volume!=level)dispatchEvent(new AudioEvent(AudioEvent.VOLUME_CHANGE));
+			transform.volume=level;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			for(i;i&lt;l;i++) AudioObject(playingObjs[i]).volume=transform.volume;
+			for each(ao in objs)ao.volume=transform.volume;
+		}
+		
+		/**
+		 * The group volume.
+		 */
+		public function get volume():Number
+		{
+			return transform.volume;
+		}
+		
+		/**
+		 * A tween property for volume.
+		 */
+		public function get vl():Number
+		{
+			return transform.volume;
+		}
+		
+		/**
+		 * A tween property for volume.
+		 */
+		public function set vl(val:Number):void
+		{
+			volume=val;
+		}
+		
+		/**
+		 * Tween the volume of this group to a new level.
+		 * 
+		 * @param level The new volume level.
+		 * @param duration The tween duration.
+		 */
+		public function volumeTo(level:Number,duration:Number=.3):void
+		{
+			if(!level)return;
+			if(!duration)return;
+			transform.volume=level;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			for(i;i&lt;l;i++) AudioObject(playingObjs[i]).volumeTo(level,duration);
+			for each(ao in objs)ao.volumeTo(level,duration);
+		}
+		
+		/**
+		 * Set the panning for the entire group.
+		 */
+		public function set panning(val:Number):void
+		{
+			if(!val)return;
+			transform.pan=val;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			for(i;i&lt;l;i++) AudioObject(playingObjs[i]).panning=transform.pan;
+			for each(ao in objs)ao.panning=transform.pan;
+		}
+		
+		/**
+		 * The group panning.
+		 */
+		public function get panning():Number
+		{
+			return transform.pan;
+		}
+		
+		/**
+		 * A tween property for panning.
+		 */
+		public function get pn():Number
+		{
+			return transform.pan;
+		}
+		
+		/**
+		 * A tween property for panning.
+		 */
+		public function set pn(val:Number):void
+		{
+			panning=val;
+		}
+		
+		/**
+		 * Tween the pan to a new pan.
+		 * 
+		 * @param pan The new pan level.
+		 * @param duration The amount of time the tween takes.
+		 */
+		public function panTo(pan:Number, duration:Number):void
+		{
+			if(!pan)return;
+			if(!duration)return;
+			transform.pan=pan;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			for(i;i&lt;l;i++) AudioObject(playingObjs[i]).panTo(pan,duration);
+			for each(ao in objs)ao.panTo(pan,duration);
+		}
+		
+		/**
+		 * Toggle mute for the entire group.
+		 */
+		public function toggleMute():void
+		{
+			if(muted)unMute();
+			else if(!muted)mute();
+		}
+		
+		/**
+		 * Mute all sounds and objects contained in this group.
+		 */
+		public function mute():void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			dispatchEvent(new AudioEvent(AudioEvent.MUTE));
+			for(i;i&lt;l;i++)AudioObject(playingObjs[i]).mute();
+			for each(ao in objs)ao.mute();
+			muted=true;
+		}
+		
		/**
+		 * Un-mute all sounds and objects contained in this group.
+		 */
+		public function unMute():void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			var ao:AudioObject;
+			dispatchEvent(new AudioEvent(AudioEvent.UNMUTE));
+			for(i;i&lt;l;i++)AudioObject(playingObjs[i]).unMute();
+			for each(ao in objs)ao.unMute();
+			muted=false;
+		}
+		
+		/**
+		 * @private
+		 * Cleans up an audible object after it's not needed. This is
+		 * called from a child AudibleObject this group is managing.
+		 * 
+		 * @param ao The audible object to cleanup.
+		 */
+		public function cleanupAudibleObject(ao:AudioObject):void
+		{
+			if(stoppingAll)return;
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++)if(playingObjs[i]===ao)playingObjs.splice(i,1);
+		}
+		
+		/**
+		 * Dispose of this group.
+		 */
+		public function dispose():void
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++) AudioObject(playingObjs[i]).dispose();
+			var ao:AudioObject;
+			for each(ao in objs)ao.dispose();
+			id=null;
+			audibleOptions=null;
+			var key:String;
+			for(key in audibles)
+			{
+				audibles[key]=null;
+				delete audibles[key];
+			}
+			for(key in objs)
+			{
+				objs[key]=null;
+				delete objs[key];
+			}
+			playingObjs=null;
+			transform=null;
+		}
+		
+		/**
+		 * @private
+		 * get a playing obj.
+		 */
+		private function getPlayingObj(id:String):AudioObject
+		{
+			var i:int=0;
+			var l:int=playingObjs.length;
+			for(i;i&lt;l;i++)if(AudioObject(playingObjs[i]).id==id)return playingObjs[i];
+			return null;
+		}
+		
+		/**
+		 * Friendly description.
+		 */
+		public function toString():String
+		{
+			return "[AudioGroup "+id+"]";
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * getProperty - override getters to return null always.
+		 */
+		flash_proxy override function getProperty(name:*):*
+		{
+			if(isPlaying(name))return AudioObject(getPlayingObj(name));
+			if(objs[name])return AudioObject(objs[name]);
+			return new AudioObject(name,audibles[name],this);
+		}
+		
+		/**
+		 * @private
+		 */
+		flash_proxy override function callProperty(methodName:*, ...args):*
+		{
+			throw new Error("Method {"+methodName+"}not found: ");
+			return null;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function addEventListener(type:String,listener:Function,useCapture:Boolean=false,priority:int=0,useWeakReference:Boolean=false):void
+		{
+			ed.addEventListener(type,listener,useCapture,priority,useWeakReference);
+		}
+		
+		/**
+		 * @private
+		 */
+		public function removeEventListener(type:String,listener:Function,useCapture:Boolean = false):void
+		{
+			ed.removeEventListener(type,listener,useCapture);
+		}
+		
+		/**
+		 * @private
+		 */
+		public function dispatchEvent(event:Event):Boolean
+		{
+			return ed.dispatchEvent(event);
+		}
+		
+		/**
+		 * @private
+		 */
+		public function hasEventListener(type:String):Boolean
+		{
+			return ed.hasEventListener(type);
+		}
+		
+		/**
+		 * @private
+		 */
+		public function willTrigger(type:String):Boolean
+		{
+			return ed.willTrigger(type);
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/support/soundmanager/AudioObject.as b/src/as/net/guttershark/support/soundmanager/AudioObject.as
new file mode 100644
index 0000000..69f4053
--- /dev/null
+++ b/src/as/net/guttershark/support/soundmanager/AudioObject.as
@@ -0,0 +1,730 @@
+package net.guttershark.support.soundmanager 
+{
+	import gs.TweenMax;
+	
+	import net.guttershark.support.soundmanager.AudioGroup;
+	import net.guttershark.util.MathUtils;
+	
+	import flash.events.Event;
+	import flash.events.EventDispatcher;
+	import flash.events.TimerEvent;
+	import flash.media.Sound;
+	import flash.media.SoundChannel;
+	import flash.media.SoundTransform;
+	import flash.utils.Timer;	
+
+	/**
+	 * Dispatched when the sound starts playing.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("start", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound stops playing.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("stop", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched for progress of the audio.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("progress", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound is paused.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("paused", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound is resumed.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("resumed", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound has looped.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("looped", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound is muted.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("mute", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound is un-muted.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("unmute", type="net.guttershark.support.soundmanager.AudioEvent")]
+	
+	/**
+	 * Dispatched when the sound has completed playing.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("complete", type="net.guttershark.support.soundmanager.AudioEvent")]
+
+	/**
+	 * Dispatched when the volume changes
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("volumeChange", type="net.guttershark.support.soundmanager.AudioEvent")]
+
+	/**
+	 * Dispatched when the panning changes.
+	 * 
+	 * @eventType net.guttershark.support.soundmanager.AudioEvent
+	 */
+	[Event("panChange", type="net.guttershark.support.soundmanager.AudioEvent")]
+
+	/**
+	 * The AudioObject class controls an object that is
+	 * "audible," it can control a sound instance, or any object with
+	 * a &lt;em>&lt;strong>soundTransform&lt;/strong>&lt;/em> property.
+	 * 
+	 * &lt;p>The AudioObject can be used directly,
+	 * but is not intended that way, you should use
+	 * the sound manager instead.&lt;/p>
+	 * 
+	 * &lt;p>&lt;strong>There is one, possibly awkward thing about
+	 * the AudioObject class.&lt;/strong> If you're using the sound
+	 * manager or an audio group, an audio object will automatically
+	 * dispose of itself if it is controlling a sound instance, and
+	 * it has completed playing.&lt;/p>
+	 */
+	public class AudioObject extends EventDispatcher
+	{
+
+		/**
+		 * The id of this audible object.
+		 */
+		public var id:String;
+		
+		/**
+		 * The type of this audible object.
+		 */
+		private var type:String;
+		
+		/**
+		 * Math utils.
+		 */
+		private var mu:MathUtils;
+		
+		/**
+		 * The play options.
+		 */
+		private var ops:Object;
+		
+		/**
+		 * @private
+		 * The object being controled.
+		 */
+		public var obj:*;
+		
+		/**
+		 * The sound channel if this is controlling a Sound.
+		 */
+		private var channel:SoundChannel;
+		
+		/**
+		 * A transform used to keep reference to the volume.
+		 */
+		private var transform:SoundTransform;
+		
+		/**
+		 * A volume var holder for mute/unmute.
+		 */
+		private var vol:Number;
+		
+		/**
+		 * Whether or not this audible object is muted.
+		 */
+		private var muted:Boolean;
+		
+		/**
+		 * A sound loop watching timer.
+		 */
+		private var loopWatcher:Timer;
+		
+		/**
+		 * How many loops have occured.
+		 */
+		private var loops:Number;
+		
+		/**
+		 * @private
+		 * The group this audible object belongs to.
+		 */
+		public var audibleGroup:AudioGroup;
+
+		/**
+		 * Whether or not this audible object is playing.
+		 */
+		private var _isPlaying:Boolean;
+		
+		/**
+		 * Whether ot not the object is paused.
+		 */
+		private var _isPaused:Boolean;
+		
+		/**
+		 * A holder var for the pause position, which
+		 * is used to resume to.
+		 */
+		private var pausePosition:Number;
+		
+		/**
+		 * The pixels to fill for this audible object.
+		 */
+		private var _pixelsToFill:int;
+		
+		/**
+		 * The timer used for progress events.
+		 */
+		private var progressTimer:Timer;
+
+		/**
+		 * Constructor for AudioObject instances.
+		 * 
+		 * @param id The id for this audible object.
+		 * @param obj The object to control.
+		 * @param group Optionally provide an AudibleGroup this belongs to, for automatic cleanup in the group.
+		 */
+		public function AudioObject(id:String,obj:*,group:AudioGroup=null):void
+		{
+			mu=MathUtils.gi();
+			this.id=id;
+			this.obj=obj;
+			if(group)audibleGroup=group;
+			if(obj is Sound)type="s";
+			else if("soundTransform" in obj)type="o";
+			else throw new Error("The volume for the object added cannot be controled, it must be a Sound or contain a {soundTransform} property.");
+			progressTimer=new Timer(300);
+			transform=new SoundTransform();
+			pausePosition=0;
+			muted=false;
+			ops={};
+		}
+		
+		/**
+		 * Play this audio object.
+		 * 
+		 * &lt;p>Available options:&lt;/p>
+		 * &lt;ul>
+		 * &lt;li>volume (Number) - The volume to play the audio at.&lt;/li>
+		 * &lt;li>startTime (Number) - A start offset in milliseconds to start playing the audio from.&lt;/li>
+		 * &lt;li>loops (Number) - The number of times to loop the sound.&lt;/li>
+		 * &lt;li>panning (Number) - A panning value for the audio.&lt;/li>
+		 * &lt;li>restartIfPlaying (Boolean) - If this audible object is playing, and you call play again, it will (by defualt) not do anything,
+		 * unless this option is true, which will restart the playing sound.&lt;/li>
+		 * &lt;/ul>
+		 * 
+		 * @param ops Play options.
+		 */
+		public function play(ops:Object=null):void
+		{
+			if(!ops)ops={};
+			if(type=="o")
+			{
+				trace("WARNING: An audible object cannot 'play' a display object it's managing.");
+				return;
+			}
+			if(!ops&&_isPlaying)return;
+			if(!ops.restartIfPlaying&&_isPlaying)return;
+			if(_isPlaying)
+			{
+				removeListener();
+				channel.stop();
+			}
+			this.ops=ops;
+			var startTime:Number=(ops.starTime)?ops.starTime:0;
+			var loops:Number=(ops.loops)?ops.loops:0;
+			var panning:Number=(ops.panning)?ops.panning:0;
+			var volume:Number=(ops.volume)?ops.volume:1;
+			if(transform.volume&&!this.ops.volume)volume=transform.volume;
+			transform=new SoundTransform(volume,panning);
+			if(loops>0)loopWatcher=new Timer(obj.length);
+			channel=obj.play(startTime,loops,transform);
+			dispatchEvent(new AudioEvent(AudioEvent.START));
+			_isPlaying=true;
+			addListener();
+			if(loopWatcher)loopWatcher.start();
+			if(hasEventListener(AudioEvent.PROGRESS)&&!progressTimer.running)progressTimer.start();
+		}
+		
+		/**
+		 * Add listeners for loop and complete.
+		 */
+		private function addListener():void
+		{
+			if(loopWatcher)loopWatcher.addEventListener(TimerEvent.TIMER,onLoop,false,0,true);
+			channel.addEventListener(Event.SOUND_COMPLETE,onComplete,false,0,true);
+		}
+		
+		/**
+		 * Remove listeners for loop and complete.
+		 */
+		private function removeListener():void
+		{
+			if(loopWatcher)loopWatcher.removeEventListener(TimerEvent.TIMER,onLoop);
+			channel.removeEventListener(Event.SOUND_COMPLETE,onComplete);
+		}
+		
+		/**
+		 * Check whether or not the sound is playing.
+		 */
+		public function get isPlaying():Boolean
+		{
+			if(type=="o")return false;
+			return isPlaying;
+		}
+		
+		/**
+		 * Check whether or not the sound is paused.
+		 */
+		public function get isPaused():Boolean
+		{
+			if(type=="o")return false;
+			return isPaused;
+		}
+		
+		/**
+		 * When a loop occurs.
+		 */
+		private function onLoop(e:TimerEvent):void
+		{
+			loops++;
+			dispatchEvent(new AudioEvent(AudioEvent.LOOPED));
+		}
+		
+		/**
+		 * On complete.
+		 */
+		private function onComplete(e:Event):void
+		{
+			if(loopWatcher)loopWatcher.stop();
+			_isPlaying=false;
+			dispatchEvent(new AudioEvent(AudioEvent.COMPLETE));
+			if(audibleGroup)
+			{
+				audibleGroup.cleanupAudibleObject(this);
+				dispose();
+			}
+			progressTimer.stop();
+		}
+		
+		/**
+		 * Stop playing.
+		 */
+		public function stop():void
+		{
+			if(type=="o")return;
+			if(loopWatcher)loopWatcher.stop();
+			channel.stop();
+			_isPlaying=false;
+			dispatchEvent(new AudioEvent(AudioEvent.STOP));
+			if(audibleGroup)
+			{
+				audibleGroup.cleanupAudibleObject(this);
+				dispose();
+			}
+			progressTimer.stop();
+		}
+		
+		/**
+		 * Pause playing.
+		 */
+		public function pause():void
+		{
+			if(type=="o")return;
+			if(_isPaused)return;
+			_isPlaying=false;
+			if(loopWatcher)loopWatcher.stop();
+			dispatchEvent(new AudioEvent(AudioEvent.PAUSED));
+			pausePosition=channel.position;
+			channel.stop();
+			progressTimer.stop();
+			_isPaused=true;
+		}
+		
+		/**
+		 * Resume playing.
+		 */
+		public function resume():void
+		{
+			if(type=="o")return;
+			if(_isPlaying)return;
+			if(!_isPaused)return;
+			_isPlaying=true;
+			_isPaused=false;
+			removeListener();
+			var startTime:Number=pausePosition;
+			var loops:Number=(ops.loops)?ops.loops:0;
+			channel=obj.play(startTime,loops,transform);
+			if(!muted)channel.soundTransform=transform;
+			dispatchEvent(new AudioEvent(AudioEvent.RESUMED));
+			addListener();
+			if(loopWatcher)loopWatcher.start();
+			if(!progressTimer.running&&hasEventListener(AudioEvent.PROGRESS))progressTimer.start();
+		}
+		
+		/**
+		 * Increase the volume.
+		 * 
+		 * @param step The amount to increase the volume by.
+		 */
+		public function increaseVolume(step:Number=.1):void
+		{
+			transform.volume+=step;
+			if(type=="s")channel.soundTransform=transform;
+			else if(type=="o")obj.soundTransform=transform;
+		}
+		
+		/**
+		 * Decrease the volume.
+		 * 
+		 * @param step The amount to decrease the volume by.
+		 */
+		public function decreaseVolume(step:Number=.1):void
+		{
+			if(transform.volume==0)return;
+			transform.volume-=step;
+			if(type=="s")channel.soundTransform=transform;
+			else if(type=="o")obj.soundTransform=transform;
+		}
+		
+		/**
+		 * Mute.
+		 */
+		public function mute():void
+		{
+			if(muted)return;
+			if(transform.volume==0)return;
+			muted=true;
+			vol=transform.volume;
+			transform.volume=0;
+			if(type=="s")channel.soundTransform=transform;
+			else if(type=="o")obj.soundTransform=transform;
+			dispatchEvent(new AudioEvent(AudioEvent.MUTE));
+		}
+		
+		/**
+		 * Un-mute.
+		 */
+		public function unMute():void
+		{
+			if(!muted)return;
+			muted=false;
+			transform.volume=vol;
+			if(type=="s")channel.soundTransform=transform;
+			else if(type=="o")obj.soundTransform=transform;
+			dispatchEvent(new AudioEvent(AudioEvent.UNMUTE));
+		}
+		
+		/**
+		 * Toggle mute.
+		 */
+		public function toggleMute():void
+		{
+			if(muted)unMute();
+			else mute();
+		}
+		
+		/**
+		 * Tween the panning.
+		 * 
+		 * @param pan The new pan level.
+		 * @param duration The time it takes to tween the panning.
+		 */
+		public function panTo(pan:Number,duration:Number=.3):void
+		{
+			TweenMax.to(this,duration,{pn:pan});
+		}
+		
+		/**
+		 * Panning.
+		 * 
+		 * @param panning The new panning value.
+		 */
+		public function set panning(panning:Number):void
+		{
+			if(transform.pan!=panning)dispatchEvent(new AudioEvent(AudioEvent.PAN_CHANGE));
+			if(transform.pan==panning)return;
+			transform.pan=panning;
+			if(type=="s")channel.soundTransform=transform;
+			else obj.soundTransform=transform;
+		}
+		
+		/**
+		 * Panning.
+		 * 
+		 * @param panning The new panning value.
+		 */
+		public function get panning():Number
+		{
+			return transform.pan;
+		}
+		
+		/**
+		 * Set the panning.
+		 */
+		public function set pn(panning:Number):void
+		{
+			transform.pan=panning;
+			if(type=="s")channel.soundTransform=transform;
+			else obj.soundTransform=transform;
+		}
+		
+		/**
+		 * A tween property for panning.
+		 */
+		public function get pn():Number
+		{
+			return transform.pan;
+		}
+		
+		/**
+		 * Set the volume for this audible object.
+		 * 
+		 * @param level The volume level.
+		 */
+		public function set volume(level:Number):void
+		{
+			if(transform.volume!=level)dispatchEvent(new AudioEvent(AudioEvent.VOLUME_CHANGE));
+			transform.volume=level;
+			if(type=="s")
+			{
+				if(!channel)return;
+				channel.soundTransform=transform;
+			}
+			else obj.soundTransform=transform;
+		}
+		
+		/**
+		 * Volume.
+		 */
+		public function get volume():Number
+		{
+			return transform.volume;
+		}
+		
+		/**
+		 * Tween the volume.
+		 * 
+		 * @param level The new volume level.
+		 * @param duration The time it takes to tween to the new level.
+		 */
+		public function volumeTo(level:Number,duration:Number=.3):void
+		{
+			TweenMax.to(this,duration,{vl:level});
+		}
+		
+		/**
+		 * A tween property for volume.
+		 */
+		public function get vl():Number
+		{
+			return transform.volume;
+		}
+		
+		/**
+		 * Tween volume.
+		 */
+		public function set vl(level:Number):void
+		{
+			//trace(transform);
+			transform.volume=level;
+			trace(channel);
+			//if(type=="s")channel.soundTransform=transform;
+			//else obj.soundTransform=transform;
+		}
+		
+		/**
+		 * Seek to a position in the sound.
+		 * 
+		 * @param position The position of the sound to seek to.
+		 */
+		public function seek(position:Number):void
+		{
+			if(type=="o")
+			{
+				trace("WARNING: Seek is not supported for non Sound instances.");
+				return;
+			}
+			if(!position)return;
+			removeListener();
+			channel.stop();
+			var lps:int=(ops.loops)?ops.loops:0;
+			if(lps>0 && loops>1) lps=loops-lps;
+			if(lps&lt;0)lps=0;
+			channel=Sound(obj).play(position,lps,transform);
+		}
+		
+		/**
+		 * Seek to a percent of the sound.
+		 * 
+		 * @param percent The percent to seek to.
+		 */
+		public function seekToPercent(percent:Number):void
+		{
+			if(type=="o")
+			{
+				trace("WARNING: Seek to percent is not supported when managing display objects.");
+				return;
+			}
+			seek(Sound(obj).length*percent/100);
+		}
+		
+		/**
+		 * Seek to a pixel (first set pixels to fill).
+		 * 
+		 * @param pixel The pixel to seek to.
+		 */
+		public function seekToPixel(pixel:Number):void
+		{
+			if(type=="o")
+			{
+				trace("WARNING: Seek to pixels is not supported when managing display objects.");
+				return;
+			}
+			seek(mu.spread(pixel,pixelsToFill,Sound(obj).length));
+		}
+		
+		/**
+		 * Get the percentage of the sound that has played.
+		 */
+		public function percentPlayed():Number
+		{
+			if(type=="o")
+			{
+				trace("WARNING: A display object does not have a percent played value.");
+				return -1;
+			}
+			if(channel.position==0||!channel||!channel.position)return 0;
+			return Sound(obj).length/channel.position;
+		}
+		
+		/**
+		 * Get the amount of pixels that have played.
+		 */
+		public function pixelsPlayed():int
+		{
+			if(type=="o")
+			{
+				trace("WARNING: A display object does not have a pixels played value.");
+				return -1;
+			}
+			if(!_pixelsToFill)
+			{
+				trace("WARNING: The pixels to fill is not set. It must be set before using pixelsPlayed()");
+				return -1;
+			}
+			return mu.spread(channel.position,Sound(obj).length,_pixelsToFill);
+		}
+		
+		/**
+		 * The amount of pixels to fill for this audio object.
+		 * 
+		 * @param pixels The amount of pixels to fill.
+		 */
+		public function set pixelsToFill(pixels:int):void
+		{
+			_pixelsToFill=pixels;
+		}
+		
+		/**
+		 * The amount of pixels to fill for this audio object.
+		 */
+		public function get pixelsToFill():int
+		{
+			return _pixelsToFill;
+		}
+		
+		/**
+		 * Starts the progress logic.
+		 */
+		private function startProgressEvents():void
+		{
+			progressTimer.addEventListener(TimerEvent.TIMER,onTick,false,0,true);
+			if(!_isPlaying)return;
+			progressTimer.start();
+		}
+		
+		/**
+		 * Stops the progress logic.
+		 */
+		private function stopProgressEvents():void
+		{
+			progressTimer.stop();
+			progressTimer.removeEventListener(TimerEvent.TIMER,onTick);
+		}
+		
+		/**
+		 * On tick for progres timer.
+		 */
+		private function onTick(ev:TimerEvent):void
+		{
+			if(!_isPlaying)return;
+			var e:AudioEvent=new AudioEvent(AudioEvent.PROGRESS,false,true);
+			e.pixelsPlayed=pixelsPlayed();
+			e.percentPlayed=percentPlayed();
+			dispatchEvent(e);
+		}
+		
+		/**
+		 * @private
+		 */
+		override public function addEventListener(type:String,listener:Function,useCapture:Boolean=false,priority:int=0,useWeakReference:Boolean=false):void
+		{
+			super.addEventListener(type,listener,useCapture,priority,useWeakReference);
+			if(type==AudioEvent.PROGRESS&&!hasEventListener(AudioEvent.PROGRESS))startProgressEvents();
+		}
+		
+		/**
+		 * @private
+		 */
+		override public function removeEventListener(type:String,listener:Function,useCapture:Boolean=false):void
+		{
+			super.removeEventListener(type,listener,useCapture);
+			if(type==AudioEvent.PROGRESS&&!hasEventListener(AudioEvent.PROGRESS))stopProgressEvents();
+		}
+		
+		
+		
+		/**
+		 * Dispose of this audible object.
+		 */
+		public function dispose():void
+		{
+			removeListener();
+			progressTimer.stop();
+			progressTimer.removeEventListener(TimerEvent.TIMER,onTick);
+			id=null;
+			obj=null;
+			type=null;
+			transform=null;
+			vol=NaN;
+			_isPlaying=false;
+			loops=NaN;
+			loopWatcher=null;
+			ops=null;
+			audibleGroup=null;
+			channel=null;
+			muted=false;
+			pausePosition=NaN;
+			_pixelsToFill=0;
+			mu=null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/ArrayUtils.as b/src/as/net/guttershark/util/ArrayUtils.as
new file mode 100644
index 0000000..1c1f1cd
--- /dev/null
+++ b/src/as/net/guttershark/util/ArrayUtils.as
@@ -0,0 +1,599 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.Singleton;
+	
+	/**
+	 * The ArrayUtils class contains utility methods for arrays.
+	 */
+	final public class ArrayUtils 
+	{
+
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:ArrayUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():ArrayUtils
+		{
+			if(!inst) inst=Singleton.gi(ArrayUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function ArrayUtils()
+		{
+			Singleton.assertSingle(ArrayUtils);
+		}
+		
+		/**
+		 * @private
+		 * This is used to illustrate a point about performance with static methods.
+		 */
+		public function _search():void
+		{
+			var a:int=0;
+		}
+		
+		/**
+		 * @private
+		 * This is used to illustrate a point about performance with static methods.
+		 */
+		public static function _Search():void
+		{
+			var a:int=0;
+		}
+
+		/**
+		 * Clones an array.
+		 * 
+		 * @param array The array to clone.
+		 */
+		public function clone(array:Array):Array
+		{
+			//fast! - http://agit8.turbulent.ca/bwp/2008/08/04/flash-as3-optimization-fastest-way-to-copy-an-array/
+			if(!array) throw new ArgumentError("The array cannot be null");
+			return array.concat();
+		}
+
+		/**
+		 * Insert an element into an array at a specific index.
+		 * 
+		 * @param a The array to insert an element into.
+		 * @param element The object to insert.
+		 * @param index The index the object will be inserted into.
+		 */
+		public function insert(a:Array, element:Object, index:int):Array 
+		{
+			var aA:Array=a.slice(0,index - 1);
+			var aB:Array=a.slice(index,a.length - 1);
+			aA.push(element);
+			return merge(aA,aB);
+		}
+
+		/**
+		 * Remove all instances of an element from an array.
+		 * 
+		 * @param a The array to search and remove from.
+		 * @param element The element to remove from the array.
+		 */
+		public function remove(a:Array, element:Object):Array 
+		{
+			var l:int=a.length;
+			var k:int=0;
+			for(k;k&lt;l;k++)if(a[k]===element) a.splice(k,1);
+			return a;
+		}
+
+		/**
+		 * Determines if a value exists within the array.
+		 * 
+		 * @param a The array to search.
+		 * @param val The element to search for.
+		 */			
+		public function contains(a:Array, element:Object):Boolean 
+		{
+			return(a.indexOf(element) != -1);
+		}
+
+		/**
+		 * Shuffle array elements.
+		 * 
+		 * @param a The array to shuffle.
+		 */
+		public function shuffle(a:Array):void 
+		{
+			var l:int=a.length;
+			var i:int=0;
+			for(i;i&lt;l;i++)
+			{
+				var tmp:* =a[i];
+				var rand:int=int(Math.random()*l);
+				a[i]=a[rand];
+				a[rand]=tmp;
+			}
+		}
+
+		/**
+		 * Create a new array that contains unique instances of objects.
+		 * This can be used to remove duplication object instances from an array.
+		 * 
+		 * @param a The array to uniquely copy.
+		 */
+		public function uniqueCopy(a:Array):Array 
+		{
+			var newArray:Array=new Array();
+			var len:int=a.length;
+			var item:Object;
+			var i:int=0;
+			for(i;i&lt;len;++i) 
+			{
+				item=a[i];
+				if(contains(newArray,item)) continue;
+				newArray.push(item);
+			}
+			return newArray;
+		}
+		
+		/**
+		 * Determine if one array is identical to the other array.
+		 * 
+		 * @param arr1 The first array.
+		 * @param arr2 The second array.
+		 */
+		public function equals(arr1:Array, arr2:Array):Boolean 
+		{
+			if(arr1.length!=arr2.length) return false;
+			var l:int=arr1.length;
+			var i:int=0;
+			for(i;i&lt;l;i++) if(arr1[i] !== arr2[i]) return false;
+			return true;
+		}
+
+		/**
+		 * Merge two arrays into one.
+		 * 
+		 * @param a The first array.
+		 * @param b The second array.
+		 */
+		public function merge(a:Array, b:Array):Array
+		{
+			var c:Array=b.concat();
+			var i:int=a.length-1;
+			for(i;i>-1;i--)c.unshift(a[i]);
+			return c;
+		}	
+
+		/**
+		 * Swap two element's positions in an array.
+		 * 
+		 * @param a The target array in which the swap will occur.
+		 * @param index1 The first index.
+		 * @param index2 The second index.
+		 */
+		public function swap(a:Array, index1:int, index2:int):Array
+		{
+			if(index1>=a.length||index1&lt;0) 
+			{
+				throw new Error("Index A {"+index1+"} is not a valid index in the array.");
+				return a;
+			}
+			if(index2>=a.length||index2&lt;0) 
+			{
+				throw new Error("Index B {"+index2+"} is not a valid index in the array.");
+				return a;
+			}
+			var el:Object=a[index1];
+			a[index1]=a[index2];
+			a[index2]=el;
+			return a;
+		}	
+		
+		/**
+		 * Remove duplicates from an array and return a new array.
+		 * 
+		 * @param a The array to remove duplicates from.
+		 */
+		public function removeDuplicate(a:Array):Array 
+		{
+			a.sort();
+			var o:Array=new Array();
+			var l:int=a.length;
+			var i:int=0;
+			for(i;i&lt;l;i++)if(a[i]!=a[i+1])o.push(a[i]);
+			return o;
+		}
+
+		/**
+		 * Compares two arrays to see if any two indexes have the same
+		 * value as the other array.
+		 * 
+		 * @param a The first array.
+		 * @param b The second array.
+		 */	
+		public function matchValues(a:Array, b:Array):Boolean 
+		{
+			var f:int=0;
+			var l:int=0;
+			var al:int=a.length;
+			var bl:int=b.length;
+			for(f;f&lt;al;f++)for(l;l&lt;bl;l++)if(b[l].toLowerCase()===a[f].toLowerCase()) return true;
+			return false;
+		}
+
+		/**
+		 * Compare two arrays to see if their values (and optionally order) are identical.
+		 * 
+		 * @param ordered Whether or not the arrays will be sorted before the compare is performed.
+		 * 
+		 * @example Using ArrayUtils.compare:
+		 * &lt;listing>	
+		 * var a:Array=[5,4,3,2,1,'C','B','A'];
+		 * var b:Array=['A','B','C',1,2,3,4,5];
+		 * trace("arrays (unordered) compare: " + ArrayUtil.compare(a,b)); //true
+		 * trace("arrays (ordered) compare: " + ArrayUtil.compare(a,b,true)); //false
+		 * &lt;/listing>
+		 */
+		public function compare(a:Array, b:Array, ordered:Boolean=false):Boolean
+		{
+			var c:Array=(ordered) ? a : a.concat().sort(Array.DESCENDING);
+			var d:Array=(ordered) ? b : b.concat().sort(Array.DESCENDING);
+			if(c.length != d.length) return false;
+			var l:int=c.length;
+			var i:int=0;
+			for(i;i&lt;l;i++)if(c[i]!==d[i]) return false;
+			return true;
+		}
+
+		/**
+		 * Search for a unique property/value match in an array of complex objects.
+		 * 
+		 * @param a An array of objects.
+		 * @param prop The object property who's value will be tested.
+		 * @param val The value to match.
+		 * @param caseInsensitive Whether or not &lt;em>&lt;code>prop&lt;/code>&lt;/em> and &lt;code>val&lt;/code> should be case-insensitive (only if search &lt;em>&lt;code>val&lt;/code>&lt;/em> is a &lt;code>String&lt;/code>).
+		 */
+		public function locatePropVal(a:Array, prop:String, val:Object, caseInsensitive:Boolean=false):Object 
+		{
+			for(var o:String in a)
+			{
+				if(!caseInsensitive)if(a[o][prop] == val)return a[o];
+				else if(a[o][prop].toUpperCase()==String(val).toUpperCase())return a[o];
+			}
+			return null;
+		}	
+
+		/**
+		 * Search for a unique property/value match in an array of
+		 * complex objects and return its index in the array.
+		 * 
+		 * @param a An array of objects.
+		 * @param prop The object property who's value will be tested.
+		 * @param val The value to match.
+		 * @param caseInsensitive Whether or not &lt;em>&lt;code>prop&lt;/code>&lt;/em> and &lt;code>val&lt;/code> should be case-insensitive (only if search &lt;em>&lt;code>val&lt;/code>&lt;/em> is a &lt;code>String&lt;/code>).
+		 */
+		public function locatePropValIndex(a:Array, prop:String, val:Object, caseInsensitive:Boolean=false):int 
+		{
+			var l:int=a.length;
+			var i:int=0;
+			for(i;i&lt;l;i++)
+			{
+				if(!caseInsensitive)if(a[i][prop]==val)return i;
+				else if(a[i][prop].toUpperCase()==String(val).toUpperCase())return i;
+			}
+			return -1;
+		}
+
+		/**
+		 * Return a new array sliced from the original array of complex objects
+		 * based on a &lt;code>prop&lt;/code>/&lt;code>val&lt;/code> match
+		 * 
+		 * @param a An array of objects.
+		 * @param prop The object property who's value will be tested.
+		 * @param val The value to match.
+		 * @param caseInsensitive Whether or not &lt;em>&lt;code>prop&lt;/code>&lt;/em> and &lt;code>val&lt;/code> should be case-insensitive (only if search &lt;em>&lt;code>val&lt;/code>&lt;/em> is a &lt;code>String&lt;/code>).
+		 */
+		public function sliceByPropVal(a:Array, prop:String, val:Object, caseInsensitive:Boolean=false):Array 
+		{
+			var ma:Array=new Array();
+			for(var o :String in a) 
+			{
+				if(!caseInsensitive) if(a[o][prop]==val) ma.push(a[o]); 
+				else if(a[o][prop].toUpperCase()==String(val).toUpperCase()) ma.push(a[o]);
+			}
+			return ma;
+		}	
+
+		/**
+		 * Locate and return the (lowest) nearest neighbor or matching value in a &lt;code>NUMERIC&lt;/code> sorted array of Numbers.
+		 * 
+		 * @param val 				the value to find match or find nearst match of.
+		 * @param range 			of values in array.
+		 * @param returnIndex 		if &lt;code>true&lt;/code> return the array index of the neighbor, if &lt;code>false&lt;/code> return the value of the neighbor.
+		 * 
+		 * @example Using ArrayUtils.nearestNeighbor:
+		 * &lt;listing>
+		 * var a:Array=[1, 3, 5, 7, 9, 11];
+		 * var nearestLow:Number=ArrayUtil.nearestNeighbor(4,a); //returns 3 (value)
+		 * var nearestHigh:Number=ArrayUtil.nearestNeighbor(4,a,true); //returns 1 (index)
+		 * &lt;/listing>
+		 */
+		public function nearestNeighbor(val:Number,range:Array,returnIndex:Boolean=false):Number
+		{
+			var nearest:Number=range[0];
+			var index:uint=0;
+			var l:int=range.length;
+			var i:int=1;
+			for(i;i&lt;l;i++) 
+			{
+				if(Math.abs(range[i] - val) &lt; Math.abs(nearest - val))
+				{
+					nearest=range[i];
+					index=i;
+				}
+			}
+			return (!returnIndex) ? nearest : index;
+		}
+
+		/**
+		 * Return the array index of the minimum value in a numeric array.
+		 * 
+		 * @param a The array to search.
+		 */
+		public function minIndex(a:Array):int
+		{
+			var i:int=a.length;
+			var min:Number=a[0];
+			var idx:int=0;
+			while (i-- > 1)if(a[i] &lt; min) min=a[idx=i];
+			return idx;
+		}
+
+		/**
+		 * Return the array index of the maximum value in a numeric array.
+		 * 
+		 * @param a The array to search.
+		 */	
+		public function maxIndex(a:Array):int 
+		{
+			var i:int=a.length;
+			var max:Number=a[0];
+			var idx:int=0;
+			while(i-- > 1) if(a[i] > max) max=a[idx=i];
+			return idx;	
+		}
+
+		/**
+		 * Return the minimum value in a numeric array.
+		 * 
+		 * @param a The array to search.
+		 */	
+		public function minValue(a:Array):Number 
+		{
+			if(a.length==0) return 0;
+			return a[minIndex(a)];
+		}
+
+		/**
+		 * Return the maximum value in a numeric array.
+		 * 
+		 * @param a The array to search.
+		 */	
+		public function maxVal(a:Array):Number
+		{
+			if(a.length==0) return 0;
+			return a[maxIndex(a)];
+		}
+		
+		/**
+		 * Advanced array searching with complex matching conditions.
+		 * 
+		 * &lt;span class="hide">
+		 * &lt;ul>
+		 * &lt;li>Class&lt;/li>&lt;li>If the actual value is a Class then they are compared with ===, else the actual value will be checked to see if it &lt;code>is&lt;/code> of the Class type.&lt;/li> 
+		 * &lt;li>Function&lt;/li>&lt;li>If the actual value is a Function then they are compared with ===, else the expected function is called with the item and the actual value as parameters. This function needs to return a Boolean. eg &lt;code>var condtions:Object={ someProperty: function(item:*, actual:*):Boolean {return actual != null;}}&lt;/code>&lt;/li>
+		 * &lt;li>RegExp&lt;/li>&lt;li>If the actual value is a RegExp then they are compared with ===, else the actual value is tested with the RegExp.&lt;/li>
+		 * &lt;/ul>
+		 * &lt;/span>
+		 * 
+		 * @example Example uses.
+		 * &lt;listing>		
+		 * var movies:Array=[]; //retrieve from some datasource
+		 * 
+		 * var at:ArrayUtils=ArrayUtils.gi();
+		 * 
+		 * //find with simple property value condition
+		 * var moviesByMichaelBay:Array=at.asearch(movies,{director:'Michael Bay'});
+		 * 
+		 * //find with property chain condition (assuming the 'released' property returns a Date instance)
+		 * var moviesByMichaelByReleasedIn2007:Array=at.asearch(moviesByMichaelBay,{'released.fullYear':2007});
+		 * 
+		 * //find only the first object.
+		 * var moviesByMichaelByReleasedIn2007:Array=at.asearch(moviesByMichaelBay,{'released.fullYear':2007,{find:"first"}});
+		 * 
+		 * //find only the last object.
+		 * var moviesByMichaelByReleasedIn2007:Array=at.asearch(moviesByMichaelBay,{'released.fullYear':2007,{find:"last"}});
+		 * 
+		 * //find all objects that match (this is the default if no options are provided).
+		 * var moviesByMichaelByReleasedIn2007:Array=at.asearch(moviesByMichaelBay,{'released.fullYear':2007,{find:"all"}});
+		 * 
+		 * //find with class condition - Drama is a class., so any movies[i].genre that is of type Drama, will match and be returned.
+		 * var moviesThatAreClass:Array=at.asearch(movies,{genre:Drama});
+		 * 
+		 * //find with Function condition.
+		 * var moviesWithAverageRatings:Array=at.asearch(movies,{rating:function(item:Movie,actual:Number):Boolean{return actual > 2.4 && actual &lt; 3.7;}});
+		 * 
+		 * //find with RegExp.
+		 * var moviesTheBeginWithTr:Array=at.asearch(movies,{name:new RegExp('^Tr.*')});
+		 * 
+		 * //find with sub-array query (assuming the 'cast' property returns an Array of Actors with the property 'name').
+		 * var moviesWithMeganFox:Array=at.asearch(movies,{'cast.name':'Megan Fox'});
+		 * &lt;/listing>
+		 * 
+		 * &lt;p>Supported properties in the "options" parameter.&lt;/p>
+		 * 
+		 * &lt;ul>
+		 * &lt;li>find&lt;/li>&lt;li>Specify a find option, can be "all","first", or "last".&lt;/li>
+		 * &lt;/ul>
+		 */
+		public function asearch(array:Array,conditions:Object,options:Object=null):*
+		{
+			if(conditions is Function) return array.filter(conditions as Function);
+			if(!options) options={find:"all"};
+			var i:int, n:int, item:*;
+			if(options.find == "first")
+			{
+				i=0;
+				n=array.length;
+				while(i &lt; n) if(asearchMatches(item=array[i++],conditions)) return item;
+				return null;
+			}
+			if(options.find == "last")
+			{
+				i=array.length - 1;
+				n=0;
+				while(i >= n) if(asearchMatches(item=array[i--],conditions)) return item;
+				return null;
+			}
+			return array.filter(function(item:Object, index:int, array:Array ):Boolean 
+			{
+				if(!item) throw new Error("Missing item from array.filter");
+				return asearchMatches(array[index],conditions);
+			});
+		}
+
+		/**
+		 * Shortcut for advanced searching for the first matching item.
+		 * 
+		 * @param array The array to search in.
+		 * @param conditions An object defining the conditions to use in the search.
+		 */
+		public function asearchFirst(array:Array,conditions:Object):*
+		{
+			return asearch(array,conditions,{find:"first"});
+		}
+
+		/**
+		 * Shortcut for advanced searching for the last matching item.
+		 * 
+		 * @param array The array to search in.
+		 * @param conditions An object defining the conditions to use in the search.
+		 */
+		public function asearchLast(array:Array,conditions:Object):*
+		{
+			return asearch(array,conditions,{find:"last"});
+		}
+
+		/**
+		 * Shortcut for advanced searching by a single property.
+		 * 
+		 * @param array The array to search in.
+		 * @param conditions An object defining the conditions to use in the search.
+		 */
+		public function asearchAll(array:Array,conditions:Object):Array
+		{
+			return asearch(array,conditions,{find:"all"}) as Array;
+		}
+
+		/**
+		 * Shortcut for advanced searching by a single property.
+		 * 
+		 * @param array The array to search in.
+		 * @param property The property to read.
+		 * @param value The value of the target property.
+		 * @param options Find An object with find property. {find:"first"|"last"|"all"}.
+		 */
+		public function asearchBy(array:Array,property:String,value:*,options:Object=null):*
+		{
+			var conditions:Object={};
+			conditions[ property ]=value;
+			return asearch(array,conditions,options);
+		}
+
+		/**
+		 * Checks it the item matches the conditions.
+		 */	
+		private function asearchMatches(item:Object,conditions:Object):Boolean 
+		{
+			for(var property:String in conditions) 
+			{
+				var expectedValue:Object=conditions[property];
+				var actualValue:Object;
+				if(property.indexOf('.') > -1)
+				{
+					actualValue=item;
+					var propertyChain:Array=property.split('.');
+					var chainLength:int=propertyChain.length;
+					var linkIndex:int=0;
+					var propertyLink:String='';
+					//todo: revert this to the nicer array.every style
+					//var validChain:Boolean=propertyChain.every(function( propertyLink:String, index:int, array:Array ):Boolean
+					var validChain:Boolean=false;
+					while(linkIndex &lt; chainLength)
+					{
+						//trace( 'matches.propertyChain:', item, linkIndex, '/', chainLength,
+						//actualValue, propertyLink,
+						//actualValue.hasOwnProperty( propertyLink ) ? actualValue[ propertyLink ] : 'null' );
+						propertyLink=propertyChain[linkIndex];
+						if(!actualValue.hasOwnProperty(propertyLink)) break;
+						actualValue=actualValue[propertyLink];
+						if(linkIndex==(chainLength-1)) //valid if we made it to the last link its valid
+						{
+							validChain=true;
+							break;
+						}
+						linkIndex++;
+					}
+					//dont match if the chain isnt valid
+					if(!validChain)
+					{
+						//if links remain in the property chain, check if actualValue is an Array, 
+						//then see if there are items in that array that match
+						if(actualValue is Array) 
+						{
+							//true if there are any items that match the remaining pieces
+							//its safe to bail out on the first found item
+							conditions={};
+							conditions[propertyChain.slice(linkIndex).join('.')]=expectedValue;
+							var found:Object=asearchFirst(actualValue as Array,conditions);
+							return found ? true : false;
+						}
+						return false;
+					}
+				}
+				else 
+				{
+					if(!item.hasOwnProperty(property)) return false;		
+					actualValue=item[property];
+				}
+				if(!asearchMatchesValue(item,expectedValue,actualValue)) return false;		
+			}
+			return true;
+		}
+
+		/**
+		 * Checks if a value matches the expected value
+		 */
+		private function asearchMatchesValue(item:*,expected:*,actual:*):Boolean
+		{
+			//class matcher.
+			if((actual is Class) && (expected is Class)) return ((actual as Class)===(expected as Class));
+			if((expected is Class)) return (actual is expected);
+			
+			//function matcher
+			if((actual is Function) && (expected is Function)) return ((actual as Function)===(expected as Function)); 
+			if(expected is Function) return (expected as Function)(item,actual);
+			
+			//regexp matcher
+			if((actual is RegExp) && (expected is RegExp)) return ((actual as RegExp)===(expected as RegExp));
+			if((actual is String) && (expected is RegExp)) return (expected as RegExp).test(actual as String);
+			
+			//literal matcher
+			return (actual===expected);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/Assertions.as b/src/as/net/guttershark/util/Assertions.as
new file mode 100644
index 0000000..bd2db44
--- /dev/null
+++ b/src/as/net/guttershark/util/Assertions.as
@@ -0,0 +1,328 @@
+package net.guttershark.util 
+{
+
+	/**
+	 * The Assertions class is a singleton that provides assertions for conditionals,
+	 * and relieve's defensive programming for methods that require arguments.
+	 * 
+	 * &lt;p>All of the methods can be used for conditional assertions.&lt;/p>
+	 * @example Using assertions for conditionals:
+	 * 
+	 * &lt;listing>	
+	 * var ast:Assertions=Assertions.gi();
+	 * var t:String=" ";
+	 * if(ast.emptyString(t)) trace("it's empty");
+	 * t="word";
+	 * if(ast.emptyString(t)) trace("doh"); //this wont trace, because the assertion evaluates to false.
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>You can also use the assertion class as defense when checking for valid
+	 * method arguments and throw errors.&lt;/p>
+	 * 
+	 * @example Using the assertions class for method argument defense:
+	 * &lt;listing>	
+	 * var ast:Assertions=Assertions.gi();
+	 * function setSomething(val:Number):void
+	 * {
+	 *     ast.notNull(val,"Parameter val cannot be null"); //throws argument error if val is null
+	 *     somthing=val;
+	 * }
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>You can also change the exception type that get's thrown if an assertion fails.&lt;/p>
+	 * @example Changing the exception type:
+	 * &lt;listing>	
+	 * var ast:Assertions=Assertions.gi();
+	 * function setSomething(mc:MovieClip):void
+	 * {
+	 *    ast.compatible(mc,MovieClip,"Parameter val must be a MovieClip",TypeError);
+	 * }
+	 * &lt;/listing>
+	 * 
+	 * @example	Extended example:
+	 * &lt;listing>	
+	 * public class MyMC extends CoreClip
+	 * {
+	 *     
+	 *     //protected var ast:Assertion; //ast is a protected variable on CoreClip, and CoreSprite.
+	 *     
+	 *     public function setSomeValue(value:Object):void
+	 *     {
+	 *         ast.notNil(value,"Parameter value cannot be null"); //argument error if value is null
+	 *     }
+	 *     
+	 *     public function setSomeArray(array:Array):void
+	 *     {
+	 *         ast.notNilOrEmpty(array,"Parameter array cannot be null"); //argument error if array is null or length==0
+	 *     }
+	 * }
+	 * &lt;/listing>
+	 */
+	final public class Assertions
+	{
+		
+		/**
+		 * Singleton instance.
+		 */	
+		private static var inst:Assertions;
+		
+		/**
+		 * A function delegate you can define, which will
+		 * be called when an assertion fails - this is intended
+		 * to be used if you wanted to post the assertion
+		 * to an http service for logging errors.
+		 * 
+		 * @example Using the onAssertionFail delegate:
+		 * &lt;listing>	
+		 * var ast:Assertions=Assertions.gi();
+		 * ast.onAssertionFail=onAssertionFail;
+		 * private function onAssertionFail(msg:String):void
+		 * {
+		 *     trace(msg);
+		 * }
+		 * &lt;/listing>
+		 */
+		public var onAssertionFail:Function;
+		
+		/**
+		 * @private
+		 */
+		public function Assertions()
+		{
+			Singleton.assertSingle(Assertions);
+		}
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():Assertions
+		{
+			if(!inst) inst=Singleton.gi(Assertions);
+			return inst;
+		}
+		
+		/**
+		 * Throws the error, depending on the exceptionType.
+		 */
+		private function throwError(message:String, exceptionType:Class):void
+		{
+			try{if(onAssertionFail!==null) onAssertionFail(message);}
+			catch(e:ArgumentError){trace("WARNING: Your onAssertionFail function must accept one parameter - a message string.");}
+			switch(exceptionType)
+			{
+				case null:
+					throw new ArgumentError(message);
+					break;
+				default:
+					throw new exceptionType(message);
+					break;
+			}
+		}
+		
+		/**
+		 * Assert that a value is greater than a minimum number.
+		 * 
+		 * @param value The value to test.
+		 * @param minimum The minimum number that the value must be greater than.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function greater(value:Number, minimum:Number=-1,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(value &lt; minimum) throwError(message,exceptionType);
+			return (value > minimum);
+		}
+		
+		/**
+		 * Assert that a value is smaller than a maximum number.
+		 * 
+		 * @param value The value to test.
+		 * @param maximum The maximum number that the value must be smaller than.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function smaller(value:Number,maxmimum:Number=0,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(value > maxmimum) throwError(message,exceptionType);
+			return (value &lt; maxmimum);
+		}
+		
+		/**
+		 * Assert that a value is equal to another value.
+		 * 
+		 * @param value The value to test.
+		 * @param otherValue The other value to compare with value (this is actually typed as &#42;, but asdocs changes it to String for some reason).
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function equal(value:*,otherValue:*,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(value!==otherValue) throwError(message,exceptionType);
+			return (value===otherValue);
+		}
+		
+		/**
+		 * Assert that a value is defferent from another value.
+		 * 
+		 * @param value The value to test.
+		 * @param otherValue The other value to compare with value (this is actually typed as &#42, but asdocs changes it to String for some reason).
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function different(value:*,otherValue:*,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(value===otherValue) throwError(message,exceptionType);
+			return (value!==otherValue);
+		}
+		
+		/**
+		 * Assert if an Array is nil or empty.
+		 * 
+		 * @param array The array to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function nilOrEmpty(array:Array,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(!nil(array) && array.length>0) throwError(message,exceptionType);
+			return (nil(array) || array.length==0);
+		}
+		
+		/**
+		 * Assert if an Array is not nil or empty.
+		 * 
+		 * @param array The array to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function notNilOrEmpty(array:Array, message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(nil(array) || array.length==0) throwError(message,exceptionType);
+			return !(nil(array) || array.length==0);
+		}
+		
+		/**
+		 * Assert if an object is nil.
+		 * 
+		 * @param obj The object to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function nil(obj:*,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(!(obj === null || obj === undefined || !obj)) throwError(message, exceptionType);
+			if(obj === null || obj === undefined || !obj) return true;
+			return false;
+		}
+		
+		/**
+		 * Assert if an object is not nil.
+		 * 
+		 * @param object The object to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function notNil(object:*,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(nil(object)) throwError(message,exceptionType);
+			return !(nil(object));
+		}
+		
+		/**
+		 * Assert if an object is compatible with another type.
+		 * 
+		 * @param obj The object to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function compatible(obj:*,type:Class,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(!(obj is type)) throwError(message,exceptionType);
+			return (obj is type);
+		}
+		
+		/**
+		 * Assert if an object is not compatible with another type.
+		 * 
+		 * @param obj The object to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function notCompatible(obj:*, type:Class, message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if((compatible(obj,type))) throwError(message,exceptionType);
+			return (!(compatible(obj,type)));
+		}
+		
+		/**
+		 * Assert that a string contains another string.
+		 * 
+		 * @param str The string to search in.
+		 * @param pat The pattern that will be searched for in str.
+		 */
+		public function contains(str:String,pat:String,message:String=null,exceptionType:Class=null):Boolean
+		{
+			if(message) if(nil(str) || smaller(str.indexOf(pat),0)) throwError(message,exceptionType);
+			if(nil(str)) return false;
+			return !smaller(str.indexOf(pat),0);
+		}
+		
+		/**
+		 * Assert a string as being empty (zero characters or all spaces).
+		 * 
+		 * @param str The string to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function emptyString(str:String,message:String=null,exceptionType:Class=null):Boolean
+		{
+			var r:RegExp=/^ {0,}$/i;
+			if(message) if(!r.test(str)) throwError(message,exceptionType);
+			return r.test(str);
+		}
+		
+		/**
+		 * Assert a string as being not empty (zero characters or all spaces).
+		 * 
+		 * @param str The string to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function notEmptyString(str:String,message:String=null,exceptionType:Class=null):Boolean
+		{
+			var r:RegExp=/^ {0,}$/i;
+			if(message) if(r.test(str)) throwError(message,exceptionType);
+			return !r.test(str);
+		}
+		
+		/**
+		 * Assert that a string has all number characters.
+		 * 
+		 * @param str The string to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function numberString(str:String,message:String=null,exceptionType:Class=null):Boolean
+		{
+			var regx:RegExp=/^[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?$/;
+			if(message) if(nil(str) || (!regx.test(str))) throwError(message,exceptionType);
+			if(nil(str)) return false;
+			return regx.test(str);
+		}
+		
+		/**
+		 * Assert that a string does not have all number characters.
+		 * 
+		 * @param str The string to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function notNumberString(str:String,message:String=null,exceptionType:Class=null):Boolean
+		{
+			var regx:RegExp=/^[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?$/;
+			if(message) if(notNil(str) && (regx.test(str))) throwError(message,exceptionType);
+			if(nil(str)) return true;
+			return !regx.test(str);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/BitmapUtils.as b/src/as/net/guttershark/util/BitmapUtils.as
new file mode 100644
index 0000000..9599961
--- /dev/null
+++ b/src/as/net/guttershark/util/BitmapUtils.as
@@ -0,0 +1,555 @@
+package net.guttershark.util
+{
+	import flash.display.Bitmap;
+	import flash.display.BitmapData;
+	import flash.geom.Rectangle;
+	
+	import net.guttershark.util.Singleton;		
+
+	/**
+	 * The BitmapUtils class contains utility methods for
+	 * common bitmap operations.
+	 */
+	final public class BitmapUtils
+	{
+	
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:BitmapUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():BitmapUtils
+		{
+			if(!inst) inst=Singleton.gi(BitmapUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function BitmapUtils()
+		{
+			Singleton.assertSingle(BitmapUtils);
+		}
+
+		/**
+		 * Copy a Bitmap.
+		 * 
+		 * @example Copying a bitmap.
+		 * &lt;listing>	
+		 * import net.guttershark.util.BitmapUtils;
+		 * var bmd:BitmapData=new BitmapData(50,50,false,0xFF0066);
+		 * var bitmap1:Bitmap=new Bitmap(bmd);
+		 * addChild(bitmap1);
+		 * var bitmap2:Bitmap=BitmapUtils.CopyBitmap(bitmap1);
+		 * bitmap2.x=100;
+		 * bitmap2.y=100;
+		 * addChild(bitmap2);
+		 * &lt;/listing>
+		 * 
+		 * @param bitmapToCopy The bitmap to copy.
+		 */
+		public function copyBitmap(bitmapToCopy:Bitmap):Bitmap
+		{
+			if(!bitmapToCopy) throw new ArgumentError("Parameter bitmapToCopy cannot be null");
+			var b:Bitmap=new Bitmap(bitmapToCopy.bitmapData);
+			return b;
+		}
+		
+		/**
+		 * Draw a line into a bitmap data.
+		 * 
+		 * @param bmp bitmap to draw (alpha=true).
+		 * @param x0 first point x coord.
+		 * @param y0 first point y coord.
+		 * @param x1 second point x coord.
+		 * @param y1 second point y coord.
+		 * @param c color (0xaarrggbb).
+		 */
+		public function line(bmp:BitmapData, x0:int, y0:int, x1:int, y1:int, c:Number):void 
+		{
+			var dx:int;
+			var dy:int;
+			var i:int;
+			var xinc:int;
+			var yinc:int;
+			var cumul:int;
+			var x:int;
+			var y:int;
+			x=x0;
+			y=y0;
+			dx=x1 - x0;
+			dy=y1 - y0;
+			xinc=( dx > 0 ) ? 1 : -1;
+			yinc=( dy > 0 ) ? 1 : -1;
+			dx=Math.abs(dx);
+			dy=Math.abs(dy);
+			bmp.setPixel32(x,y,c);
+			if(dx > dy)
+			{
+				cumul=dx / 2 ;
+				for( i=1 ;i &lt;= dx; i++ ) 
+				{
+					x += xinc;
+					cumul += dy;
+					if(cumul >= dx) 
+					{
+						cumul -= dx;
+						y += yinc;
+					}
+					bmp.setPixel32(x,y,c);
+				}
+			}
+			else 
+			{
+				cumul=dy / 2;
+				for(i=1;i&lt;=dy;i++) 
+				{
+					y += yinc;
+					cumul += dx;
+					if(cumul >= dy) 
+					{
+						cumul -= dy;
+						x += xinc ;
+					}
+					bmp.setPixel32(x,y,c);
+				}
+			}
+		}
+
+		/**
+		 * Draw a triangle into a bitmap data.
+		 * 
+		 * @param bmp Bitmap to draw into.
+		 * @param x0 First point x coord.
+		 * @param y0 First point y coord. 
+		 * @param x1 Second point x coord.
+		 * @param y1 Second point y coord.
+		 * @param x2 Third point x coord.
+		 * @param y2 Third point y coord.
+		 * @param c Color (0xaarrggbb).
+		 */
+		public function triangle(bmp:BitmapData, x0:int, y0:int, x1:int, y1:int, x2:int, y2:int, c:Number):void 
+		{
+			line(bmp,x0,y0,x1,y1,c);
+			line(bmp,x1,y1,x2,y2,c);
+			line(bmp,x2,y2,x0,y0,c);
+		}
+
+		/**
+		 * Draw a filled triangle into a bitmap data.
+		 * 
+		 * @param bmp Bitmap to draw.
+		 * @param x0 First point x coord.
+		 * @param y0 First point y coord. 
+		 * @param x1 Second point x coord.
+		 * @param y1 Second point y coord.
+		 * @param x2 Third point x coord.
+		 * @param y2 Third point y coord.
+		 * @param c Color (0xaarrggbb)
+		 */
+		public function filledTri(bmp:BitmapData, x0:int, y0:int, x1:int, y1:int, x2:int, y2:int, c:Number):void 
+		{
+			var o:Object={};
+			lineTri(o,bmp,x0,y0,x1,y1,c);
+			lineTri(o,bmp,x1,y1,x2,y2,c);
+			lineTri(o,bmp,x2,y2,x0,y0,c);
+		}
+
+		/**
+		 * Draw a circle into a bitmap data.
+		 * 
+		 * @param bmp Bitmap to draw (alpha=true).
+		 * @param px First point x coord.
+		 * @param py First point y coord.
+		 * @param r Radius.
+		 * @param c Color (0xaarrvvbb).
+		 */
+		public function circle(bmp:BitmapData, px:int, py:int, r:int, c:Number):void 
+		{
+			var x:int;
+			var y:int;
+			var d:int;
+			x=0; y=r; d=1 - r;
+			bmp.setPixel32(px + x,py + y,c);
+			bmp.setPixel32(px + x,py - y,c);
+			bmp.setPixel32(px - y,py + x,c);
+			bmp.setPixel32(px + y,py + x,c);
+			while(y>x) 
+			{
+				if(d&lt;0)d+=2*x+3;	
+				else 
+				{
+					d += 2 * (x - y) + 5;
+					y--;
+				}
+				x++;
+				bmp.setPixel32(px + x,py + y,c);
+				bmp.setPixel32(px - x,py + y,c);
+				bmp.setPixel32(px + x,py - y,c);
+				bmp.setPixel32(px - x,py - y,c);
+				bmp.setPixel32(px - y,py + x,c);
+				bmp.setPixel32(px - y,py - x,c);
+				bmp.setPixel32(px + y,py - x,c);
+				bmp.setPixel32(px + y,py + x,c);
+			}
+		}
+
+		/**
+		 * Draw an anti-aliased circle into a bitmap data.
+		 * 
+		 * @param bmp Bitmap to draw (alpha=true).
+		 * @param px First point x coord.
+		 * @param py First point y coord. 
+		 * @param r Radius.
+		 * @param c Color (0xaarrggbb).
+		 */
+		public function aaCircle(bmp:BitmapData, px:Number, py:Number, r:int, c:Number):void 
+		{
+			var vx:int;
+			var vy:int;
+			vx=r; vy=0;
+			var t:Number=0;
+			var dry:Number;
+			var _sqrt:Function=Math.sqrt;
+			var _ceil:Function=Math.ceil;
+			bmp.setPixel(px + vx,py + vy,c);
+			bmp.setPixel(px - vx,py + vy,c);
+			bmp.setPixel(px + vy,py + vx,c);
+			bmp.setPixel(px + vy,py - vx,c);
+			while ( vx > vy + 1 ) 
+			{
+				vy++;
+				dry=_ceil(_sqrt(r * r - vy * vy)) - _sqrt(r * r - vy * vy);
+				if (dry &lt; t) vx--;
+				drawAlphaPixel(bmp,px + vx,py + vy,1 - dry,c);
+				drawAlphaPixel(bmp,px + vx - 1,py + vy,dry,c);
+				drawAlphaPixel(bmp,px - vx,py + vy,1 - dry,c);
+				drawAlphaPixel(bmp,px - vx + 1,py + vy,dry,c);
+				drawAlphaPixel(bmp,px + vx,py - vy,1 - dry,c);
+				drawAlphaPixel(bmp,px + vx - 1,py - vy,dry,c);
+				drawAlphaPixel(bmp,px - vx,py - vy,1 - dry,c);
+				drawAlphaPixel(bmp,px - vx + 1,py - vy,dry,c);
+				drawAlphaPixel(bmp,px + vy,py + vx,1 - dry,c);
+				drawAlphaPixel(bmp,px + vy,py + vx - 1,dry,c);
+				drawAlphaPixel(bmp,px - vy,py + vx,1 - dry,c);
+				drawAlphaPixel(bmp,px - vy,py + vx - 1,dry,c);
+				drawAlphaPixel(bmp,px + vy,py - vx,1 - dry,c);
+				drawAlphaPixel(bmp,px + vy,py - vx + 1,dry,c);
+				drawAlphaPixel(bmp,px - vy,py - vx,1 - dry,c);
+				drawAlphaPixel(bmp,px - vy,py - vx + 1,dry,c);
+				t=dry;
+			}
+		}
+
+		/**
+		 * Draw an anti-aliased line into a bitmap data.
+		 * 
+		 * @param bmp Bitmap to draw (alpha=true).
+		 * @param x0 First point x coord.
+		 * @param y0 First point y coord.
+		 * @param x1 Second point x coord.
+		 * @param y1 Second point y coord.
+		 * @param c Color (0xaarrggbb).
+		 */
+		public function aaLine(bmp:BitmapData, x1:int, y1:int, x2:int, y2:int, c:Number):void 
+		{	
+			var steep:Boolean=Math.abs(y2 - y1) > Math.abs(x2 - x1);
+			var swap:int;
+			if(steep) 
+			{
+				swap=x1; 
+				x1=y1; 
+				y1=swap;
+				swap=x2; 
+				x2=y2; 
+				y2=swap;
+			}
+			if(x1>x2) 
+			{
+				swap=x1; 
+				x1=x2; 
+				x2=swap;
+				swap=y1; 
+				y1=y2; 
+				y2=swap;
+			}
+			var dx:int=x2 - x1;
+			var dy:int=y2 - y1;
+			var gradient:Number=dy / dx;
+			var xend:int=x1;
+			var yend:Number=y1 + gradient * (xend - x1);
+			var xgap:Number=1 - ((x1 + 0.5) % 1);
+			var xpx1:int=xend;
+			//var ypx1 : int=Math.floor( yend );
+			var alpha:Number;
+			alpha=(1 - ((yend) % 1)) * xgap;
+			//if (steep) //drawAlphaPixel(bmp,ypx1,xpx1,alpha,c);
+			//else //drawAlphaPixel(bmp,xpx1, ypx1,alpha,c);
+			alpha=((yend) % 1) * xgap;
+			//if (steep) //drawAlphaPixel(bmp,ypx1+1,xpx1,alpha,c);
+			//else //drawAlphaPixel(bmp,xpx1, ypx1+1,alpha,c);
+			var intery:Number=yend + gradient;
+			xend=x2;
+			yend=y2 + gradient * (xend - x2);
+			xgap=(x2 + 0.5) % 1;
+			var xpx2:int=xend; 
+			var ypx2:int=Math.floor(yend);
+			alpha=(1 - ((yend) % 1)) * xgap;
+			if(steep) drawAlphaPixel(bmp,ypx2,xpx2,alpha,c);
+			else drawAlphaPixel(bmp,xpx2,ypx2,alpha,c);
+			alpha=((yend) % 1) * xgap;
+			if (steep) drawAlphaPixel(bmp,ypx2 + 1,xpx2,alpha,c);
+			else drawAlphaPixel(bmp,xpx2,ypx2 + 1,alpha,c);
+			var x:int=xpx1;
+			while (x++ &lt; xpx2) 
+			{
+				alpha=1 - ((intery) % 1);
+				if (steep) drawAlphaPixel(bmp,intery,x,alpha,c);
+				else drawAlphaPixel(bmp,x,intery,alpha,c);
+				alpha=intery % 1;
+				if (steep) drawAlphaPixel(bmp,intery + 1,x,alpha,c);
+				else drawAlphaPixel(bmp,x,intery + 1,alpha,c);
+				intery=intery + gradient;
+			}
+		}
+
+		/**
+		 * Draws a Quadratic Bezier Curve (equivalent to a DisplayObject's graphics#curveTo).
+		 * 
+		 * @param bmp BimtapData to draw on (alpha set to true).
+		 * @param x0 x position of first anchor.
+		 * @param y0 y position of first anchor.
+		 * @param x1 x position of control point.
+		 * @param y1 y position of control point.
+		 * @param x2 x position of second anchor.
+		 * @param y2 y position of second anchor.
+		 * @param c color
+		 * @param resolution determines the accuracy of the curve's length (higher number=greater accuracy=longer process)
+		 * */
+		public function quadBezier(bmp:BitmapData,x0:int,y0:int,x1:int,y1:int,x2:int,y2:int,c:Number,resolution:int=3):void 
+		{
+			var ox:Number=x0;
+			var oy:Number=y0;
+			var px:int;
+			var py:int;
+			var dist:Number=0;
+			var inverse:Number=1 / resolution;
+			var interval:Number;
+			var intervalSq:Number;
+			var diff:Number;
+			var diffSq:Number;
+			var i:int=0;
+			while( ++i &lt;= resolution ) 
+			{
+				interval=inverse * i;
+				intervalSq=interval * interval;
+				diff=1 - interval;
+				diffSq=diff * diff;
+				px=diffSq * x0 + 2 * interval * diff * x1 + intervalSq * x2;
+				py=diffSq * y0 + 2 * interval * diff * y1 + intervalSq * y2;
+				dist += Math.sqrt(( px - ox ) * ( px - ox ) + ( py - oy ) * ( py - oy ));
+				ox=px;
+				oy=py;
+			}
+			//approximates the length of the curve
+			var curveLength:int=Math.floor(dist);
+			inverse=1 / curveLength;
+			var lastx:int=x0;
+			var lasty:int=y0;
+			i=-1;
+			while( ++i &lt;= curveLength ) 
+			{
+				interval=inverse * i;
+				intervalSq=interval * interval;
+				diff=1 - interval;
+				diffSq=diff * diff;
+				px=diffSq * x0 + 2 * interval * diff * x1 + intervalSq * x2;
+				py=diffSq * y0 + 2 * interval * diff * y1 + intervalSq * y2;
+				line(bmp,lastx,lasty,px,py,c);
+				lastx=px;
+				lasty=py;
+			}
+		}
+
+		/**
+		 * Draws a Cubic Bezier Curve into a bitmap data.
+		 * 
+		 * @param bmp BitmapData to draw on (alpha set to true).
+		 * @param x0 x position of first anchor.
+		 * @param y0 y position of first anchor.
+		 * @param x1 x position of control point.
+		 * @param y1 y position of control point.
+		 * @param x2 x position of second control point.
+		 * @param y2 y position of second control point.
+		 * @param x3 x position of second anchor.
+		 * @param y3 y position of second anchor.
+		 * @param c color.
+		 * @param resolution determines the accuracy of the curve's length (higher number=greater accuracy=longer process)
+		 */
+		public function cubicBezier( bmp:BitmapData, x0:int, y0:int, x1:int, y1:int, x2:int, y2:int, x3:int, y3:int, c:Number, resolution:int=5 ):void 
+		{
+			var ox:Number=x0;
+			var oy:Number=y0;
+			var px:int;
+			var py:int;
+			var dist:Number=0;
+			var inverse:Number=1 / resolution;
+			var interval:Number;
+			var intervalSq:Number;
+			var intervalCu:Number;
+			var diff:Number;
+			var diffSq:Number;
+			var diffCu:Number;
+			var i:int=0;
+			while( ++i &lt;= resolution ) 
+			{
+				interval=inverse * i;
+				intervalSq=interval * interval;
+				intervalCu=intervalSq * interval;
+				diff=1 - interval;
+				diffSq=diff * diff;
+				diffCu=diffSq * diff;
+				px=diffCu * x0 + 3 * interval * diffSq * x1 + 3 * x2 * intervalSq * diff + x3 * intervalCu;
+				py=diffCu * y0 + 3 * interval * diffSq * y1 + 3 * y2 * intervalSq * diff + y3 * intervalCu;
+				dist += Math.sqrt(( px - ox ) * ( px - ox ) + ( py - oy ) * ( py - oy ));
+				ox=px;
+				oy=py;
+			}
+			//approximates the length of the curve
+			var curveLength:int=Math.floor(dist);
+			inverse=1 / curveLength;
+			var lastx:int=x0;
+			var lasty:int=y0;
+			i=-1;
+			while( ++i &lt;= curveLength ) 
+			{
+				interval=inverse * i;
+				intervalSq=interval * interval;
+				intervalCu=intervalSq * interval;
+				diff=1 - interval;
+				diffSq=diff * diff;
+				diffCu=diffSq * diff;
+				px=diffCu * x0 + 3 * interval * diffSq * x1 + 3 * x2 * intervalSq * diff + x3 * intervalCu;
+				py=diffCu * y0 + 3 * interval * diffSq * y1 + 3 * y2 * intervalSq * diff + y3 * intervalCu;
+				line(bmp,lastx,lasty,px,py,c);
+				lastx=px;
+				lasty=py;
+			}
+		}
+
+		/**
+		 * Draw an alpha32 pixel.
+		 */
+		private function drawAlphaPixel(bmp:BitmapData, x:int, y:int, a:Number, c:Number):void 
+		{
+			var g:uint=bmp.getPixel32(x,y);
+			var r0:uint=((g & 0x00FF0000) >> 16);
+			var g0:uint=((g & 0x0000FF00) >> 8);
+			var b0:uint=((g & 0x000000FF));
+			var r1:uint=((c & 0x00FF0000) >> 16);
+			var g1:uint=((c & 0x0000FF00) >> 8);
+			var b1:uint=((c & 0x000000FF));
+			var ac:Number=0xFF;
+			var rc:Number=r1 * a + r0 * (1 - a);
+			var gc:Number=g1 * a + g0 * (1 - a);
+			var bc:Number=b1 * a + b0 * (1 - a);
+			var n:uint=(ac &lt;&lt; 24) + (rc &lt;&lt; 16) + (gc &lt;&lt; 8) + bc;
+			bmp.setPixel32(x,y,n);
+		}
+
+		/**
+		 * Check a triangle line
+		 */
+		private function checkLine(o:Object, x:int, y:int, bmp:BitmapData, c:int, r:Rectangle):void
+		{
+			if(o[y]) 
+			{
+				if(o[y] > x) 
+				{
+					r.width=o[y] - x;
+					r.x=x;
+					r.y=y;
+					bmp.fillRect(r,c);
+				}
+				else 
+				{
+					r.width=x - o[y];
+					r.x=o[y];
+					r.y=y;
+					bmp.fillRect(r,c);
+				}
+			}
+			else o[y]=x;
+		}
+
+		/**
+		 * Special line for filled triangle
+		 */
+		private function lineTri(o:Object, bmp:BitmapData,x0:int, y0:int, x1:int, y1:int, c:Number):void 
+		{
+			var steep:Boolean=(y1 - y0) * (y1 - y0) > (x1 - x0) * (x1 - x0);
+			var swap:int;
+			if(steep)
+			{
+				swap=x0; 
+				x0=y0; 
+				y0=swap;
+				swap=x1; 
+				x1=y1; 
+				y1=swap;
+			}
+			if(x0 > x1) 
+			{
+				x0 ^= x1; 
+				x1 ^= x0; 
+				x0 ^= x1;
+				y0 ^= y1; 
+				y1 ^= y0; 
+				y0 ^= y1;
+			}
+			var deltax:int=x1 - x0;
+			var deltay:int=Math.abs(y1 - y0);
+			var error:int=0;
+			var y:int=y0;			
+			var ystep:int=y0 &lt; y1 ? 1 : -1;
+			var x:int=x0;
+			var xend:int=x1 - (deltax >> 1);
+			var fx:int=x1;
+			var fy:int=y1;
+			var r:Rectangle=new Rectangle();
+			var px:int=0;
+			r.x=0;
+			r.y=0;
+			r.width=0;
+			r.height=1;
+			while(x++ &lt;= xend)
+			{
+				if(steep) 
+				{
+					checkLine(o,y,x,bmp,c,r);
+					if (fx != x1 && fx != xend)checkLine(o,fy,fx + 1,bmp,c,r);
+				}
+				error += deltay;
+				if((error &lt;&lt; 1) >= deltax) 
+				{
+					if (!steep) 
+					{
+						checkLine(o,x - px + 1,y,bmp,c,r);
+						if (fx != xend)checkLine(o,fx + 1,fy,bmp,c,r);
+					}
+					px=0;
+					y += ystep;
+					fy -= ystep;
+					error -= deltax; 
+				}
+				px++;
+				fx--;
+			}
+			if(!steep) checkLine(o,x-px + 1,y,bmp,c,r);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/ColorUtils.as b/src/as/net/guttershark/util/ColorUtils.as
new file mode 100644
index 0000000..bcbb75d
--- /dev/null
+++ b/src/as/net/guttershark/util/ColorUtils.as
@@ -0,0 +1 @@
+package net.guttershark.util
{
	import flash.display.BitmapData;
	import flash.display.DisplayObject;
	import flash.geom.ColorTransform;
	
	import net.guttershark.util.MathUtils;		

	/**
	 * The ColorUtils class contains utility methods for working with colors.
	 */
	final public class ColorUtils 
	{

		/**
		 * Singleton instance.
		 */
		private static var inst:ColorUtils;
		
		/**
		 * Math utils.
		 */
		private var mu:MathUtils;
		
		/**
		 * The RGB maximum value for r,g or b.
		 */
		public const RGB_MAX:uint=256;
		
		/**
		 * The hue maximum degree.
		 */
		public const HUE_MAX:uint=360;
		
		/**
		 * The maxmimum percent.
		 */
		public const PCT_MAX:uint=100;
		
		/**
		 * Singleton access.
		 */
		public static function gi():ColorUtils
		{
			if(!inst) inst=Singleton.gi(ColorUtils);
			return inst;
		}
		
		/**
		 * @private
		 */
		public function ColorUtils()
		{
			Singleton.assertSingle(ColorUtils);
			mu=MathUtils.gi();
		}

		/**
		 * Return the (A)RGB &lt;i>hexadecimal&lt;/i> color value of a DisplayObject.
		 * 
		 * @param src The source display object.
		 * @param x The x position to sample.
		 * @param y The y position to sample.
		 * @param getAlpha Whether or not to read ARGB, or RGB.
		 */
		public function getColor(src:DisplayObject, x:uint=0, y:uint=0, getAlpha:Boolean=false):uint 
		{
			var bmp:BitmapData=new BitmapData(src.width,src.height);
			bmp.draw(src);
			var color:uint=(!getAlpha) ? bmp.getPixel(int(x),int(y)) : bmp.getPixel32(int(x),int(y));
			bmp.dispose();
			return color;
		}
		
		/**
		 * Set the (A)RGB &lt;i>hexadecimal&lt;/i> color value of a DisplayObject using ColorTransform.
		 * 
		 * @param src The source display object.
		 * @param hex The color.
		 */
		public function setColor(src:DisplayObject, hex:uint):void 
		{
			var ct:ColorTransform=src.transform.colorTransform;
			ct.color=hex;
			src.transform.colorTransform=ct;
		}		
				
		/**
		 * Inverts the color of the DisplayObject.
		 * 
		 * @param src The source display object.
		 */
		public function invertColor(src:DisplayObject):void 
		{
			var t:Object=getTransform(src);
			setTransform(src,{ra :-t['ra'],ga:-t['ga'],ba:-t['ba'],rb:255-t['rb'],gb:255-t['gb'],bb:255-t['bb']});
		}

		/**
		 * Reset the color of the DisplayObject to its original view (pre-ColorTransformed).
		 * 
		 * @param src The display object to reset.
		 */
		public function resetColor(src:DisplayObject):void 
		{ 
			setTransform(src,{ra:100,ga:100,ba:100,rb:0,gb:0,bb:0});
		}			

		/**
		 * Returns the transform value set by the last setTransform() call.
		 * 
		 * @return An object with properties {ra,rb,ga,gb,ba,bb,aa,ab}.
		 */
		public function getTransform(src:DisplayObject):Object 
		{
			var ct:ColorTransform=src.transform.colorTransform;
			return {ra:ct.redMultiplier* 100,rb:ct.redOffset,ga:ct.greenMultiplier*100,gb:ct.greenOffset,ba:ct.blueMultiplier*100,bb:ct.blueOffset,aa:ct.alphaMultiplier*100,ab:ct.alphaOffset};
		}

		/**
		 * Set ColorTransform information for a DisplayObject.
		 * 
		 * &lt;p>The colorTransformObject parameter is a generic object that you create from the new Object constructor. It has parameters specifying the percentage and 
		 * offset values for the red, green, blue, and alpha (transparency) components of a color, entered in the format 0xRRGGBBAA.&lt;/p>
		 * 
		 * @param transformObject An object created with the new Object constructor. This instance of the Object class must have the following properties 
		 * that specify color transform values: ra, rb, ga, gb, ba, bb, aa, ab. These properties are explained in the above summary for the setTransform() method. 
		 */
		public function setTransform(src:DisplayObject,transformObject:Object):void
		{
			var t:Object={ra:100,rb:0,ga:100,gb:0,ba:100,bb:0,aa:100,ab:0};
			for(var p:String in transformObject) t[p]=transformObject[p];
			var ct:ColorTransform=new ColorTransform(t['ra'] * 0.01,t['ga'] * 0.01,t['ba'] * 0.01,t['aa'] * 0.01,t['rb'],t['gb'],t['bb'],t['ab']);
			src.transform.colorTransform=ct;
		}
		
		/**
		 * Parse a String representation of a color (hex or html) to uint.
		 */
		public function toColor(str:String):uint 
		{
			if(str.substr(0,2) == '0x') str=str.substr(2); 
			else if(str.substr(0,1)=='#') str=str.substr(1);
			return parseInt(str,16);
		}

		/**
		 * Convert a hexidecimal number to a string representation with ECMAScript notation: &lt;code>0xrrggbb&lt;/code>.
		 * 
		 * @param hex The hex color value.
		 */
		public function toHexString(hex:uint):String 
		{
			return "0x" + (hex.toString(16)).toUpperCase(); 
		}

		/**
		 * Convert a hexidecimal number to a string representation with HTML notation: &lt;code>#rrggbb&lt;/code>.
		 * 
		 * @param hex The hex color value.
		 */
		public function toHTML(hex:uint):String 
		{
			return "#" + (hex.toString(16)).toUpperCase(); 
		}

		/**
		 * Convert hue to RGB values using a linear transformation.
		 * 
		 * @param min The minimum value of r,g or b.
		 * @param max The maximum value of r,g or b.
		 * @param hue value angle hue.
		 * 
		 * @return Object with r,g,h properties on 0-1 scale.
		 */ 
		public function hueToRGB(min:Number,max:Number,hue:Number):Object 
		{
			var mu:Number, md:Number, F:Number, n:Number;
			while(hue &lt; 0)hue+=HUE_MAX;
			n=Math.floor(hue / 60);
			F=(hue - n * 60) / 60;
			n %= 6;
			mu=min + ((max - min) * F);
			md=max - ((max - min) * F);
			switch (n)
			{
				case 0: 
					return {r: max,g: mu,b: min};
				case 1: 
					return {r: md,g: max,b: min};
				case 2: 
					return {r: min,g: max,b: mu};
				case 3: 
					return {r: min,g: md,b: max};
				case 4: 
					return {r: mu,g: min,b: max};
				case 5: 
					return {r: max,g: min,b: md};
			}
			return null;
		}

		/**
		 * Convert RGB values to a hue using a linear transformation.
		 * 
		 * @param red The value on 0 to 1 scale.
		 * @param green The value on 0 to 1 scale.
		 * @param blue The value on 0 to 1 scale.
		 * @return The hue degree between 0 and 360.
		 */ 
		public function rgbToHue(red:Number,green:Number,blue:Number):uint 
		{
			var f:Number, min:Number, mid:Number, max:Number, n:Number;
			max=Math.max(red,Math.max(green,blue));
			min=Math.min(red,Math.min(green,blue));
			//achromatic case
			if(max-min==0) return 0;
			mid=mu.center(red,green,blue);
			while(true) 
			{
				if(red == max) 
				{
					if(blue == min) n=0;
					else n=5;
					break;
				}
				if(green == max) 
				{
					if(blue == min) n=1;
					else n=2;
					break;
				}
				if(red == min) n=3;
				else n=4;
				break;
			}
			if ((n % 2) == 0) f=mid - min;
			else f=max - mid;
			f=f / (max - min);
			return 60 * (n + f);
		}
				
		/**
		 * Convert an RGB Hexidecimal value to HSL values.
		 * 
		 * &lt;ul>
		 * &lt;li>&lt;code>h&lt;/code> on 0 - 360 scale.&lt;/li>
		 * &lt;li>&lt;code>l&lt;/code> on 0 - 1 scale.&lt;/li>
		 * &lt;li>&lt;code>s&lt;/code> on 0 - 1 scale.&lt;/li>
		 * &lt;/ul>
		 * 
		 * @param red 0 - 1 scale.
		 * @param green 0 - 1 scale.
		 * @param blue 0 - 1 scale.
		 * 
		 * @return Object with h (hue), l (lightness), s (saturation) values.
		 */
		public function rgbtoHSL(red:Number, green:Number, blue:Number):Object 
		{
			var min:Number, max:Number, delta:Number, l:Number, s:Number, h:Number=0;	
			max=Math.max(red,Math.max(green,blue));
			min=Math.min(red,Math.min(green,blue));
			//l=(min + max) / 2;
			l=(min + max) * 0.5;		
			if(l == 0) return {h:h,l:0,s:1};
			//delta=(max - min) / 2;
			delta=(max - min) * 0.5;
			if (l &lt; 0.5) s=delta / l;
			else s=delta / (1 - l);
			h=rgbToHue(red,green,blue);
			return {h:h,l:l,s:s};							
		}

		/**
		 * Convert HSL values to RGB values.
		 * 
		 * @param hue The hue value on a 0-360 scale.
		 * @param luminance 0 to 1.
		 * @param saturation 0 to 1.
		 * @return Object with r,g,b values on 0 to 1 scale.
		 */ 
		public function hsltoRGB(hue:Number, luminance:Number, saturation:Number):Object 
		{
			var delta:Number;
			if(luminance &lt; 0.5) delta=saturation * luminance;
			else delta=saturation * (1 - luminance);
			return hueToRGB(luminance - delta,luminance + delta,hue);
		}
		
		/**
		 * Convert RGB values to HSV values.
		 * 
		 * &lt;ul>
		 * &lt;li>h - on 0 to 360 scale&lt;/li>
		 * &lt;li>s - on 0 to 1 scale&lt;/li>
		 * &lt;li>v - on 0 to 1 scale&lt;/li>
		 * &lt;/ul>
		 * 
		 * @param red 0 to 1 scale.
		 * @param green 0 to 1 scale.
		 * @param blue 0 to 1 scale.
		 * @return Object with H,S,V values.
		 */ 
		public function rgbtoHSV(red:Number, green:Number, blue:Number):Object 
		{
			var min:Number, max:Number, s:Number, v:Number, h:Number=0;
			max=Math.max(red,Math.max(green,blue));
			min=Math.min(red,Math.min(green,blue));
			if(max == 0) return {h:0,s:0,v:0};
			v=max;
			s=(max - min) / max;
			h=rgbToHue(red,green,blue);
			return {h:h,s:s,v:v};
		}

		/**
		 * Convert HSV values to RGB values.
		 * 
		 * @param hue The hue value on a 0-360 scale.
		 * @param saturation on 0 to 1 scale.
		 * @param value on 0 to 1 scale.
		 * @return Object with r,g,b values on 0 to 1 scale.
		 */ 
		public function hsvtoRGB(hue:Number, saturation:Number, value:Number):Object 
		{
			var min:Number=(1 - saturation) * value;
			return hueToRGB(min,value,hue);
		}

		/**
		 * Convert HSV to HLS using RGB conversions: color preservation may be dubious.
		 * 
		 * @param hue The hue value on a 0-360 scale.
		 * @param saturation The saturation value on a 0-1 scale.
		 * @param value The value on a 0-1 scale.
		 * @return Object with h,s,l values on a 0-1 scale.
		 */
		public function hsvtoHSL(hue:Number, saturation:Number, value:Number):Object 
		{
			var rgbVal:Object=hsvtoRGB(hue,saturation,value);
			return rgbtoHSL(rgbVal.r,rgbVal.g,rgbVal.b);
		}

		/**
		 * Convert HSL to HSV using RGB conversions: color preservation may be dubious.
		 * 
		 * @param hue The hue value.
		 * @param luminance The luminance value.
		 * @param saturation The saturation value.
		 * @return An object with h,s,v values.
		 */
		public function hsltoHSV(hue:Number, luminance:Number, saturation:Number):Object 
		{
			var rgbVal:Object=hsltoRGB(hue,luminance,saturation);
			return rgbtoHSV(rgbVal.r,rgbVal.g,rgbVal.b);
		}
				
		/**
		 * Set the color of a DisplayObject from RGB components.
		 * 
		 * @param r The red value.
		 * @param g The green value.
		 * @param b The blue value.
		 */
		public function setRGBComponent(src:DisplayObject, r:Number, g:Number, b:Number):void 
		{
			r=mu.limit(r,0,RGB_MAX,false);
			g=mu.limit(g,0,RGB_MAX,false);
			b=mu.limit(b,0,RGB_MAX,false);
			setColor(src,hexFromComponents(r,g,b));
		}

		/**
		 * Get the RGB components from a DisplayObject.
		 * 
		 * @param src The source display object to sample color from.
		 * @param x The x location to sample.
		 * @param y The y location to sample.
		 */
		public function getRGBComponent(src:DisplayObject, x:uint=0, y:uint=0):Object 
		{
			var tmpVal:Object=componentsFromHex(getColor(src,x,y));
			return {r:tmpVal.r,g:tmpVal.g,b:tmpVal.b};
		}
		
		/**
		 * Set the color of a DisplayObject from HSL components.
		 * 
		 * @param src The source display object.
		 * @param h The hue value.
		 * @param l The luminance value.
		 * @param s The saturation value.
		 */
		public function setHSLComponent(src:DisplayObject, h:Number, s:Number, l:Number):void 
		{
			h=mu.limit(h,0,HUE_MAX,true);
			l=mu.limit(l,0,PCT_MAX,false) / PCT_MAX;
			s=mu.limit(s,0,PCT_MAX,false) / PCT_MAX;
			var rgbVal:Object=hsltoRGB(h,l,s);
			setColor(src,hexFromPercentages(rgbVal));
		}

		/**
		 * Get the HSL components from a DisplayObject.
		 * 
		 * @param src 	to sample color from.
		 * @param x 	location to sample.
		 * @param y 	location to sample.
		 * @return An object with h,s,l values.
		 */
		public function getHSLComponent(src:DisplayObject, x:uint=0, y:uint=0):Object 
		{
			var rgbVal:Object=componentsFromHex(getColor(src,x,y));
			rgbVal.r /= 256;
			rgbVal.g /= 256;
			rgbVal.b /= 256;
			var hslVal:Object=rgbtoHSL(rgbVal.r,rgbVal.g,rgbVal.b);
			hslVal.h=Math.round(hslVal.h);
			hslVal.l=Math.round(hslVal.l * PCT_MAX);
			hslVal.s=Math.round(hslVal.s * PCT_MAX);
			return hslVal;
		}
		
		/**
		 * Set the color of a DisplayObject from HSV components.
		 * 
		 * @param h The hue value.
		 * @param s The saturation value.
		 * @param v The value.
		 */
		public function setHSVComponent(src:DisplayObject, h:Number, s:Number, v:Number):void 
		{
			h=mu.limit(h,0,HUE_MAX,true);
			s=mu.limit(s,0,PCT_MAX,false) / PCT_MAX;
			v=mu.limit(v,0,PCT_MAX,false) / PCT_MAX;
			var rgbVal:Object=hsvtoRGB(h,s,v);
			setColor(src,hexFromPercentages(rgbVal));
		}

		/**
		 * Get the HSV components from a DisplayObject.
		 * 
		 * @param src The display object to sample color from.
		 * @param x Location to sample.
		 * @param y Location to sample.
		 * @param Object with h,s,v values.
		 */
		public function getHSVComponent(src:DisplayObject, x:uint=0, y:uint=0):Object 
		{
			var rgbVal:Object=componentsFromHex(getColor(src,x,y));
			rgbVal.r /= 256;
			rgbVal.g /= 256;
			rgbVal.b /= 256;
			var hsvVal:Object=rgbtoHSV(rgbVal.r,rgbVal.g,rgbVal.b);
			hsvVal.h=Math.round(hsvVal.h);
			hsvVal.s=Math.round(hsvVal.s * PCT_MAX);
			hsvVal.v=Math.round(hsvVal.v * PCT_MAX);
			return hsvVal;
		}		
				
		/**
		 * Convert an RGB hexidecimal value to an object containing its RGB components.
		 * 
		 * @param hex The hex value.
		 * &lt;span class="hide">TODO - refactor to getRGB or toRGBComponents&lt;/span>
		 */
		public function componentsFromHex(hex:uint):Object 
		{
			var r:Number=hex >> 16 & 0xff;
			var g:Number=hex >> 8 & 0xff;
			var b:Number=hex & 0xff;
			return {r:r,g:g,b:b};
		}	

		/**
		 * Convert an RGB Object to a hexidecimal color value.
		 * 
		 * @param rgbObj An object with r,g, and b properties.
		 */
		public function hexFromPercentages(rgb:Object):uint 
		{
			return hexFromComponents(rgb.r*RGB_MAX,rgb.g*RGB_MAX,rgb.b*RGB_MAX);
		}

		/**
		 * Convert individual RGB values to a hexidecimal value.
		 * 
		 * @param r The red value.
		 * @param g The green value.
		 * @param b The blue value.
		 */
		public function hexFromComponents(r:uint, g:uint, b:uint):uint 
		{
			var hex:uint=0;
			hex+=(r &lt;&lt; 16);
			hex+=(g &lt;&lt; 8);
			hex+=(b);
			return hex;	 
		}
		
		/**
		 * Change the contrast of a hexidecimal Number by a certain increment.
		 * 
		 * @param hex The color value to shift contrast on.
		 * @param inc The increment value to shift.
		 */
		public function changeContrast(hex:Number, inc:Number):Number 
		{
			var o:Object=componentsFromHex(hex);
			o.r=mu.clamp(o.r + inc,0,255);
			o.g=mu.clamp(o.g + inc,0,255);
			o.b=mu.clamp(o.b + inc,0,255);
			return hexFromComponents(o.r,o.g,o.b);
		}
		
		/**
		 * Get the ARGB values.
		 * 
		 * @param rgb The rgb value.
		 * @return An object with a,r,g,b values.
		 */
		public function getARGB(rgb:uint):Object 
		{
			var a:Number=rgb >> 24 & 0xff;
			var r:Number=rgb >> 16 & 0xff;
			var g:Number=rgb >> 8 & 0xff;
			var b:Number=rgb & 0xff;
			return {a:a,r:r,g:g,b:b};
		}

		/**
		 * Set the a,r,g,b values in a new unsigned int.
		 * 
		 * @param a The alpha value.
		 * @param r The red value.
		 * @param g The green value.
		 * @param b The blue value.
		 */
		public function setARGB(a:Number,r:Number,g:Number,b:Number):uint 
		{
			var argb:uint=0;
			argb+=(a &lt;&lt; 24);
			argb+=(r &lt;&lt; 16);
			argb+=(g &lt;&lt; 8);
			argb+=(b);
			return argb;
		}

		/**
		 * Convert an ARGB color value to grayscale.
		 * 
		 * @param hex The hex color value.
		 */
		public function toGrayscale(hex:uint):uint 
		{
			var color:Object=getARGB(hex);
			var c:Number=0;
			c+=color.r * .3;
			c+=color.g * .59;
			c+=color.b * .11;
			color.r=color.g=color.b=c;
			return setARGB(color.a,color.r,color.g,color.b);
		}
		
		/**
		 * Returns a random hexidecimal color.
		 */
		public function randHexColor():uint
		{
			return Number("0x"+Math.floor(Math.random()*16777215).toString(16).toUpperCase());
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/DateUtils.as b/src/as/net/guttershark/util/DateUtils.as
new file mode 100644
index 0000000..4e8c622
--- /dev/null
+++ b/src/as/net/guttershark/util/DateUtils.as
@@ -0,0 +1,338 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.Singleton;
+
+	/**
+	 * The DateUtils class contains utility methods for working with
+	 * dates.
+	 */
+	final public class DateUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:DateUtils;
+		
+		/**
+		 * MathUtilities instance.
+		 */
+		private var mu:MathUtils;
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():DateUtils
+		{
+			if(!inst) inst=Singleton.gi(DateUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function DateUtils()
+		{
+			Singleton.assertSingle(DateUtils);
+			mu=MathUtils.gi();
+		}
+
+		/**
+		 * 0 indexed array of months for use with &lt;code>DateUtils.getMonth()&lt;/code>.
+		 */
+		public function get months():Array 
+		{
+			return new Array("January","February","March","April","May","June","July","August","September","October","November","December");
+		}
+		
+		/**
+		 * 0 indexed array of short months for use with &lt;code>DateUtils.getMonth()&lt;/code>.
+		 */
+		public function get shortmonths():Array
+		{
+			return new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");	
+		}
+		
+		/**
+		 * 0 indexed array of days for use with &lt;code>DateUtils.getDay()&lt;/code>.
+		 */
+		public function get days():Array 
+		{
+			return new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");
+		}
+		
+		/**
+		 * 0 indexed array of short days for use with &lt;code>DateUtils.getDay()&lt;/code>.
+		 */
+		public function get shortdays():Array 
+		{
+			return new Array("Sun","Mon","Tue","Wed","Thur","Fri","Sat");
+		}
+		
+		/**
+		 * Get the month name by month number.
+		 * 
+		 * @param n The 0 based month index.
+		 */
+		public function getMonth(n:int):String 
+		{
+			return months[n];	
+		}
+		
+		/**
+		 * Get the short month name by month number.
+		 * 
+		 * @param n The 0 based month index.
+		 */
+		public function getShortMonth(n:int):String 
+		{
+			return shortmonths[n];
+		}
+		
+		/**
+		 * Get the day name by day number.
+		 * 
+		 * @param n The 0 based day index.
+		 */	
+		public function getDay(n:int):String 
+		{
+			return days[n];	
+		}
+		
+		/**
+		 * Get the short day name by day number.
+		 * 
+		 * @param n The 0 based day index.
+		 */	
+		public function getShortDay(n:int):String 
+		{
+			return shortdays[n];
+		}
+		
+		/**
+		 * Pads hours, minutes or seconds with a leading 0 - so 12:01 doesn't end up 12:1.
+		 * 
+		 * @param n The number to pad.
+		 */
+		public function padTime(n:int):String 
+		{
+			return (String(n).length &lt; 2) ? String("0" + n) : n as String;
+		}
+		
+		/**
+		 * Convert a DB formatted date string into a Flash Date Object.
+		 * 
+		 * @param dbDate A date formatted like YYYY-MM-DD HH:MM:SS.
+		 */
+		public function dateFromDB(dbdate:String):Date 
+		{
+			var tmp:Array=dbdate.split(" ");
+			var dates:Array=tmp[0].split("-");
+			var hours:Array=tmp[1].split(":");
+			var d:Date=new Date(dates[0],dates[1]-1,dates[2],hours[0],hours[1],hours[2]);
+			return d;
+		}
+		
+		/**
+		 * Takes 24hr hours and converts to 12 hour with am/pm.
+		 * 
+		 * @param hour24 The hour in 24 hour format.
+		 * @return An object with "hours" and "ampm" properties.
+		 */
+		public function getHoursAmPm(hour24:int):Object 
+		{
+			var returnObj:Object=new Object();
+			returnObj.ampm=(hour24 &lt; 12)?"am":"pm";
+			var hour12:Number=hour24%12;
+			if(hour12 == 0) hour12=12;
+			returnObj.hours=hour12;
+			return returnObj;
+		}
+		
+		/**
+		 * Get the differences between two dates in milliseconds - if
+		 * the second date is not provided, a new Date() is used.
+		 * 
+		 * @param d1 The first date.
+		 * @param d2 The second date.
+		 */
+		public function dateDiff(d1:Date,d2:Date=null):Number 
+		{
+			if(!d2) d2=new Date();
+			return d2.getTime() - d1.getTime();
+		}
+		
+		/**
+		 * Check if birthdate entered meets required age.
+		 * 
+		 * @param year The year.
+		 * @param month The 0 based month.
+		 * @param day The 0 based day.
+		 * @param requiredAge The required age that the date must meet.
+		 */
+		public function isValidAge(year:int, month:int, day:int, requiredAge:int):Boolean 
+		{
+			if(!isValidDate(year,month,day,true)) return false;
+			var now:Date=new Date();
+			var bd:Date=new Date(year+requiredAge,month,day);
+			return (now.getTime()>bd.getTime());
+		}
+		
+		/**
+		 * Check if a valid date can be created with inputs.
+		 * 
+		 * @param year The year.
+		 * @param month The 0 based month.
+		 * @param day The 0 based day.
+		 * @param mustBeInPast Whether or not the date must be in the past.
+		 */
+		public function isValidDate(year:int, month:int, day:int, mustBeInPast:Boolean):Boolean 
+		{
+			if(!mu.isInRange(year,1800,3000) || isNaN(year)) return false;
+			if(!mu.isInRange(month,0,11) || isNaN(month)) return false;
+			if(!mu.isInRange(day,1,31) || isNaN(day)) return false;
+			if(day > getTotalDaysInMonth(year,month)) return false;
+			if(mustBeInPast && dateDiff(new Date(year,month,day)) &lt; 0) return false;
+			return true;
+		}	
+		
+		/**
+		 * Return the number of days in a specific month.
+		 * 
+		 * @param year The year.
+		 * @param month The 0 based month.
+		 */
+		public function getTotalDaysInMonth(year:int, month:int):int 
+		{
+			return ms2days(dateDiff(new Date(year,month,1),new Date(year,month + 1,1)));
+		}
+		
+		/**
+		 * Returns the number of days in a specific year.
+		 * 
+		 * @param year The year.
+		 */
+		public function getTotalDaysInYear(year:int):int 
+		{
+			return ms2days(dateDiff(new Date(year,0,1),new Date(year + 1,0,1)));
+		}
+		
+		/**
+		 * Determines whether or not the provided year is a leap year.
+		 * 
+		 * @param year The year to check.
+		 */
+		public function isLeapYear(year:int):Boolean
+		{
+			return ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);
+		}
+		
+		/**
+		 * Convert number of weeks to milliseconds.
+		 * 
+		 * @param n The number of weeks.
+		 */
+		public function weeks2ms(n:Number):Number 
+		{
+			return n * days2ms(7);
+		}
+		
+		/**
+		 * Convert number of days to milliseconds.
+		 * 
+		 * @param n The number of days.
+		 */
+		public function days2ms(n:Number):Number 
+		{
+			return n * hours2ms(24);
+		}
+		
+		/**
+		 * Convert number of hours to milliseconds.
+		 * 
+		 * @param n The number of hours.
+		 */
+		public function hours2ms(n:Number):Number 
+		{
+			return n * minutes2ms(60);
+		}
+		
+		/**
+		 * Convert minutes to milliseconds.
+		 * 
+		 * @param n The number of minutes.
+		 */
+		public function minutes2ms(n:Number):Number 
+		{
+			return n * seconds2ms(60);
+		}
+		
+		/**
+		 * Convert seconds to milliseconds.
+		 * 
+		 * @param n The number of seconds.
+		 */
+		public function seconds2ms(n:Number):Number 
+		{
+			return n * ms(1000);
+		}
+		
+		/**
+		 * @private
+		 */
+		public function ms(n:Number):Number 
+		{
+			return n;
+		}
+		
+		/**
+		 * Convert milliseconds to weeks.
+		 * 
+		 * @param n The milliseconds.
+		 */
+		public function ms2weeks(n:Number):Number 
+		{
+			return n / days2ms(7);
+		}
+
+		/**
+		 * Convert milliseconds to days.
+		 * 
+		 * @param n The milliseconds.
+		 */
+		public function ms2days(n:Number):Number 
+		{
+			return n / hours2ms(24);
+		}
+		
+		/**
+		 * Convert milliseconds to hours.
+		 * 
+		 * @param n The milliseconds.
+		 */
+		public function ms2hours(n:Number):Number
+		{
+			return n / minutes2ms(60);
+		}
+		
+		/**
+		 * Convert milliseconds to hours.
+		 * 
+		 * @param n The milliseconds.
+		 */
+		public function ms2minutes(n:Number):Number 
+		{
+			return n / seconds2ms(60);
+		}
+
+		/**
+		 * Convert milliseconds to seconds.
+		 * 
+		 * @param n The milliseconds.
+		 */
+		public function ms2seconds(n:Number):Number 
+		{
+			return n / ms(1000);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/DictionaryUtils.as b/src/as/net/guttershark/util/DictionaryUtils.as
new file mode 100644
index 0000000..a1d5406
--- /dev/null
+++ b/src/as/net/guttershark/util/DictionaryUtils.as
@@ -0,0 +1 @@
+package net.guttershark.util
{
	import flash.utils.Dictionary;
	
	import net.guttershark.util.Singleton;		

	/**
	 * The DictionaryUtils class contains utility methods for working
	 * with dictionaries.
	 */
	final public class DictionaryUtils
	{

		/**
		 * Singleton instance.
		 */
		private static var inst:DictionaryUtils;
		
		/**
		 * Singleton access.
		 */
		public static function gi():DictionaryUtils
		{
			if(!inst) inst=Singleton.gi(DictionaryUtils);
			return inst;
		}
		
		/**
		 * @private
		 */
		public function DictionaryUtils()
		{
			Singleton.assertSingle(DictionaryUtils);
		}

		/**
		 * Return an Array of all keys in the dictionary.
		 *	
		 * @param d A dictionary who's keys will be returned.
		 */					
		public function keys(dict:Dictionary):Array
		{
			var a:Array=[];
			var key:Object;
			for(key in dict) a.push(key);
			return a;
		}

		/**
		 * Return an Array of all values in the dictionary.
		 * 	
		 * @param A dictionary who's values will be returned.
		 */					
		public function values(dict:Dictionary):Array
		{
			var a:Array=[];
			var value:Object;
			for each(value in dict) a.push(value);
			return a;
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/DisplayListUtils.as b/src/as/net/guttershark/util/DisplayListUtils.as
new file mode 100644
index 0000000..d2796aa
--- /dev/null
+++ b/src/as/net/guttershark/util/DisplayListUtils.as
@@ -0,0 +1,119 @@
+package net.guttershark.util 
+{
+	import flash.display.DisplayObject;
+	import flash.geom.Point;	
+
+	/**
+	 * The DisplayListUtils class contains utlility methods for display
+	 * list manipulation.
+	 */
+	final public class DisplayListUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:DisplayListUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():DisplayListUtils
+		{
+			if(!inst) inst=Singleton.gi(DisplayListUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function DisplayListUtils()
+		{
+			Singleton.assertSingle(DisplayListUtils);
+		}
+
+		/**
+		 * Translate the display object container position in a new container.
+		 */
+		public function localToLocal(from:DisplayObject, to:DisplayObject):Point
+		{
+			var point:Point=new Point();
+			point=from.localToGlobal(point);
+			point=to.globalToLocal(point);
+			return point;
+		}
+		
+		/**
+		 * Set the scale of an object - updates the x and y.
+		 * 
+		 * @param target The target item to scale. 
+		 * @param scale	The scale percentage.
+		 */
+		public function scale(target:DisplayObject,scale:Number):void
+		{
+			target.scaleX=scale;
+			target.scaleY=scale;
+		}
+
+		/**
+		 * Scale target item to fit within target confines.
+		 * 
+		 * @param target The item to be aligned.
+		 * @param targetW The target item width.
+		 * @param targetH The target item height.
+		 * @param center Center the object within the targetW and targetH.
+		 */
+		public function scaleToFit(target:DisplayObject,targetW:Number,targetH:Number,center:Boolean=false):void
+		{
+			if(target.width&lt;targetW && target.width>target.height)
+			{
+				target.width=targetW;
+				target.scaleY=target.scaleX;
+			}
+			else
+			{
+				target.height=targetH;
+				target.scaleX=target.scaleY;
+			}
+			if(center) 
+			{
+				target.x=int(targetW/2-target.width/2);
+				target.y=int(targetH/2-target.height/2);
+			}
+		}
+
+		/**
+		 * Scale while retaining original w:h ratio.
+		 * 
+		 * @param target The item to be scaled.
+		 * @param targetW The target item width.
+		 * @param targetH The target item height.
+		 */
+		public function scaleRatio(target:DisplayObject,targetW:Number,targetH:Number):void
+		{
+			if(targetW/targetH&lt;target.height/target.width) targetW=targetH * target.width / target.height; 
+			else targetH=targetW * target.height / target.width;
+			target.width=targetW;
+			target.height=targetH;
+		}
+		
+		/**
+		 * Flip an object on the x or y axis.
+		 * 
+		 * @param obj The object to flip
+		 * @param axis The axis to flip on - "x" or "y"
+		 */
+		public function flip(obj:Object,axis:String="y"):void
+		{
+			if(axis != "x" && axis != "y") 
+			{
+				throw new Error("Error: flip expects axis param: 'x' or 'y'.");
+				return;
+			}
+			var _scale:String=axis == "x" ? "scaleX" :"scaleY";
+			var _prop:String=axis == "x" ? "width" : "height";
+			obj[_scale]=-obj[_scale];
+			obj[axis] += obj[_prop];
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/EventBroadcaster.as b/src/as/net/guttershark/util/EventBroadcaster.as
new file mode 100644
index 0000000..e0a473e
--- /dev/null
+++ b/src/as/net/guttershark/util/EventBroadcaster.as
@@ -0,0 +1,88 @@
+package net.guttershark.util
+{
+	import flash.events.Event;
+	import flash.events.EventDispatcher;	
+
+	/**
+	 * The EventBroadcaster is a static class, and wraps an instance of
+	 * an event dispatcher.
+	 * 
+	 * &lt;p>Using this class is not recommended, as it leads to spaghetti
+	 * events - but is here for those who feel the need.&lt;/p>
+	 * 
+	 * &lt;p>This class really should only be used when you need
+	 * swf to swf communication, without needing a reference to
+	 * a swf.&lt;/p>
+	 * 
+	 * @example	Using the EventBroadcaster:
+	 * &lt;listing>	
+	 * private function onTest(e:Event):void
+	 * {
+	 *   trace("event received");
+	 * }
+	 * EventBroadcaster.addEventListener("test",onTest);
+	 * EventBroadcaster.broadcastEvent(new Event("test"));
+	 * &lt;/listing>
+	 */
+	public class EventBroadcaster
+	{
+		
+		private static var dispatcher:EventDispatcher=new EventDispatcher();
+		
+		/**
+		 * Add a listener the the event broadcaster.
+		 * 
+		 * @param type The type of event listener
+		 * @param listener The callback function when event is fired
+		 * @param useCapture UseCapture or not.
+		 * @param priority Priority of the event.
+		 * @param useWeakReferences Use weak references.
+		 */
+		public static function addEventListener(type:String, listener:Function, useCapture:Boolean=false, priority:int=0, useWeakReference:Boolean=false):void
+		{
+			dispatcher.addEventListener(type,listener,useCapture,priority,useWeakReference);
+		}
+		
+		/**
+		 * Broadcast an event.
+		 * 
+		 * @param event Any Event.
+		 */
+		public static function broadcastEvent(event:Event):void
+		{
+			dispatcher.dispatchEvent(event);
+		}
+		
+		/**
+		 * Remove an event listener from the broadcaster.
+		 * 
+		 * @param type The listener type.
+		 * @param listener The callback listening function.
+		 * @param useCapture UseCapture of not.
+		 */
+		public static function removeEventListener(type:String, listener:Function, useCapture:Boolean=false):void
+		{
+			dispatcher.removeEventListener(type,listener,useCapture);
+		}
+		
+		/**
+		 * Check to see if there is a listener of specified type on the broadcaster.
+		 * 
+		 * @param type The event type.
+		 */
+		public static function hasEventListener(type:String):Boolean
+		{
+			return dispatcher.hasEventListener(type);
+		}
+		
+		/**
+		 * Test to see if an event will fire of type.
+		 * 
+		 * @param type The event type.
+		 */
+		public static function willTrigger(type:String):Boolean
+		{
+			return dispatcher.willTrigger(type);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/FileFilters.as b/src/as/net/guttershark/util/FileFilters.as
new file mode 100644
index 0000000..4da161c
--- /dev/null
+++ b/src/as/net/guttershark/util/FileFilters.as
@@ -0,0 +1,35 @@
+package net.guttershark.util 
+{
+	import flash.net.FileFilter;	
+
+	/**
+	 * The FileFilterUtils class provides static variables that have predefined
+	 * file filter instances, to save time.
+	 */
+	final public class FileFilters 
+	{
+		
+		/**
+		 * A FileFilter containing Bitmap extensions - it contains .jpg,.jpeg,.gif,.png,.bmp.
+		 */
+		public static const BitmapFileFilter:FileFilter=new FileFilter("Images (*.jpg, *.jpeg, *.gif, *.png, *.bmp)","*.jpg;*.jpeg;*.gif;*.png;*.bmp");
+		
+		/**
+		 * A FileFilter containing text extensions - it contains .txt,.rtf.
+		 */
+		public static const TextFileFilter:FileFilter=new FileFilter("Text Files (*.txt, *.rtf)", "*.txt;*.rtf");
+		
+		/**
+		 * A FileFilter containing more text extensions - it contains .doc,.docx.
+		 */
+		public static const ExtendedTextFileFilter:FileFilter=new FileFilter("Word Doc Files (*.doc, *.docx)", "*.doc;*.docx");
+		
+		/**
+		 * A FileFilter containing xml extension - it contains .xml.
+		 */
+		public static const XMLFileFilter:FileFilter=new FileFilter("XML Files (*.xml)","*.xml");
+		
+		/**
+		 * A FileFilter containing .zip file.
+		 */
+		public static const ZIPFileFilter:FileFilter=new FileFilter("ZIP Archive (*.zip,*.ZIP)","*.zip;*.ZIP)");
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/FrameDelay.as b/src/as/net/guttershark/util/FrameDelay.as
new file mode 100644
index 0000000..2dc0da1
--- /dev/null
+++ b/src/as/net/guttershark/util/FrameDelay.as
@@ -0,0 +1,84 @@
+package net.guttershark.util
+{
+
+	import flash.events.Event;
+	
+	/**
+	 * The FrameDelay class allows for a callback to be called after
+	 * a certain amount of frames have passed.
+	 * 
+	 * @example Using a FrameDelay:
+	 * &lt;listing>	
+	 * var fd:FrameDelay=new FrameDelay(after10, 10);
+	 * function after10():void
+	 * {
+	 *     trace("10 frames have passed");
+	 * }
+	 * &lt;/listing>
+	 */
+	public class FrameDelay
+	{
+		
+		/**
+		 * is done flag.
+		 */
+		private var isDone:Boolean;
+		
+		/**
+		 * The current frame.
+		 */
+		private var currentFrame:int;
+		
+		/**
+		 * The callback.
+		 */
+		private var callback:Function;
+		
+		/**
+		 * Parameters to send to the callback.
+		 */
+		private var params:Array;
+		
+		/**
+		 * Constructor for FrameDelay instances.
+		 * 
+		 * @param	callback	The callback to call.
+		 * @param	frameCount	The number of frames to wait.
+		 * @param	params	An array of parameters to send to your callback.
+		 */
+		public function FrameDelay(callback:Function, frameCount:int=0, params:Array=null)
+		{
+			currentFrame=frameCount;
+			this.callback=callback;
+			this.params=params;
+			isDone=(isNaN(frameCount) || (frameCount &lt;= 1));
+			FramePulse.AddEnterFrameListener(handleEnterFrame);
+		}
+		
+		/**
+		 * Handle an enter frame event.
+		 */
+		private function handleEnterFrame(e:Event):void
+		{
+			if(isDone)
+			{
+				FramePulse.RemoveEnterFrameListener(handleEnterFrame);
+				if(params==null) callback();
+				else callback.apply(null,params);
+			}
+			else
+			{
+				currentFrame--;
+				isDone=(currentFrame &lt;= 1);
+			}
+		}
+		
+		/**
+		 * Dispose of this FrameDelay instance.
+		 */
+		public function dispose():void
+		{
+			if (!isDone) FramePulse.RemoveEnterFrameListener(handleEnterFrame);
+		}
+	}
+}
diff --git a/src/as/net/guttershark/util/FramePulse.as b/src/as/net/guttershark/util/FramePulse.as
new file mode 100644
index 0000000..9cd4366
--- /dev/null
+++ b/src/as/net/guttershark/util/FramePulse.as
@@ -0,0 +1,46 @@
+package net.guttershark.util
+{
+	
+	import flash.events.Event;	
+	import flash.display.Sprite;	
+	import flash.events.EventDispatcher;	
+	
+	/**
+	 * The FramePulse class should be used as the one
+	 * source for enter frame events. This is equivalent
+	 * to an on enter frame beacon from flash 7/8.
+	 * 
+	 * @example Using the FramePulse class:
+	 * &lt;listing>	
+	 * FramePulse.AddEnterFrameEvenListener(onEnterFrame);
+	 * private function onEnterFrame(e:Event):void
+	 * {
+	 *     trace("on enter frame");
+	 * }
+	 * &lt;/listing>
+	 */
+	public class FramePulse extends EventDispatcher
+	{
+		
+		private static var sSprite:Sprite=null;
+
+		/**
+		 * Add an event listener to the frame pulse.
+		 * @param	eventHandler	The handler function to call.
+		 */
+		public static function AddEnterFrameListener(eventHandler:Function):void
+		{
+			if(sSprite == null) sSprite=new Sprite();
+			sSprite.addEventListener(Event.ENTER_FRAME, eventHandler);
+		}
+		
+		/**
+		 * Remove an event listener from the frame pulse.
+		 * @param	eventHandler	The event handler function.
+		 */
+		public static function RemoveEnterFrameListener(eventHandler:Function):void
+		{
+			if(sSprite != null) sSprite.removeEventListener(Event.ENTER_FRAME, eventHandler);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/Inactivity.as b/src/as/net/guttershark/util/Inactivity.as
new file mode 100644
index 0000000..b5d2431
--- /dev/null
+++ b/src/as/net/guttershark/util/Inactivity.as
@@ -0,0 +1,157 @@
+package net.guttershark.util
+{
+	
+	import flash.display.DisplayObject;
+	import flash.events.*;
+	import flash.utils.clearInterval;
+	import flash.utils.setInterval;
+	
+	/**
+	 * Dispatched when the user becomes inactive.
+	 * 
+	 * @eventType flash.events.Event
+	 */
+	[Event(name="inactive",type="flash.events.Event")]
+	
+	/**
+	 * Dispatched when the user becomes active.
+	 * 
+	 * @eventType flash.events.Event
+	 */
+	[Event(name="active",type="flash.events.Event")]
+	
+	/**
+	 * The Inactivity class can be used to watch for inactivity within the
+	 * scope of a DisplayObject.
+	 * 
+	 * &lt;p>Continuous events are not dispatched, they only dispatch
+	 * when the state changes. So if the user goes from active to inactive,
+	 * the inactive event will be dispatched. As soon as they go active again,
+	 * the active event is dispatched.&lt;/p>
+	 * 
+	 * @example Using the inactivity class:
+	 * &lt;listing>	
+	 * var inact:Inactivity=new Inactivity(myMovieClip, 2000);
+	 * inact.addEventListener(Inactivity.ACTIVE, whenActiveAgain);
+	 * inact.addEventListener(Inactivity.INACTIVE, whenGoInactive); 
+	 * inact.start();
+	 * &lt;/listing>
+	 */
+	final public class Inactivity extends EventDispatcher
+	{
+	
+		/**
+		 * Defines the value of the type property of the event object used for inactive events.
+		 */
+		public static var INACTIVE:String="inactive";
+		
+		/**
+		 * Defines the value of the type property of the event object used for active events.
+		 */
+		public static var ACTIVE:String="active";
+		
+		/**
+		 * number of ms before inactive.
+		 */
+		private var milliseconds:int;
+		
+		/**
+		 * handle on the interval.
+		 */
+		private var interval:int;
+		
+		/**
+		 * Internal use flag for active / inactive
+		 */
+		private var isActive:Boolean=true;
+		
+		/**
+		 * Internal toggle for start / stop.
+		 */
+		private var working:Boolean=false;
+		
+		/**
+		 * The scope watching for inactivity in.
+		 */
+		private var scope:DisplayObject;
+
+		/**
+		 * Constructor for Inactivity instances.
+		 * 
+		 * @param	scope	The object to watch for user activity.
+		 * @param	int	The time in milliseconds to wait before the user is considered inactive.
+		 */
+		public function Inactivity(scope:DisplayObject, inactiveTimeout:int):void
+		{
+			if(inactiveTimeout &lt; 100) throw new ArgumentError("The inactiveTimeout must be greater than 100.");
+			if(!scope) throw new ArgumentError("The scope parameter cannot be null");
+			milliseconds=inactiveTimeout;
+			this.scope=scope;
+		}
+		
+		/**
+		 * This executes when the user has interacted with the target 'scope' display object.
+		 * It dispatches Inactivity.ACTIVE.
+		 */
+		private function userActive(e:Event):void
+		{
+			if(!working) return;
+			if(!isActive) if(this.hasEventListener(Inactivity.ACTIVE)) dispatchEvent(new Event(Inactivity.ACTIVE));
+			isActive=true;
+			flash.utils.clearInterval(interval);
+			interval=flash.utils.setInterval(userInactive,milliseconds);
+		}
+		
+		/**
+		 * If an 'inactive' interval successfully completes, this method is executed. Dispatching
+		 * a Inactivity.INACTIVE event. This will only dispatch the first time they're considered 'inactive'.
+		 * 
+		 * Once the Inactivity.INACTIVE is dispatched, they're in an inactive state. When the User 
+		 * interacts with the 'scope' again, Inactivity.ACTIVE is dispatched. Switching the state
+		 * to active. 
+		 */
+		private function userInactive():void
+		{
+			if(!working) return;
+			if(isActive) 
+				if(hasEventListener(Inactivity.INACTIVE)) dispatchEvent(new Event(Inactivity.INACTIVE));
+			isActive=false;
+		}
+		
+		/**
+		 * Add event listeners to the scoped object.
+		 */
+		private function addListeners():void
+		{
+			scope.addEventListener(MouseEvent.MOUSE_MOVE, userActive, false, 11, false);
+			scope.addEventListener(KeyboardEvent.KEY_UP, userActive, false, 11, false);
+		}
+		
+		/**
+		 * Remove event listeners from the scoped object.
+		 */
+		private function removeListeners():void
+		{
+			scope.removeEventListener(MouseEvent.MOUSE_MOVE, userActive);
+			scope.removeEventListener(KeyboardEvent.KEY_UP, userActive);
+		}
+		
+		/**
+		 * Start watching for inactivity.
+		 */
+		public function start():void
+		{
+			addListeners();
+			working=true;
+		}
+		
+		/**
+		 * Stop watching for inactivity.
+		 */
+		public function stop():void
+		{
+			removeListeners();
+			working=false;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/JSFLProxy.as b/src/as/net/guttershark/util/JSFLProxy.as
new file mode 100644
index 0000000..3b55254
--- /dev/null
+++ b/src/as/net/guttershark/util/JSFLProxy.as
@@ -0,0 +1,155 @@
+package net.guttershark.util
+{
+	import adobe.utils.MMExecute;
+	
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.Utilities;	
+
+	/**
+	 * The JSFLProxy class is a proxy class that eleviates the pain
+	 * of running jsfl from actionscript.
+	 * 
+	 * &lt;p>JSFL Proxy does not eleviate having to call such things like:
+	 * &lt;code>MMExecute("fl.getDocumentDOM().path")&lt;/code>, but it does relieve
+	 * calling script files, or functions withing script files, and
+	 * handling parameters, and responses from the script. See the
+	 * &lt;em>runScript&lt;/em> method for more documentation.&lt;/p>
+	 */
+	final public class JSFLProxy
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:JSFLProxy;
+		
+		/**
+		 * Utils.
+		 */
+		private var utils:Utilities;
+		
+		/**
+		 * @private
+		 */
+		public function JSFLProxy()
+		{
+			Singleton.assertSingle(JSFLProxy);
+			utils=Utilities.gi();
+		}
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():JSFLProxy
+		{
+			if(!inst) inst=Singleton.gi(JSFLProxy);
+			return inst;
+		}
+		
+		/**
+		 * Run a jsfl script file, with optional parameters.
+		 * 
+		 * &lt;p>The callProps object accepts these properties:&lt;/p>
+		 * 
+		 * &lt;ul>
+		 * &lt;li>method (String) - A method inside of the jsfl file to execute.&lt;/li>
+		 * &lt;li>params (Array) - Parameters to send to the jsfl function.&lt;/li>
+		 * &lt;li>escapeParams (Boolean) - Whether or not to escape all parameters being sent to the function.&lt;/li>
+		 * &lt;li>responseWasEscaped (Boolean) - Whether the return value from jsfl was escaped. This is useful for returning XML, or string with special characters,
+		 * because special characters will throw jsfl errors if they're not escaped.&lt;/li>
+		 * &lt;li>responseFormat (String) - A response format, so that casting can occur - supports (xml,boolean,int,number,array(csv)).
+		 * &lt;/ul>
+		 * 
+		 * &lt;p>Those properties are optional. And depending on what properties are present,
+		 * either a jsfl file will execute, or a method inside of it&lt;/p>
+		 * 
+		 * @example Calling a script file (no method):
+	 	 * &lt;listing>	
+	 	 * var j:JSFLProxy=JSFLProxy.gi();
+	 	 * j.runScript("myscript.jsfl",{responseFormat:"xml",responseWasEscape:true});
+	 	 * &lt;/listing>
+	 	 * 
+	 	 * @example Calling a method in a script file:
+	 	 * &lt;listing>	
+	 	 * var j:JSFLProxy=JSFLProxy.gi();
+	 	 * j.runScript("myscript.jsfl",{method:"helloWorld",params:["test"],escapeParams:true,responseFormat:"XML",responseWasEscape:true});
+	 	 * &lt;/listing>
+	 	 * 
+		 * @param scriptFile The fileURI (file:///) to run.
+		 * @param callProps The call properties to use for this call.
+		 */
+		public function runScript(scriptFile:String, callProps:Object=null):*
+		{
+			if(!callProps)callProps={};
+			var params:Array=(callProps.params)?callProps.params:[];
+			var a:String;
+			if(params.length>0)a="";
+			var i:int=0;
+			var l:int=params.length;
+			for(i;i&lt;l;i++)
+			{
+				if(callProps.escapeParams==true)a+="'"+escape(params[i].toString())+"'";
+				else a+="'"+params[i].toString()+"'";
+				if(i&lt;params.length-1)a+=",";
+			}
+			var r:String;
+			if(!callProps.method)r=MMExecute("fl.runScript('"+scriptFile+"')");
+			else
+			{
+				if(a)r=MMExecute("fl.runScript('"+scriptFile+"','"+callProps.method+"',"+a+")");
+				else r=MMExecute("fl.runScript('"+scriptFile+"','"+callProps.method+"')");
+			}
+			if(callProps.responseWasEscaped)r=unescape(r);
+			var ret:* =r;
+			if(!callProps.responseFormat&&r=="null"||r=="false")ret=false;
+			if(!callProps.responseFormat&&r=="true") ret=true;
+			switch(callProps.responseFormat)
+			{
+				case "boolean":
+					ret=utils.string.toBoolean(r);
+					break;
+				case "xml":
+					ret=new XML(r);
+					break;
+				case "number":
+					ret=Number(r);
+					break;
+				case "int":
+					ret=int(r);
+					break;
+				case "array":
+					ret=r.split(",");
+					break;
+				default:
+					ret=r;
+					break;
+			}
+			return ret;
+		}
+		
+		/**
+		 * Alert a message.
+		 * 
+		 * @param message A message to alert.
+		 * @param escap Whether or not to escape the alert message.
+		 */
+		public function alert(message:String,escap:Boolean=false):void
+		{
+			if(escap)MMExecute("alert('"+escape(message.toString())+"')");
+			else MMExecute("alert('"+message.toString()+"')");
+		}
+		
+		/**
+		 * Trace to output.
+		 * 
+		 * @param msg An object to trace out.
+		 * @param escape Whether or not to escape the trace.
+		 */
+		public function trase(msg:*,escap:Boolean=false):void
+		{
+			trace(msg);
+			if(escap)MMExecute("fl.trace('"+escape(msg.toString())+"')");
+			else MMExecute("fl.trace('"+msg.toString()+"')");
+		}
+	}
+}
diff --git a/src/as/net/guttershark/util/MathUtils.as b/src/as/net/guttershark/util/MathUtils.as
new file mode 100644
index 0000000..9b5c2b6
--- /dev/null
+++ b/src/as/net/guttershark/util/MathUtils.as
@@ -0,0 +1,981 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.geom.Point;
+	import net.guttershark.util.geom.Point3D;	
+
+	/**
+	 * The MathUtils class contains various math functions.
+	 */
+	final public class MathUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:MathUtils;
+		
+		/**
+		 * String utils.
+		 */
+		private var su:StringUtils;
+		
+		/**
+		 * Byte value.
+		 */
+		protected const BYTE:Number=8;
+		
+		/**
+		 * Kilobit value.
+		 */
+		protected const KILOBIT:Number=1024;
+		
+		/**
+		 * Kilobyte value.
+		 */
+		protected const KILOBYTE:Number=8192;
+		
+		/**
+		 * Mega bit value.
+		 */
+		protected const MEGABIT:Number=1048576;
+		
+		/**
+		 * Megabyte value.
+		 */
+		protected const MEGABYTE:Number=8388608;
+		
+		/**
+		 * Gigabit value.
+		 */
+		protected const GIGABIT:Number=1073741824;
+		
+		/**
+		 * Gigabyte value.
+		 */
+		protected const GIGABYTE:Number=8589934592;
+		
+		/**
+		 * Terabit value.
+		 */ 
+		protected const TERABIT:Number=1.099511628e+12;
+		
+		/**
+		 * Terabyte value.
+		 */
+		protected const TERABYTE:Number=8.796093022e+12;
+		
+		/**
+		 * Petabit value.
+		 */
+		protected const PETABIT:Number=1.125899907e+15;
+		
+		/**
+		 * Petabyte value.
+		 */
+		protected const PETABYTE:Number=9.007199255e+15;
+		
+		/**
+		 * Exabit value.
+		 */
+		protected const EXABIT:Number=1.152921505e+18;
+		
+		/**
+		 * Exabyte value.
+		 */
+		protected const EXABYTE:Number=9.223372037e+18;
+		
+		/** 
+		 * String for quick lookup of a hex character based on index
+		 */
+		private const HEX_CHARACTERS:String="0123456789abcdef";
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():MathUtils
+		{
+			if(!inst) inst=Singleton.gi(MathUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function MathUtils()
+		{
+			Singleton.assertSingle(MathUtils);
+			su=StringUtils.gi();
+		}
+		
+		/**
+		 * Rotates an integer left by &lt;code>n&lt;/code> bits.
+		 * 
+		 * @param x The integer.
+		 * @param n The number of bits to shift left.
+		 */
+		public function rotateLeft(x:int,n:int):int
+		{
+			return (x&lt;&lt;n)|(x>>>(32-n));
+		}
+		
+		/**
+		 * Rotates an integer right by &lt;code>n&lt;/code> bits.
+		 * 
+		 * @param x The integer.
+		 * @param The number of bits to shift right.
+		 */
+		public function rotateRight(x:int,n:int):uint
+		{
+			var nn:int=32 - n;
+			return (x&lt;&lt;nn)|(x>>>(32-nn));
+		}
+
+		/**
+		 * Outputs the (lowercase) hex value of a int, with optional endianness,
+		 *
+		 * @param n The integr value to output as hex.
+		 * @param bigEndian Whether or not to convert in big endian order.
+		 * @return The hex string, not including the 0x.
+		 */
+		public function toHex(n:int,bigEndian:Boolean=false):String 
+		{
+			var s:String="";
+			var i:int=0;
+			var x:int=0;
+			if(bigEndian) for(i;i&lt;4;i++) s += HEX_CHARACTERS.charAt(( n >> ( ( 3 - i ) * 8 + 4 ) ) & 0xF) + HEX_CHARACTERS.charAt(( n >> ( ( 3 - i ) * 8 ) ) & 0xF);
+			else for(x;x&lt;4;x++) s += HEX_CHARACTERS.charAt(( n >> ( x * 8 + 4 ) ) & 0xF) + HEX_CHARACTERS.charAt(( n >> ( x * 8 ) ) & 0xF);			
+			return s;
+		}
+		
+		/**
+		 * Returns the highest value of all passed arguments.
+		 * 
+		 * @param ...args Any list of numbers.
+		 */
+		public function max(...args):Number
+		{
+			return args.sort()[-1];
+		}
+
+		/**
+		 * Returns the lowest value of all passed arguments.
+		 * 
+		 * @param ...args Any list of numbers.
+		 */
+		public function min(...args):Number
+		{
+			return args.sort()[0];
+		}
+		
+		/**
+		 * Returns the floor of a number, with optional decimal precision.
+		 * 
+		 * @param val The number.
+		 * @param decimal How many decimals to include.
+		 */
+		public function floor(val:Number, decimal:Number):Number
+		{
+			var n:Number=Math.pow(10,decimal);
+			return Math.floor(val * n) / n;
+		}	
+
+		/**
+		 * Round to a given amount of decimals.
+		 * 
+		 * @param val The number.
+		 * @param decimal The decimal precision.
+		 */
+		public function round(val:Number, decimal:Number):Number 
+		{
+			return Math.round(val*Math.pow(10,decimal))/Math.pow(10,decimal);
+		}
+
+		/**
+		 * Returns a random number inside a specific range.
+		 * 
+		 * @param start The first number.
+		 * @param end The end number.
+		 */	
+		public function random(start:Number, end:Number):Number 
+		{
+			return Math.round(Math.random()*(end-start))+start;
+		}
+
+		/**
+		 * Clamp constrains a value to the defined numeric boundaries.
+		 * 
+		 * @example
+		 * &lt;listing>		
+		 * utils.math.clamp(20,2,5); //returns 5
+		 * utils.math.clamp(3,2,5); //returns 3
+		 * utils.math.clamp(3,1,5); //returns 3
+		 * utils.math.clamp(1,10,20); //returns 10
+		 * &lt;/listing>
+		 * 
+		 * @param val The number.
+		 * @param min The minumum range.
+		 * @param max The maximum range.
+		 */
+		public function clamp(val:Number,min:Number,max:Number):Number
+		{
+			if(val &lt; min) return min;
+			if(val > max) return max;
+			return val;
+		}
+
+		/**
+		 * Similar to clamp & constrain but allows for &lt;i>limit value wrapping&lt;/i>.
+		 * 
+		 * @param val The number.
+		 * @param min The miniimum range.
+		 * @param max The maximum range.
+		 */
+		public function limit(val:Number, min:Number, max:Number, wrap:Boolean=false):Number
+		{
+			if(!wrap) return clamp(val,min,max);
+			while(val > max) val -= (max - min);
+			while(val &lt; min) val += (max - min);
+			return val;
+		}		
+
+		/**
+		 * Return the distance between two x,y points.
+		 * 
+		 * @param x1 The first x position.
+		 * @param y1 The first y position.
+		 * @param x2 The second x position.
+		 * @param y2 The second y position.
+		 */
+		public function xyDistance(x1:Number,y1:Number,x2:Number,y2:Number):Number
+		{
+			var dx:Number=x1 - x2;
+			var dy:Number=y1 - y2;
+			return Math.sqrt(dx * dx + dy * dy);
+		}		
+
+		/**
+		 * Return the proportional value of two pairs of numbers.
+		 * 
+		 * @param x1 The first x position.
+		 * @param y1 The first y position.
+		 * @param x2 The second x position.
+		 * @param y2 The second y position.
+		 * //TODO
+		 */
+		public function proportion(x1:Number,y1:Number,x2:Number,y2:Number,x:Number=1):Number
+		{
+			var n:Number=(!x) ? 1 : x;
+			var slope:Number=(y2 - y1) / (x2 - x1);
+			return (slope * (n - x1) + y1);
+		}
+
+		/**
+		 * Return a percentage based on the numerator and denominator.
+		 * 
+		 * @param amount The amount.
+		 * @param total The total
+		 * @param percentRange The percentage range that the calculation will scale to.
+		 */
+		public function percent(amount:Number,total:Number,percentRange:int=100):Number
+		{
+			if(total == 0) return 0;
+			return (amount / total * percentRange);
+		}
+
+		/**
+		 * Check if number is positive (zero is positive).
+		 * 
+		 * @param n The number.
+		 */
+		public function isPositive(n:Number):Boolean 
+		{
+			return (n >= 0);
+		}
+
+		/**
+		 * Check if number is negative.
+		 * 
+		 * @param n The number.
+		 */
+		public function isNegative(n:Number):Boolean 
+		{
+			return (n &lt; 0);
+		}	
+
+		/**
+		 * Check if number is odd (convert to Integer if necessary).
+		 * 
+		 * @param n The number.
+		 */
+		public function isOdd(n:Number):Boolean 
+		{
+			var i:Number=new Number(n);
+			var e:Number=new Number(2);
+			return Boolean(i % e);
+		}
+
+		/**
+		 * Check if number is even (convert to Integer if necessary).
+		 * 
+		 * @param n The number.
+		 */
+		public function isEven(n:Number):Boolean 
+		{
+			var int:Number=new Number(n);
+			var e:Number=new Number(2);
+			return (int % e == 0);
+		}
+
+		/**
+		 * Check if number is Prime (divisible only by itself and one).
+		 * 
+		 * @param n The number.
+		 */
+		public function isPrime(n:Number):Boolean 
+		{
+			if (n > 2 && n % 2 == 0) return false;
+			var l:Number=Math.sqrt(n);
+			var i:int=3;
+			for (i;i&lt;=l;i+=2) if(n % i == 0) return false;
+			return true;
+		}
+
+		/**
+		 * Calculate the factorial of the integer.
+		 * 
+		 * @param n The number.
+		 */
+		public function factorial(n:Number):Number 
+		{
+			if(n == 0) return 1;
+			var d:Number=n.valueOf();
+			var i:Number=d - 1;
+			while(i) 
+			{
+				d=d * i;
+				i--;
+			}
+			return d;
+		}
+
+		/**
+		 * Return an array of divisors of the integer.
+		 * 
+		 * @param n The number.
+		 */
+		public function getDivisors(n:Number):Array 
+		{
+			var r:Array=new Array();
+			for(var i:Number=1, e:Number=n / 2;i &lt;= e; i++) if (n % i == 0) r.push(i);
+			if (n != 0) r.push(n.valueOf());
+			return r;
+		}
+
+		/**
+		 * Check if number is an Integer.
+		 * 
+		 * @param n The number.
+		 */
+		public function isInteger(n:Number):Boolean 
+		{
+			return (n % 1 == 0);
+		}
+
+		/**
+		 * Check if number is Natural (positive Integer).
+		 * 
+		 * @param n The number.
+		 */
+		public function isNatural(n:Number):Boolean 
+		{
+			return (n >= 0 && n % 1 == 0);
+		}
+
+		/**
+		 * Correct "roundoff errors" in floating point math.
+		 * 
+		 * @param n The number.
+		 * @param precision The floating point precision.
+		 */
+		public function sanitizeFloat(n:Number, precision:uint=5):Number 
+		{
+			var c:Number=Math.pow(10,precision);
+			return Math.round(c*n)/c;
+		}
+
+		/**
+		 * Evaluate if two numbers are nearly equal.
+		 * 
+		 * @param n1 The first number.
+		 * @param n2 The second number.
+		 */
+		public function fuzzyEval(n1:Number, n2:Number, precision:int=5):Boolean
+		{
+			var d:Number=n1 - n2;
+			var r:Number=Math.pow(10,-precision);
+			return d &lt; r && d > -r;
+		}
+
+		/**
+		 * Returns a random float.
+		 * @example
+		 * &lt;listing>	
+		 * math.utils.randFloat(50); //returns a number between 0-50 exclusive
+		 * math.utils.randFloat(20,50); //returns a number between 20-50 exclusive
+		 * &lt;/listing>
+		 */
+		public function randFloat(min:Number,max:Number=NaN):Number 
+		{
+			if(isNaN(max)) 
+			{ 
+				max=min; 
+				min=0; 
+			}
+			return Math.random()*(max-min)+min;
+		}
+
+		/**
+		 * Return a "tilted" random Boolean value.
+		 * 
+		 * @example	
+		 * &lt;listing>	
+		 * math.utils.boolean(); //returns 50% chance of true.
+		 * math.utils.boolean(.75); //returns 75% chance of true.
+		 * &lt;/listing>
+		 * 
+		 * @param chance The percentage chance that the return value will be true.
+		 */
+		public function randBool(chance:Number=0.5):Boolean
+		{
+			return (Math.random()&lt;chance);
+		}
+
+		/**
+		 * Return a "tilted" value of 1 or -1.
+		 * 
+		 * @example
+		 * &lt;listing>	
+		 * math.utils.sign(); //returns 50% chance of 1.
+		 * math.utils.sign(.75); //returns 75% chance of 1.
+		 * &lt;/listing>
+		 * 
+		 * @param chance The percentage chance that the return value will be true.
+		 */		
+		public function sign(chance:Number=0.5):int 
+		{
+			return (Math.random()&lt;chance)?1:-1;
+		}
+
+		/**
+		 * Return a "tilted" value of 1 or 0.
+		 * 
+		 * @example
+		 * &lt;listing>	
+		 * math.utils.bit(); //returns 50% chance of 1.
+		 * math.utils.bit(.75); //returns 75% chance of 1.
+		 * &lt;/listing>
+		 * 
+		 * @param chance The percentage chance that the return value will be true.
+		 */
+		public function randBit(chance:Number=0.5):int
+		{
+			return (Math.random()&lt;chance)?1:0;
+		}
+
+		/**
+		 * Return a random integer.
+		 * 
+		 * @example
+		 * &lt;listing>	
+		 * math.utils.integer(25); //returns an integer between 0-24 inclusive.
+		 * math.utils.integer(10,25); //returns an integer between 10-24 inclusive.
+		 * &lt;/listing>
+		 * 
+		 * @param min The minumum.
+		 * @param max The max.
+		 */
+		public function randInteger(min:Number,max:Number=NaN):int 
+		{
+			if(isNaN(max)) 
+			{ 
+				max=min; 
+				min=0; 
+			}
+			return Math.floor(randFloat(min,max));
+		}
+		
+		
+		/**
+		 * Check if a number is in range.
+		 * 
+		 * @param n The number.
+		 * @param min The minimum number.
+		 * @param max The maximum number.
+		 * @param blacklist An array of numbers that cannot be considered in range.
+		 */
+		public function isInRange(n:Number,min:Number,max:Number,blacklist:Array=null):Boolean 
+		{
+			if(!blacklist || blacklist.length &lt; 1) return (n >= min && n &lt;= max);
+			if(blacklist.length > 0)
+			{
+				for(var i:String in blacklist) if(n == blacklist[i]) return false;
+			}
+			return false;
+		}	
+
+		/**
+		 * Returns a set of random numbers inside a specific range, optionally unique numbers only.
+		 * 
+		 * @param min The minimum number.
+		 * @param max The maximum number.
+		 * @param count How many mubers to generate.
+		 * @param unique Whether or not the numbers generated must be unique.
+		 */
+		public function randRangeSet(min:Number, max:Number, count:Number, unique:Boolean):Array 
+		{
+			var rnds:Array=new Array();
+			var i:int=0;
+			if(unique && count &lt;= (max-min)+1) 
+			{
+				var nums:Array=new Array();
+				i=min;
+				for(i;i&lt;=max;i++)nums.push(i);
+				i=1;
+				for(i;i&lt;=count;i++) 
+				{
+					var rn:Number=Math.floor(Math.random() * nums.length);
+					rnds.push(nums[rn]);
+					nums.splice(rn,1);
+				}
+			}
+			else 
+			{
+				i=1;
+				for (i;i&lt;=count;i++) rnds.push(randRangeInt(min,max));
+			}
+			return rnds;
+		}
+
+		/**
+		 * Returns a random float number within a given range.
+		 * 
+		 * @param min The minimum number.
+		 * @param max The maxmimum number.
+		 */
+		public function randRangeFloat(min:Number, max:Number):Number 
+		{
+			return Math.random()*(max-min)+min;
+		}
+
+		/**
+		 * Returns a random integer number within a given range.
+		 * 
+		 * @param n The minumum number.
+		 * @param max The maximum number.
+		 */
+		public function randRangeInt(min:Number, max:Number):int 
+		{
+			return int(Math.floor(Math.random()*(max-min+1)+min));
+		}		
+
+		/**
+		 * @private
+		 * 
+		 * Resolve the number inside the range - if outside the range the
+		 * nearest boundary value will be returned.
+		 * 
+		 * @param val The number.
+		 * @param min The minimum allowed.
+		 * @param max The maximum allowed.
+		 */
+		public function resolve(val:Number, min:Number, max:Number):Number
+		{
+			return Math.max(Math.min(val,max),min);	
+		}
+
+		/**
+		 * Locate and return the middle value between the three.
+		 * 
+		 * @param a The first number.
+		 * @param b The second number.
+		 * @param c The second number.
+		 */
+		public function center(a:Number, b:Number, c:Number):Number 
+		{
+			if((a > b) && (a > c))
+			{
+				if (b > c) return b; 
+				else return c;
+			}
+			else if ((b > a) && (b > c)) 
+			{
+				if (a > c) return a;
+				else return c;
+			}
+			else if (a > b) return a;
+			else return b;
+		}
+		
+		/**
+		 * Convert angle to radian.
+		 * 
+		 * a The angle.
+		 */
+		public function angle2radian(a:Number):Number
+		{
+			return resolveAngle(a) * Math.PI / 180;
+		}
+
+		/**
+		 * Convert radian to angle.
+		 * 
+		 * @param t The radian.
+		 */
+		public function radian2angle(r:Number):Number 
+		{
+			return resolveAngle(r * 180 / Math.PI);
+		}
+
+		/**
+		 * Will always give back a positive angle between 0 and 360
+		 * 
+		 * @param a The angle.
+		 */
+		public function resolveAngle(a:Number):Number 
+		{
+			var mod:Number=a % 360;
+			return (mod &lt; 0) ? 360 + mod : mod;
+		}
+
+		/**
+		 * Get the angle from two points.
+		 * 
+		 * @param p1 The first point.
+		 * @param p2 The second point.
+		 */
+		public function getAngle(p1:Point,p2:Point):Number 
+		{
+			var r:Number=Math.atan2(p2.y - p1.y,p2.x - p1.x);
+			return radian2angle(r);
+		}
+
+		/**
+		 * Get the radian from two points.
+		 * 
+		 * @param p1 The first point.
+		 * @param p2 The second point.
+		 */
+		public function getRadian(p1:Point, p2:Point):Number 
+		{
+			return angle2radian(getAngle(p1,p2));
+		}
+
+		/**
+		 * Get the distance between two points.
+		 * 
+		 * @param p1 The first point.
+		 * @param p2 The secoind point.
+		 */
+		public function pointDistance(p1:Point, p2:Point):Number
+		{
+			var xd:Number=p1.x - p2.x;
+			var yd:Number=p1.y - p2.y;
+			return Math.sqrt(xd * xd + yd * yd);
+		}
+		
+		/**
+		 * Get z distance between two Point3D instances.
+		 * 
+		 * @param p1 The first point 3d.
+		 * @param p2 The second point 3d.
+		 */
+		public function getZDistance(p1:Point3D, p2:Point3D):Number 
+		{
+			return  p1.z - p2.z;
+		}
+
+		/**
+		 * Get new point based on distance and angle from a given point.
+		 * 
+		 * @param centerPoint The center point.
+		 * @param dist The distance from the center point.
+		 * @param angle The angle from the center point.
+		 */
+		public function getPointFromDistanceAndAngle(centerPoint:Point, dist:Number, angle:Number):Point 
+		{
+			var rad:Number=angle2radian(angle);
+			return new Point(round(centerPoint.x + Math.cos(rad) * dist,3),round(centerPoint.y + Math.sin(rad) * dist,3));
+		}
+		
+		/**
+		 * Convert an integer to binary string representation.
+		 * 
+		 * @param n The integer to convert.
+		 */
+		public function toBinary(n:int):String
+		{
+			var result:String="";
+			for(var i:Number=0;i &lt; 32; i++)
+			{
+				var lsb:int=n & 1;
+				result=(lsb?"1":"0") + result;
+				n >>= 1;
+			}
+			return result;
+		}
+		
+		/**
+		 * Convert a binary string (000001010) to an integer.
+		 * 
+		 * @param binaryString The string to convert.
+		 */
+		public function toDecimal(binaryString:String):int 
+		{
+			var result:Number=0;
+			for(var i:int=binaryString.length;i > 0; i--) result += parseInt(binaryString.charAt(binaryString.length - i))*Math.pow(2,i-1);
+			return result;
+		}
+		
+		/**
+		 * Convert Fahrenheit to Celsius.
+		 * 
+		 * @param f The fahrenheit value.
+		 * @param p The number of decimals.
+		 */
+		public function toCelsius(f:Number,p:Number=2):Number 
+		{
+			var d:String;
+			var r:Number=(5 / 9) * (f - 32);
+			var s:Array=r.toString().split(".");
+			if (s[1] != undefined) d=s[1].substr(0,p);
+			else 
+			{
+				var i:Number=p;
+				while (i > 0) 
+				{
+					d += "0";
+					i--;
+				}
+			}
+			var c:String=s[0] + "." + d;
+			return Number(c);
+		}
+
+		/**
+		 * Convert Celsius to Fahrenheit.
+		 * 
+		 * @param c The celsius value.
+		 * @param p The number of decimals.
+		 */
+		public function toFahrenheit(c:Number, p:Number=2):Number 
+		{
+			var d:String;
+			var r:Number=(c / (5 / 9)) + 32;
+			var s:Array=r.toString().split(".");
+			if (s[1] != undefined) d=s[1].substr(0,p);
+			else 
+			{
+				var i:Number=p;
+				while (i > 0) 
+				{
+					d += "0";
+					i--;
+				}
+			}
+			var f:String=s[0] + "." + d;
+			return Number(f);		
+		}
+		
+		/**
+		 * Parse xml string boolean values into native booleans
+		 * - supports (true,false,0,1,yes,no,on,off).
+		 * 
+		 * @param value The string value from XML.
+		 */
+		public function parseXMLAsType(value:String):*
+		{
+			var v:String=value.toLowerCase();
+			if(!isNaN(Number(value))) return Number(value);
+			if(v == "true" || v == "false" || v == "0" || v == "1" || v == "yes" || v == "no" || v == "on" || v == "off") return su.toBoolean(value);
+			if(v == "null") return null;
+			return value;
+		}
+		
+		/**
+		 * Spreads a current value and it's total possible value,
+		 * over a value that is mapped to another property, like width,
+		 * height, etc.
+		 * 
+		 * &lt;p>This is probably most commonly used
+		 * for bytes loaded/total, or video time.&lt;/p>
+		 * 
+		 * @example
+		 * &lt;listing>	
+		 * var current:Number=14;
+		 * var total:Number=60;
+		 * var myBar:MovieClip=new MovieClip();
+		 * //spreads the value across 300 pixels, and gives you a value you can use for width;
+		 * myBar.width=utils.math.spread(current,total,300); //returns 70
+		 * &lt;/listing>
+		 * 
+		 * @param current The current value.
+		 * @param total The total possible value.
+		 * @param spreadInto The total of another property that should be spread over.
+		 */
+		public function spread(current:Number,total:Number,spreadInto:int):Number
+		{
+			return Math.ceil(Math.min((current/total)*spreadInto,spreadInto));
+		}
+		
+		/**
+		 * Convert bytes to mega bytes
+		 * 
+		 * @param n The number.
+		 */
+		public function byte2Megabyte(n:Number):Number
+		{
+			return n / MEGABIT;
+		}
+		
+		/**
+		 * Convert bytes to killo bytes.
+		 * 
+		 * @param n The number.
+		 */
+		public function byte2Kilobyte(n:Number):Number
+		{
+			return n / KILOBIT;
+		}
+
+		/**
+		 * Convert bytes to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function byte2bit(n:Number):Number
+		{
+			return n * BYTE;
+		}
+		
+		/**
+		 * Convert kilobits to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function kilobit2bit(n:Number):Number 
+		{
+			return n * KILOBIT;
+		}
+
+		/**
+		 * Convert kilobytes to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function kilobyte2bit(n:Number):Number 
+		{
+			return n * KILOBYTE;	
+		}
+		
+		/**
+		 * Convert megabits to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function megabit2bit(n:Number):Number 
+		{
+			return n * MEGABIT;
+		}
+		
+		/**
+		 * Convert megabytes to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function megabyte2bit(n:Number):Number 
+		{
+			return n * MEGABYTE;
+		}			
+		
+		/**
+		 * Convert gigabit to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function gigabit2bit(n:Number):Number 
+		{
+			return n * GIGABIT;
+		}
+		
+		/**
+		 * Convert gigabytes to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function gigabyte2bit(n:Number):Number
+		{
+			return n * GIGABYTE;
+		}
+		
+		/**
+		 * Convert terabits to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function terabit2bit(n:Number):Number 
+		{
+			return n * TERABIT;	
+		}
+
+		/**
+		 * Convert terabytes to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function terabyte2bit(n:Number):Number 
+		{
+			return n * TERABYTE;
+		}
+		
+		/**
+		 * Convert petabits to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function petaabit2bit(n:Number):Number 
+		{
+			return n * PETABIT;	
+		}
+		
+		/**
+		 * Convert petabyte to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function petabyte2bit(n:Number):Number 
+		{
+			return n * PETABYTE;
+		}
+
+		/**
+		 * Convert exabits to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function exabit2bit(n:Number):Number 
+		{
+			return n * EXABIT;	
+		}
+
+		/**
+		 * Convert exabytes to bits.
+		 * 
+		 * @param n The number.
+		 */
+		public function exabyte2bit(n:Number):Number 
+		{
+			return n * EXABYTE;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/MouseUtils.as b/src/as/net/guttershark/util/MouseUtils.as
new file mode 100755
index 0000000..adcceac
--- /dev/null
+++ b/src/as/net/guttershark/util/MouseUtils.as
@@ -0,0 +1,52 @@
+package net.guttershark.util
+{
+	import flash.display.DisplayObject;
+	import flash.geom.Rectangle;
+	
+	import net.guttershark.util.Singleton;		
+
+	/**
+	 * The MouseUtils class has utility methods for working with mouse positions.
+	 */
+	final public class MouseUtils
+	{
+		
+		/**
+		 * singleton instance.
+		 */
+		private static var inst:MouseUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():MouseUtils
+		{
+			if(!inst) inst=Singleton.gi(MouseUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function MouseUtils()
+		{
+			Singleton.assertSingle(MouseUtils);
+		}
+
+		/**
+		 * Check to see if the mouse is within the bounds of a rectangle.
+		 * 
+		 * @param scope The scope of mouse coordinates to use.
+		 * @param rectangle The bounds in wich to check the mouse position against.
+		 */
+		public function inRectangle(scope:DisplayObject, rectangle:Rectangle):Boolean
+		{
+			if(!scope) throw new ArgumentError("Parameter scope cannot be null.");
+			if(!rectangle) throw new ArgumentError("Parameter rectangle cannot be null");
+			var ym:Number=scope.mouseY;
+			var xm:Number=scope.mouseX;
+			if(xm > rectangle.x && xm &lt; rectangle.right && ym > rectangle.y && ym &lt; rectangle.bottom) return true;
+			return false;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/ObjectUtils.as b/src/as/net/guttershark/util/ObjectUtils.as
new file mode 100644
index 0000000..4dbbe82
--- /dev/null
+++ b/src/as/net/guttershark/util/ObjectUtils.as
@@ -0,0 +1,58 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.Singleton;	
+
+	import flash.utils.ByteArray;	
+	
+	/**
+	 * The ObjectUtils class has utility methods for working with objects.
+	 */
+	final public class ObjectUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:ObjectUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():ObjectUtils
+		{
+			if(!inst) inst=Singleton.gi(ObjectUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function ObjectUtils()
+		{
+			Singleton.assertSingle(ObjectUtils);
+		}
+
+		/**
+		 * Clone an object instance.
+		 * 
+		 * @example Cloning a generic object:
+		 * &lt;listing>	
+		 * var utils:Utilities=Utilities.gi();
+		 * var myObj:Object=new Object();
+		 * myObj.message="hello world";
+		 * var myCopy:Object=utils.object.clone(myObj);
+		 * trace(myCopy.message);
+		 * &lt;/listing>
+		 * 
+		 * @param object The object to clone.
+		 */
+		public function clone(object:*):*
+		{
+			if(!object) throw new ArgumentError("Parameter object cannot be null");
+			var byteArray:ByteArray=new ByteArray();
+			byteArray.writeObject(object);
+			byteArray.position=0;
+			return byteArray.readObject();
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/PlayerUtils.as b/src/as/net/guttershark/util/PlayerUtils.as
new file mode 100644
index 0000000..aa42051
--- /dev/null
+++ b/src/as/net/guttershark/util/PlayerUtils.as
@@ -0,0 +1,157 @@
+package net.guttershark.util
+{
+	import flash.system.Capabilities;
+	import flash.system.System;		
+	
+	/**
+	 * The PlayerUtils class provides static shortcut methods for finding
+	 * things about the currently running player.
+	 */
+	final public class PlayerUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:PlayerUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():PlayerUtils
+		{
+			if(!inst) inst=Singleton.gi(PlayerUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function PlayerUtils()
+		{
+			Singleton.assertSingle(PlayerUtils);
+		}
+		
+		/**
+		 * Retrieve the FlashPlayer Version the application is running under.
+		 */
+		public const FLASHPLAYER_VERSION:String=Capabilities.version;
+		
+		/**
+		 * Retrieve the ActionScript Virtual Machine Version the application is running under.
+		 */
+		public const AVM_VERSION:String=System.vmVersion;
+		
+		/**
+		 * Retrieve the FlashPlayers Localized Language Code.
+		 * 
+		 * &lt;p>e.g. &lt;code>cs,da,nl,en,fi,fr,de,hu,it,ja,ko,no,xu,pl,pt,ru,zh-CN,es,sv,zh-TW,tr&lt;/code>&lt;/p>.
+		 */
+		public const LANGUAGE:String=Capabilities.language;
+		
+		/**
+		 * Check whether or not the current player is running on a pc.
+		 */
+		public function isPC():Boolean
+		{
+			var v:String=String(Capabilities.version).toLowerCase();
+			return (v.indexOf("win")>-1);
+		}
+
+		/**
+		 * Check whether or not the current player is running on a mac.
+		 */
+		public function isMac():Boolean
+		{
+			var v:String=String(Capabilities.version).toLowerCase();
+			return (v.indexOf("mac")>-1);
+		}	
+		
+		/**
+		 * Check whether or not the current player is running on linux.
+		 */
+		public function isLinux():Boolean
+		{
+			var v:String=String(Capabilities.version).toLowerCase();
+			return (v.indexOf("linux")>-1);
+		}
+		
+		/**
+		 * If the flash player is the external player.
+		 */
+		public function isIDEPlayer():Boolean
+		{
+			if(Capabilities.playerType=="External") return true;
+			return false;
+		}
+		
+		/**
+		 * When run as a standlone (projector, or flex builder)
+		 */
+		public function isStandAlonePlayer():Boolean
+		{
+			if(Capabilities.playerType=="StandAlone") return true;
+			return false;
+		}
+		
+		/**
+		 * IF the player is the active x player.
+		 */ 
+		public function isActiveX():Boolean
+		{
+			if(Capabilities.playerType=="ActiveX")return true;
+			return false;
+		}
+		
+		/**
+		 * If the player is just a regular plugin.
+		 */
+		public function isPlugIn():Boolean
+		{
+			if(Capabilities.playerType=="PlugIn")return true;
+			return false;
+		}
+		
+		/**
+		 * Get the version of the flash player.
+		 */
+		public function versionOfPlayer():String
+		{
+			return Capabilities.version;
+		}
+		
+		/**
+		 * Check whether or not the current player supports fullscreen.
+		 */
+		public function hasFullscreenMode():Boolean
+		{
+			var v:Array=Capabilities.version.split(" ")[1].split(",");
+			var major:Number=Number(v[0]);
+			var minor:Number=Number(v[1]);
+			var sub : Number=Number(v[2]);
+			if(major > 9) return true;
+			else if (major &lt; 9) return false;
+			if ((minor == 0 && sub >= 28) || minor > 0) return true;
+			else return false;
+		}
+		
+		/**
+		 * Is the current player the debugger.
+		 */
+		public function isDebugger():Boolean
+		{
+			return Capabilities.isDebugger;
+		}
+		
+		/**
+		 * Whether or not the current player is >= a major version.
+		 * 
+		 * @param version The major version to test for (9,8,7,etc);
+		 */
+		public function isMajorVersionOrBetter(version:Number):Boolean
+		{
+			if(Number(Capabilities.version.split(" ")[1].split(",")[0]) >= version) return true;
+			return false;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/Profiler.as b/src/as/net/guttershark/util/Profiler.as
new file mode 100644
index 0000000..c9eedc9
--- /dev/null
+++ b/src/as/net/guttershark/util/Profiler.as
@@ -0,0 +1,337 @@
+package net.guttershark.util
+{
+	import flash.display.*;
+	import flash.events.*;
+	import flash.net.LocalConnection;
+	import flash.system.System;
+	import flash.ui.*;
+	import flash.utils.getTimer;	
+	
+	/**
+	 * The Profiler class is a generic graph utility
+	 * the displays memory, and frames per second
+	 * statistics.
+	 * 
+	 * &lt;p>If you're using the DocumentController, you
+	 * can enable the Profiler by setting the "embeddedProfiler"
+	 * flashvar to true. Which enables the "Show Profiler"
+	 * context menu item for the stage.&lt;/p>
+	 * 
+	 * &lt;p>This was originally written by Shane McCartney
+	 * from lostinactionscript.com&lt;/p>
+	 */
+	public class Profiler
+	{
+		
+		public static var minFps:Number;
+		public static var maxFps:Number;
+		public static var minMem:Number;
+		public static var maxMem:Number;
+		public static var history:int;
+		public static var fpsList:Array;
+		public static var memList:Array;
+		private static var itvTime:int;
+		private static var initTime:int;
+		private static var currentTime:int;
+		private static var frameCount:int;
+		private static var totalCount:int;
+		private static var displayed:Boolean;
+		private static var started:Boolean;
+		private static var inited:Boolean;
+		private static var frame:Sprite;
+		private static var stage:Stage;
+		private static var content:ProfilerContent;
+		private static var ci:ContextMenuItem;
+		
+		/**
+		 * Initialize the profiler.
+		 * 
+		 * @param swf The swf stage.
+		 * @param context The context in which to draw the graphs.
+		 */
+		public static function init(swf:Stage,context:InteractiveObject):void 
+		{
+			if(inited)return;
+			inited=true;
+			stage=swf;
+			content=new ProfilerContent();
+			frame=new Sprite();
+			history=60;
+			minFps=Number.MAX_VALUE;
+			maxFps=Number.MIN_VALUE;
+			minMem=Number.MAX_VALUE;
+			maxMem=Number.MIN_VALUE;
+			fpsList=[];
+			memList=[];
+			var cm:ContextMenu=new ContextMenu();
+			cm.hideBuiltInItems();
+			ci=new ContextMenuItem("Show Profiler",true);
+			addEvent(ci,ContextMenuEvent.MENU_ITEM_SELECT,onSelect);
+			cm.customItems=[ci];
+			context.contextMenu=cm;
+			start();
+		}
+		
+		/**
+		 * Start graphing.
+		 */
+		public static function start():void 
+		{
+			if(started)return;
+			started=true;
+			initTime=itvTime=getTimer();
+			totalCount=frameCount=0;
+			addEvent(frame,Event.ENTER_FRAME,draw);
+		}
+		
+		/**
+		 * Stop graphing.
+		 */
+		public static function stop():void 
+		{
+			if(!started)return;
+			started=false;
+			removeEvent(frame,Event.ENTER_FRAME,draw);
+		}
+		
+		/**
+		 * The current frames per second.
+		 */
+		public static function get currentFps():Number 
+		{
+			return frameCount / intervalTime;
+		}
+		
+		/**
+		 * The current memory.
+		 */
+		public static function get currentMem():Number 
+		{
+			return (System.totalMemory / 1024) / 1000;
+		}
+		
+		/**
+		 * The current averate frames per second.
+		 */
+		public static function get averageFps():Number 
+		{
+			return totalCount / runningTime;
+		}
+		
+		private static function get runningTime():Number 
+		{
+			return (currentTime - initTime) / 1000;
+		}
+		
+		private static function get intervalTime():Number 
+		{
+			return (currentTime - itvTime) / 1000;
+		}
+
+		private static function onSelect(e:ContextMenuEvent):void 
+		{
+			if(!displayed)show();
+			else hide();
+		}
+		
+		public static function show():void 
+		{
+			ci.caption="Hide Profiler";
+			displayed=true;
+			addEvent(stage,Event.RESIZE,resize);
+			stage.addChild(content);
+			updateDisplay();
+		}
+		
+		public static function hide():void 
+		{
+			ci.caption="Show Profiler";
+			displayed=false;
+			removeEvent(stage,Event.RESIZE,resize);
+			stage.removeChild(content);
+		}
+		
+		private static function resize(e:Event):void 
+		{
+			content.update(runningTime,minFps,maxFps,minMem,maxMem,currentFps,currentMem,averageFps,fpsList,memList,history);
+		}
+		
+		private static function draw(e:Event):void 
+		{
+			currentTime=getTimer();
+			frameCount++;
+			totalCount++;
+			if(intervalTime >= 1) 
+			{
+				if(displayed)updateDisplay();
+				else updateMinMax();
+				fpsList.unshift(currentFps);
+				memList.unshift(currentMem);
+				if(fpsList.length > history) fpsList.pop();
+				if(memList.length > history) memList.pop();
+				itvTime=currentTime;
+				frameCount=0;
+			}
+		}
+		
+		private static function updateDisplay():void 
+		{
+			updateMinMax();
+			content.update(runningTime,minFps,maxFps,minMem,maxMem,currentFps,currentMem,averageFps,fpsList,memList,history);
+		}
+		
+		private static function updateMinMax():void 
+		{
+			minFps=Math.min(currentFps,minFps);
+			maxFps=Math.max(currentFps,maxFps);
+			minMem=Math.min(currentMem,minMem);
+			maxMem=Math.max(currentMem,maxMem);
+		}
+
+		private static function addEvent(item:EventDispatcher, type:String, listener:Function):void 
+		{
+			item.addEventListener(type,listener,false,0,true);
+		}
+
+		private static function removeEvent(item:EventDispatcher, type:String, listener:Function):void 
+		{
+			item.removeEventListener(type,listener);
+		}
+	}
+}
+
+import flash.display.*;
+import flash.events.Event;
+import flash.text.*;
+
+internal class ProfilerContent extends Sprite 
+{
+
+	private var minFpsTxtBx:TextField;
+	private var maxFpsTxtBx:TextField;
+	private var minMemTxtBx:TextField;
+	private var maxMemTxtBx:TextField;
+	private var infoTxtBx:TextField;
+	private var box:Shape;
+	private var fps:Shape;
+	private var mb:Shape;
+	
+	public function ProfilerContent():void 
+	{
+		fps=new Shape();
+		mb=new Shape();
+		box=new Shape();
+		this.mouseChildren=false;
+		this.mouseEnabled=false;
+		fps.x=65;
+		fps.y=45;	
+		mb.x=65;
+		mb.y=90;
+		var tf:TextFormat=new TextFormat("_sans",9,0xAAAAAA);
+		infoTxtBx=new TextField();
+		infoTxtBx.autoSize=TextFieldAutoSize.LEFT;
+		infoTxtBx.defaultTextFormat=new TextFormat("_sans",11,0xCCCCCC);
+		infoTxtBx.y=98;
+		minFpsTxtBx=new TextField();
+		minFpsTxtBx.autoSize=TextFieldAutoSize.LEFT;
+		minFpsTxtBx.defaultTextFormat=tf;
+		minFpsTxtBx.x=7;
+		minFpsTxtBx.y=37;
+		maxFpsTxtBx=new TextField();
+		maxFpsTxtBx.autoSize=TextFieldAutoSize.LEFT;
+		maxFpsTxtBx.defaultTextFormat=tf;
+		maxFpsTxtBx.x=7;
+		maxFpsTxtBx.y=5;
+		minMemTxtBx=new TextField();
+		minMemTxtBx.autoSize=TextFieldAutoSize.LEFT;
+		minMemTxtBx.defaultTextFormat=tf;
+		minMemTxtBx.x=7;
+		minMemTxtBx.y=83;
+		maxMemTxtBx=new TextField();
+		maxMemTxtBx.autoSize=TextFieldAutoSize.LEFT;
+		maxMemTxtBx.defaultTextFormat=tf;
+		maxMemTxtBx.x=7;
+		maxMemTxtBx.y=50;
+		addChild(box);
+		addChild(infoTxtBx);
+		addChild(minFpsTxtBx);
+		addChild(maxFpsTxtBx);
+		addChild(minMemTxtBx);
+		addChild(maxMemTxtBx);
+		addChild(fps);
+		addChild(mb);
+		this.addEventListener(Event.ADDED_TO_STAGE,added,false,0,true);
+		this.addEventListener(Event.REMOVED_FROM_STAGE,removed,false,0,true);
+	}
+	
+	public function update(runningTime:Number, minFps:Number, maxFps:Number, minMem:Number, maxMem:Number, currentFps:Number, currentMem:Number, averageFps:Number, fpsList:Array, memList:Array, history:int):void 
+	{
+		if(runningTime>=1) 
+		{
+			minFpsTxtBx.text=minFps.toFixed(3) + " FPS";
+			maxFpsTxtBx.text=maxFps.toFixed(3) + " FPS";
+			minMemTxtBx.text=minMem.toFixed(3) + " MB";
+			maxMemTxtBx.text=maxMem.toFixed(3) + " MB";
+		}
+		infoTxtBx.text="current fps: "+currentFps.toFixed(3)+"  |  average fps: "+averageFps.toFixed(3)+"  |  memory used: "+currentMem.toFixed(3)+" mb";
+		infoTxtBx.x=stage.stageWidth-infoTxtBx.width-20;
+		var vec:Graphics=fps.graphics;
+		vec.clear();
+		vec.lineStyle(1,0x00CCFF,0.7);
+		var i:int=0;
+		var len:int=fpsList.length;
+		var height:int=35;
+		var width:int=stage.stageWidth-80;
+		var inc:Number=width/(history-1);
+		var rateRange:Number=maxFps - minFps;
+		var value:Number;
+		for(i=0;i&lt;len;i++) 
+		{
+			value=(fpsList[i]-minFps)/rateRange;
+			if(i==0)vec.moveTo(0,-value*height);
+			else vec.lineTo(i*inc,-value*height);
+		}
+		vec=mb.graphics;
+		vec.clear();
+		vec.lineStyle(1,0xFF0066,0.7);
+		i=0;
+		len=memList.length;
+		rateRange=maxMem-minMem;
+		for(i=0;i&lt;len;i++) 
+		{
+			value=(memList[i]-minMem)/rateRange;
+			if(i==0)vec.moveTo(0,-value*height);
+			else vec.lineTo(i*inc,-value*height);
+		}
+	}
+
+	private function added(e:Event):void 
+	{
+		resize();
+		stage.addEventListener(Event.RESIZE,resize,false,0,true);
+	}
+
+	private function removed(e:Event):void 
+	{
+		stage.removeEventListener(Event.RESIZE,resize);
+	}
+
+	private function resize(e:Event=null):void 
+	{
+		var vec:Graphics=box.graphics;
+		vec.clear();
+		vec.beginFill(0x000000,0.5);
+		vec.drawRect(0,0,stage.stageWidth,120);
+		vec.lineStyle(1,0xFFFFFF,0.2);
+		vec.moveTo(65,45);
+		vec.lineTo(65,10);
+		vec.moveTo(65,45);
+		vec.lineTo(stage.stageWidth - 15,45);
+		vec.moveTo(65,90);
+		vec.lineTo(65,55);
+		vec.moveTo(65,90);
+		vec.lineTo(stage.stageWidth - 15,90);
+		vec.endFill();
+		infoTxtBx.x=stage.stageWidth - infoTxtBx.width - 20;
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/QueryString.as b/src/as/net/guttershark/util/QueryString.as
new file mode 100644
index 0000000..274fe5d
--- /dev/null
+++ b/src/as/net/guttershark/util/QueryString.as
@@ -0,0 +1,111 @@
+package net.guttershark.util
+{
+	import flash.external.*;
+	import flash.system.Capabilities;
+	import flash.utils.Dictionary;
+	import flash.utils.Proxy;
+	import flash.utils.flash_proxy;		
+
+	/**
+	 * The QueryString class is used for reading query string parameters
+	 * in the web browsers address bar. This class will only work when flash
+	 * is embedded in a browser.
+	 * 
+	 * &lt;p>The QueryString class uses the flash_proxy namespace to override
+	 * the getProperty method call. Which allows you to dynamically access any property
+	 * defined in the query string without any complaint. Properties that are
+	 * in the query string are read only&lt;/p>
+	 * 
+	 * @example Using the QueryString class when the swf is in a browser:
+	 * &lt;listing>	
+	 * var qs:QueryString=new QueryString();
+	 * trace(qs.myQueryStringVariable);
+	 * trace(qs.section);
+	 * trace(qs.videoID);
+	 * &lt;/listing>
+	 * 
+	 * @example Using the QueryString class outside of a browser:
+	 * &lt;listing>	
+	 * var qs:QueryString=new QueryString();
+	 * var fakeQS:Dictionary=new Dictionary();
+	 * fakeQS['videoID']=100;
+	 * qs.querystringData=fakeQS;
+	 * trace(qs.videoID);
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>In the above example, the &lt;code>myQueryStringVariable&lt;/code> correlates
+	 * directly to a query string variable. If that variable is present in the
+	 * address bar, you will get that value, if it is not present, you will
+	 * receive &lt;code>null&lt;/code>.&lt;/p>
+	 */
+	dynamic public class QueryString extends Proxy
+	{
+
+		private var paramsCache:Dictionary;
+		private var read:Object;
+		
+		/**
+		 * Read all parameters. Returns an associative array with each parameters.
+		 * Parameters are cached after 1 execution. You can force a re-read.
+		 * 
+		 * &lt;p>&lt;strong>This method will return &lt;code>null&lt;/code> if you are running the flash file as a
+		 * standalone, or in the Flash IDE.&lt;/strong>&lt;/p>
+		 */
+		private function readParams():void
+		{
+			var _params:Dictionary=new Dictionary(true);
+			var _queryString:String;
+			if(Capabilities.playerType == "Standalone" || Capabilities.playerType == "External") return;
+			_queryString=ExternalInterface.call("window.location.search.substring", 1);
+			if(_queryString)
+			{
+				var params:Array=_queryString.split('&');
+				var length:uint=params.length;
+				for(var i:uint=0, index:int=-1; i &lt; length; i++)
+				{
+					var kvPair:String=params[i];
+					if((index=kvPair.indexOf("=")) > 0)
+					{
+						var key:String=kvPair.substring(0,index);
+						var value:String=kvPair.substring(index+1);
+						_params[key]=value;
+					}
+				}
+			}			
+			paramsCache=_params;
+		}
+		
+		/**
+		 * Allows you to set the query string data. This is avaiable
+		 * for situations when you are testing an application in the Flash IDE,
+		 * but still need to rely on query string parameters. You can provide
+		 * a hardcoded query string dictionary so that this class won't break
+		 * your work, or cause you to have to treat logic differently just to
+		 * work in the IDE.
+		 */
+		public function set querystringData(data:Dictionary):void
+		{
+			if(!data) throw new ArgumentError("Parameter data cannot be null");
+			paramsCache=data;
+		}
+		
+		/**
+		 * Read a property from deeplink data.
+		 */
+		flash_proxy override function getProperty(name:*):*
+		{
+			if(!read) readParams();
+			if(paramsCache[name]) return paramsCache[name];
+			else return null;
+		}
+		
+		/**
+		 * Dispose of the internally cached query string parameters.
+		 */
+		public function dispose():void
+		{
+			paramsCache=null;
+			read=false;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/ScopeUtils.as b/src/as/net/guttershark/util/ScopeUtils.as
new file mode 100644
index 0000000..a74a972
--- /dev/null
+++ b/src/as/net/guttershark/util/ScopeUtils.as
@@ -0,0 +1,70 @@
+package net.guttershark.util 
+{
+	
+	import flash.display.InteractiveObject;	
+	
+	/**
+	 * The ScopeUtils class provides utilities for working with scope.
+	 */
+	public class ScopeUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:ScopeUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():ScopeUtils
+		{
+			if(!inst) inst=Singleton.gi(ScopeUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Constructor
+		 */
+		public function ScopeUtils()
+		{
+			Singleton.assertSingle(ScopeUtils);
+		}
+
+		/**
+		 * Re-target instance variables from a source to a different scope.
+		 * 
+		 * @example Re-targetting a class' instance variables to inside of a movie clip.
+		 * &lt;listing>	
+		 * package
+		 * {
+		 *   class MyView extends CoreClip
+		 *   {
+		 *       public var formfieldwrapper:MovieClip;
+		 *       public var firstname:TextField; //actually exists in formfieldwrapper.firstname.
+		 *       public var lastname:TextField;
+		 *       public function MyView()
+		 *       {
+		 *           super();
+		 *           //in this call, "formfieldwrapper" represents the source, and "this" represents the new target host.
+		 *           utils.scope.retarget(formfieldwrapper,this,"firstname","lastname");
+		 *           trace(firstname);
+		 *       }
+		 *   }
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * @param source The source instance where the variables are declared.
+		 * @param target The new target.
+		 * @param objs The instance variables in which the pointer is changing.
+		 */
+		public function retarget(source:InteractiveObject, target:InteractiveObject, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			for(k;k&lt;l;k++) target[objs[k]]=source[objs[k]];
+		}
+	}
+}
diff --git a/src/as/net/guttershark/util/SetterUtils.as b/src/as/net/guttershark/util/SetterUtils.as
new file mode 100644
index 0000000..e97d88f
--- /dev/null
+++ b/src/as/net/guttershark/util/SetterUtils.as
@@ -0,0 +1,537 @@
+package net.guttershark.util 
+{
+	import net.guttershark.model.Model;
+	
+	import flash.text.TextField;
+	import flash.text.TextFormat;
+	import flash.ui.ContextMenu;		
+
+	/**
+	 * The SetterUtils class is a singleton that has utility methods
+	 * that decrease amount of code you have to write for setting the same
+	 * properties on multiple objects.
+	 * 
+	 * &lt;p>All methods can be used in two ways.&lt;/p>
+	 * 
+	 * @example Two uses for each method:
+	 * &lt;listing>	
+	 * var su:SetterUtils=SetterUtils.gi();
+	 * 
+	 * var mc1,mc2,mc3:MovieClip;
+	 * var mcref:Array=[mc1,mc2,mc3];
+	 * 
+	 * su.visible(true,mc1,mc2,mc3); //rest style.
+	 * 
+	 * //array style - this is nice when you want to group
+	 * //display objects to you can quickly toggle a property.
+	 * su.visible(false,mcref);
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>There are a ton of other methods in here that offer
+	 * the same benefts.&lt;/p>
+	 */
+	final public class SetterUtils 
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:SetterUtils;
+		
+		/**
+		 * The MathUtils singleton instance.
+		 */
+		private var mu:MathUtils;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():SetterUtils
+		{
+			if(!inst) inst=Singleton.gi(SetterUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function SetterUtils()
+		{
+			Singleton.assertSingle(SetterUtils);
+			mu=MathUtils.gi();
+		}
+
+		/**
+		 * Set the buttonMode property on all objects provided.
+		 * 
+		 * @param value The value to set the buttonMode property to.
+		 * @param ...objs An array of objects that have the buttonMode property.
+		 */
+		public function buttonMode(value:Boolean, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].buttonMode=value;
+		}
+		
+		/**
+		 * Set the visible property on all objects provided.
+		 * 
+		 * @param value The value to set the visible property to.
+		 * @param ...objs An array of objects with the visible property.
+		 */
+		public function visible(value:Boolean, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].visible=value;
+		}
+		
+		/**
+		 * Set the alpha property on all objects provided.
+		 * 
+		 * @param value The value to set the alpha to.
+		 * @param ...objs An array of objects with an alpha property.
+		 */
+		public function alpha(value:Number, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].alpha=value;
+		}
+		
+		/**
+		 * Set the cacheAsBitmap property on all objects provided.
+		 * 
+		 * @param value The value to set the cacheAsBitmap property to.
+		 * @param ...objs An array of objects with the cacheAsBitmap property.
+		 */
+		public function cacheAsBitmap(value:Boolean, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].cacheAsBitmap=value;
+		}
+		
+		/**
+		 * Set the useHandCursor property on all objects provided.
+		 * 
+		 * @param value The value to set the useHandCursor property to.
+		 * @param ...objs An array of objects with the useHandCursor property.
+		 */
+		public function useHandCursor(value:Boolean, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].useHandCursor=value;
+		}	
+		
+		/**
+		 * Set the mouseChildren property on all objects provided.
+		 * 
+		 * @param value The value to set the mouseChildren property to on all objects.
+		 * @param ...objs An array of objects with the mouseChildren property.
+		 */
+		public function mouseChildren(value:Boolean,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].mouseChildren=value;
+		}
+		
+		/**
+		 * Set the mouseEnabled property on all objects provided.
+		 * 
+		 * @param value The value to set the mouseEnabled property to on all objects.
+		 * @param ..objs An array of objects with the mouseEnabled property.
+		 */
+		public function mouseEnabled(value:Boolean,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].mouseEnabled=value;
+		}
+		
+		/**
+		 * Set tab index's on multiple textfields.
+		 * 
+		 * @param ...fields The textfields to set tabIndex on.
+		 */
+		public function tabIndex(...fields:Array):void
+		{
+			var l:int=fields.length;
+			var k:int=0;
+			if(fields[0] is Array)
+			{
+				fields=fields[0];
+				l=fields.length;
+			}
+			for(k;k&lt;l;k++) fields[k].tabIndex=++k;
+		}
+		
+		/**
+		 * Set the tabChildren property on all objects passed.
+		 * 
+		 * @param The value to set the tabChildren property to on all objects.
+		 * @param ..objs An array of objects with the tabChildren property.
+		 */
+		public function tabChildren(value:Boolean,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].tabChildren=value;
+		}
+		
+		/**
+		 * Set the tabEnabled property on all objects passed.
+		 * 
+		 * @param The value to set the tabChildren property to on all objects.
+		 * @param ..objs An array of objects with the tabEnabled property.
+		 */
+		public function tabEnabled(value:Boolean,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].tabEnabled=value;
+		}
+		
+		/**
+		 * Set the autoSize property on multiple textfields.
+		 * 
+		 * @param value The autoSize value.
+		 * @param ...fields The textfields to set the autoSize property on.
+		 */
+		public function autoSize(value:String, ...fields:Array):void
+		{
+			var l:int=fields.length;
+			var k:int=0;
+			var a:Array=fields;
+			if(fields[0] is Array)
+			{
+				a=fields[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].autoSize=value;
+		}
+		
+		/**
+		 * Set the x property on multiple object.
+		 * 
+		 * @param value The x value.
+		 * @param ..objs An array of objects with the x property.
+		 */
+		public function x(value:Number, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++) a[k].x=value;
+		}
+		
+		/**
+		 * Set the y property on multiple object.
+		 * 
+		 * @param value The y value.
+		 * @param ..objs An array of objects with the x property.
+		 */
+		public function y(value:Number, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++)a[k].y=value;
+		}
+		
+		/**
+		 * Set any property to the specified value, on all objects.
+		 * 
+		 * @param objs The objects to toggle the visible property on.
+		 */
+		public function prop(prop:String,value:*,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++)a[k][prop]=value;
+		}
+		
+		/**
+		 * Toggles the visible property on all objects provided.
+		 * 
+		 * @param objs The objects to toggle the visible property on.
+		 */
+		public function toggleVisible(...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++)a[k].visible=!a[k].visible;
+		}
+		
+		/**
+		 * Flip the alpha property on all objects provide, if the
+		 * alpha on an object is equal to either val1 or val2, the
+		 * values are flipped.
+		 * 
+		 * @param val1 The first alpha value.
+		 * @param val2 The second alpha value.
+		 * @param objs The objects to toggle the visible property on.
+		 */
+		public function flipAlpha(val1:Number,val2:Number,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			var obj:*;
+			var al:Number;
+			for(k;k&lt;l;k++)
+			{
+				obj=a[k];
+				al=mu.sanitizeFloat(obj.alpha,1);
+				if(al==val1)obj.alpha=val2;
+				else if(al==val2)obj.alpha=val1;
+			}
+		}
+		
+		/**
+		 * Toggle any property on any object - if the current value
+		 * of the property is value1, it will be set to value2, as
+		 * well as the reverse.
+		 * 
+		 * @param prop The property to toggle.
+		 * @param value1 The first value.
+		 * @param value2 The second value.
+		 * @param ...objs The objects whose property will be toggled.
+		 */
+		public function flipProp(prop:String,value1:*,value2:*,...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			var obj:*;
+			for(k;k&lt;l;k++)
+			{
+				obj=a[k];
+				if(obj[prop]==value1)obj[prop]=value2;
+				else if(obj[prop]==value2)obj[prop]=value1;
+			}
+		}
+		
+		/**
+		 * Toggles the value of a boolean property to the opposite value
+		 * for all objects provided.
+		 * 
+		 * @param prop The property to toggle.
+		 * @param objs All objects whose property will be flipped.
+		 */
+		public function flipBoolean(prop:String, ...objs:Array):void
+		{
+			var l:int=objs.length;
+			var k:int=0;
+			var a:Array=objs;
+			if(objs[0] is Array)
+			{
+				a=objs[0];
+				l=a.length;
+			}
+			for(k;k&lt;l;k++)a[k][prop]=!a[k][prop];
+		}
+		
+		/**
+		 * Set properties on an object, the properties come from
+		 * the model in a &lt;propset&gt;&lt/propset&gt;
+		 * node.
+		 * 
+		 * @param obj The object whose properties will be updated.
+		 * @param propsId The id of the &lt;propset&gt; node in the model.
+		 */
+		public function propsFromModel(obj:*, propsId:String):void
+		{
+			var ml:Model=Model.gi();
+			if(!ml.xml)throw new Error("The model xml has not been loaded or set, cannot set properties from the model.");
+			var n:XMLList=ml.xml.properties..propset.(@id==propsId);
+			var usedText:Boolean;
+			if(obj is TextField)
+			{
+				var t:TextField=TextField(obj);
+				if(n.textFormat!=undefined&&n.styleSheet!=undefined)trace("WARNING: A textfield cannot have both a stylesheet, and a textformat. One or the other should be used. The stylehsset will be used if you do have both.");
+				if(n.textFormat!=undefined)
+				{
+					var tf:TextFormat=ml.getTextFormatById(n.textFormat.@id);
+					t.defaultTextFormat=tf;
+					t.setTextFormat(tf);
+				}
+				if(n.styleSheet!=undefined)t.styleSheet=ml.getStyleSheetById(n.styleSheet.@id);
+				if(n.text!=undefined||n.htmlText!=undefined)
+				{
+					if(n.text.@id!=undefined)
+					{
+						usedText=true;
+						obj.text=ml.getContentById(n.text.@id);
+					}
+					else if(n.htmlText.@id!=undefined)
+					{
+						usedText=true;
+						obj.htmlText=ml.getContentById(n.htmlText.@id);
+					}
+				}
+			}
+			if(n.contextMenu)
+			{
+				if(n.contextMenu.@id!=undefined)
+				{
+					var cmm:ContextMenu=ml.createContextMenuById(n.contextMenu.@id);
+					obj.contextMenu=cmm;
+				}
+			}
+			var children:XMLList=n.children();
+			var child:XML;
+			for each(child in children)
+			{
+				var k:String=child.name().toString();
+				var s:String=child.toString();
+				if(k=="textFormat"||k=="styleSheet"||k=="contextMenu")continue;
+				if(usedText&&(k=="text"||k=="htmlText"))continue;
+				if(k=="xywh")
+				{
+					var e:int=0;
+					var r:int=4;
+					var props:Array=["x","y","width","height"];
+					var prop:String;
+					for(e;e&lt;r;e++)
+					{
+						prop=props[e];
+						if(child.attribute(prop)!=undefined)
+						{
+							s=child.attribute(prop).toString();
+							if(isPlusMinus(s))obj[prop]=getPlusMinusVal(s,obj[prop]);
+							else obj[prop]=Number(s);
+						}
+					}
+					continue;
+				}
+				if(s=="true")
+				{
+					obj[k]=true;
+					continue;
+				}
+				else if(s=="false")
+				{
+					obj[k]=false;
+					continue;
+				}
+				if(isPlusMinus(s))
+				{
+					obj[k]=getPlusMinusVal(s,Number(obj[k]));
+					continue;
+				}
+				obj[k]=s;
+			}
+		}
+		
+		/**
+		 * Helper method for propsFromModel.
+		 */
+		private function getPlusMinusVal(s:String,curVal:Number):Number
+		{
+			var op:String=s.substr(0,1);
+			var val:Number=Number(s.substr(1,s.length));
+			if(op=="+")return curVal+=val;
+			else if(op=="-")return curVal-=val;
+			return curVal;
+		}
+		
+		/**
+		 * Helper method for propsFromModel.
+		 */
+		private function isPlusMinus(s:String):Boolean
+		{
+			var r:RegExp=/^\+|\-[\.0-9]*$/i;
+			return r.test(s);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/Singleton.as b/src/as/net/guttershark/util/Singleton.as
new file mode 100644
index 0000000..d25877e
--- /dev/null
+++ b/src/as/net/guttershark/util/Singleton.as
@@ -0,0 +1,3 @@
+package net.guttershark.util
{
	import flash.utils.Dictionary;		
+
+	/**
	 * The Singleton class is a helper class to enforce singletons in Guttershark
	 * and enables subclassing of singletons.
	 * 
	 * @example How singletons are implemented in guttershark:
	 * &lt;listing>	
	 * public class Model
	 * {
	 *     private static var inst:Model;
	 *     public function Model()
	 *     {
	 *         Singleton.assertSingle(Model);
	 *     }
	 *     public static function gi():Model
	 *     {
	 *         if(!inst) inst=Singleton.gi(Model);
	 *         return inst;
	 *     }
	 * }
	 * &lt;/listing>
	 * 
	 * &lt;p>The following example illustrates how you can extend Singletons, but it is
	 * not recommended; you should extend singletons through composition instead,
	 * which will always guarantee you don't run into any problems.&lt;/p>
	 * 
	 * @example Extending singletons:
	 * &lt;listing>	
	 * //The base singleton class.
	 * package
	 * {
	 *     public class MySingleton
	 *     {
	 *         private static var inst:MySingleton;
	 *         public function MySingleton()
	 *         {
	 *             Singleton.assertSingle(MySingleton);
	 *         }
	 *         public static function gi():MySingleton
	 *         {
	 *             if(!inst) inst=Singleton.gi(MySingleton);
	 *             return inst;
	 *         }
	 *     }
	 * }
	 * 
	 * //the singleton extended from the base MySingleton class.
	 * package
	 * {
	 *     import MySingleton;
	 *     public class MyExtendedSingleton extends MySingleton
	 *     {
	 *         private static var inst:MyExtendedSingleton;
	 *         public function MyExtendedSingleton()
	 *         {
	 *             Singleton.assertSingle(MyExtendedSingleton);
	 *         }
	 *         public static function gi():MyExtendedSingleton()
	 *         {
	 *             if(!inst) inst=Singleton.gi(MyExtendedSingleton,MySingleton);
	 *             return inst;
	 *         }
	 *     }
	 * }
	 * 
	 * package
	 * {
	 *     public class Main extends Sprite
	 *     {
	 *         public function Main()
	 *         {
	 *             var mes:MyExtendedSingleton=MyExtendedSingleton.gi();
	 *             //either of the following will fail.
	 *             var ms:MySingleton=new MySingleton();
	 *             var mss:MySingleton=MySingleton.gi();
	 *         }
	 *     }
	 * }
	 * &lt;/listing>
	 */
	final public class Singleton
	{
		
		/**
		 * Keeps track of the instances available.
		 */
		private static var insts:Dictionary;
		
		/**
		 * Get an instance of a class, and cancel any parent classes.
		 * 
		 * @param clazz The class of the instance you're after.
		 * @param cancelParentClasses An array of Classes to cancel, so they cannot be instantiated again.
		 * This is specifically for when you extend a singleton, you need to make sure you pass all of it's
		 * super classes.
		 */
		public static function gi(clazz:Class,...cancelParentClasses:Array):*
		{
			var inst:*;
			if(!insts) insts=new Dictionary();
			if(insts[clazz] && insts[clazz] != -1) inst=insts[clazz];
			if(!inst)
			{
				inst=new clazz();
				insts[clazz]=inst;
			}
			if(cancelParentClasses) for each(var cl:Class in cancelParentClasses){insts[cl]=-1;}
			return inst;
		}
		
		/**
		 * Assert that there is only one instance of a class.
		 * 
		 * @param clazz The Class to assert as being the only instance.
		 */
		public static function assertSingle(clazz:Class):void
		{
			if(insts[clazz]) throw new Error("Error creating class, {"+clazz+"}. It's a singleton and cannot be instantiated more than once.");
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/SocialShares.as b/src/as/net/guttershark/util/SocialShares.as
new file mode 100644
index 0000000..28b3000
--- /dev/null
+++ b/src/as/net/guttershark/util/SocialShares.as
@@ -0,0 +1,123 @@
+package net.guttershark.util 
+{
+	import flash.net.URLRequest;
+	import flash.net.navigateToURL;	
+
+	/**
+	 * The SocialShares class contains methods that have shortcuts
+	 * for navigating to social sites, to share a link.
+	 */
+	public class SocialShares
+	{
+		
+		/**
+		 * Share to myspace.
+		 * 
+		 * @param url The url to share.
+		 * @param title The link title.
+		 * @param window The window for the url.
+		 */
+		public static function myspace(url:String,title:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://www.myspace.com/Modules/PostTo/Pages/?t='+escape(title)+'&c=&u='+escape(url)),window);
+		}
+		
+		/**
+		 * Share to stumble-upon.
+		 * 
+		 * @param url The url to share.
+		 * @param window The window for the url.
+		 */
+		public static function stumbleupon(url:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://www.stumbleupon.com/submit?url='+escape(url)),window);
+		}
+		
+		/**
+		 * Share to digg.
+		 * 
+		 * @param url The url to share.
+		 * @param title The link title.
+		 * @param window The window for the url.
+		 */
+		public static function digg(url:String,title:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://digg.com/submit?url='+escape(url)+'&title='+escape(title)),window);
+		}
+		
+		/**
+		 * Share to delicious.
+		 * 
+		 * @param url The url to share.
+		 * @param title The link title.
+		 * @param window The window for the url.
+		 */
+		public static function delicious(url:String,title:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://del.icio.us/loginName?url='+escape(url)+'&title='+escape(title)+'&v=4'),window);
+		}
+		
+		/**
+		 * Share to facebook.
+		 * 
+		 * @param url The url to share.
+		 * @param title The link title.
+		 * @param window The window for the url.
+		 */
+		public static function facebook(url:String,title:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://www.facebook.com/share.php?u='+escape(url)+'&t='+escape(title)),window);
+		}
+		
+		/**
+		 * Share to reddit.
+		 * 
+		 * @param url The url to share.
+		 * @param window The window for the url.
+		 */
+		public static function reddit(url:String,window:String="_blank"):void
+		{
+			navigateToURL(new URLRequest("http://www.reddit.com/submit?url="+escape(url)),window);
+		}
+
+		/**
+		 * Share to furl.
+		 * 
+		 * @param url The url to share.
+		 * @param title The link title.
+		 * @param window The window for the url.
+		 */
+		public static function furl(url:String,title:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://www.furl.net/storeIt.jsp?u='+escape(url)+'&keywords=&t='+escape(title)),window);
+		}
+		
+		/**
+		 * Share to windows live.
+		 * 
+		 * @param url The url to share.
+		 * @param window The window for the url.
+		 */
+		public static function winlive(url:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('https://favorites.live.com/quickadd.aspx?url='+escape(url)),window);
+		}
+		
+		/**
+		 * Share to technorati.
+		 * 
+		 * @param url The url to share.
+		 * @param window The window for the url.
+		 */
+		public static function technorati(url:String,window:String="_blank"):void
+		{
+			if(!url)return;
+			navigateToURL(new URLRequest('http://www.technorati.com/faves/loginName?add='+escape(url)),window);
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/StringUtils.as b/src/as/net/guttershark/util/StringUtils.as
new file mode 100644
index 0000000..ce36b98
--- /dev/null
+++ b/src/as/net/guttershark/util/StringUtils.as
@@ -0,0 +1,1152 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.Singleton;					
+
+	/**
+	 * The StringUtils class is a singleton that
+	 * contains utility methods for strings.
+	 */
+	final public class StringUtils 
+	{
+
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:StringUtils;
+		private const LTRIM_EXP:RegExp=/(\s|\n|\r|\t|\v)*$/;
+		private const RTRIM_EXP:RegExp=/^(\s|\n|\r|\t|\v)*/m;
+		private const DEFAULT_ENCODE_DIGITS_SHOWN:int=4;
+		private const DEFAULT_ENCODE_CHARACTER:String='*';
+		private const MINIMUM_CARD_LENGTH:int=13;
+		private const MAXIMUM_CARD_LENGTH:int=16;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():StringUtils
+		{
+			if(!inst) inst=Singleton.gi(StringUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function StringUtils()
+		{
+			Singleton.assertSingle(StringUtils);
+		}
+		
+		/**
+		 * Convert a style sheet formatted color (#ff0099) to
+		 * a whole integer.
+		 * 
+		 * @param num The stylesheet formatted number.
+		 */
+		public function styleSheetNumberToInt(num:String):int
+		{
+			if(!num) return -1;
+			return int(num.replace(/\#/,"0x"));
+		}
+		
+		/**
+		 * Converts a style sheet formatted color (#ff0099) to
+		 * 0xff0099 as a string.
+		 * 
+		 * @param num The stylesheet formatted number.
+		 */
+		public function styleSheetNumberTo0xHexString(num:String):String
+		{
+			return num.replace(/\#/,"0x");
+		}
+		
+		/**
+		 * Check whether a string is a valid email.
+		 * 
+		 * @param str The email to evaluate.
+		 */
+		public function isemail(str:String):Boolean
+		{
+			var emailExpression:RegExp=/^[a-z][\w.-]+@\w[\w.-]+\.[\w.-]*[a-z][a-z]$/i;
+			return emailExpression.test(str);
+		}
+		
+		/**
+		 * Check whether a string is a valid po box. (PO ,P O,P.O,P. O,p o,p.o,p. o,Box,Post Office,post office).
+		 * 
+		 * @param address The string to evaluate.
+		 */
+		public function ispobox(address:String):Boolean
+		{
+			var look:Array=["PO ","P O","P.O","P. O", "p o","p.o","p. o","Box","Post Office","post office"];
+			var len:Number=look.length;
+			var i:int;
+			for(i=0;i &lt; len; i++) if(address.indexOf(look[i]) != -1) return true; 
+			return false;
+		}
+		
+		/**
+		 * Check whether a state abbreviation is a valid state, according to the 
+		 * usps list of abbreviations (http://www.usps.com/ncsc/lookups/abbr_state.txt) - including
+		 * military state abbreviations.
+		 * 
+		 * @param state A state abbreviation to evaluate.
+		 * @param message A message to throw if the assertion evaluates to false.
+		 * @param exceptionType The exceptionType to throw if an exception is being thrown.
+		 */
+		public function isStateAbbrev(state:String):Boolean
+		{
+			var states:Array=[
+				"AL","AK","AS","AZ",
+				"AR","CA","CO","CT","DE","DC",
+				"FM","FL","GA","GU","HI","ID",
+				"IL","IN","IA","KS","KY","LA",
+				"ME","MH","MD","MA","MI","MN",
+				"MS","MO","MT","NE","NV","NH",
+				"NJ","NM","NY","NC","ND","MP",
+				"OH","OK","OR","PW","PA","PR",
+				"RI","SC","SD","TN","TX","UT",
+				"VT","VI","VA","WA","WV","WI","WY",
+				"AE","AA","AP"
+			];
+			var i:int=0;
+			var l:int=62;
+			for(i;i&lt;l;i++) if(state.toUpperCase()==states[i]) return true;
+			return false;
+		}
+		
+		/**
+		 * Get an array of 50 state abbreviations.
+		 */
+		public function getStateAbbreviationsArray():Array
+		{
+			return ["AL","AK","AZ","AR","CA","CO","CT","DC",
+			"DE","FL","GA","HI","ID","IL","IN","IA","KS",
+			"KY","LA","ME","MD","MA","MI","MN","MS","MO",
+			"MT","NE","NV","NH","NJ","NM","NY","NC","ND",
+			"OH","OK","OR","PA","RI","SC","SD","TN","TX",
+			"UT","VT","VA","WA","WV","WI","WY"];
+		}
+		
+		/**
+		 * Returns an array of state abbreviations (50 states), plus
+		 * some extra according to the usps abbreviations list
+		 * (http://www.usps.com/ncsc/lookups/abbr_state.txt).
+		 */
+		public function getExtendedStateAbbreviationsArray():Array
+		{
+			return [
+				"AL","AK","AS","AZ",
+				"AR","CA","CO","CT","DE","DC",
+				"FM","FL","GA","GU","HI","ID",
+				"IL","IN","IA","KS","KY","LA",
+				"ME","MH","MD","MA","MI","MN",
+				"MS","MO","MT","NE","NV","NH",
+				"NJ","NM","NY","NC","ND","MP",
+				"OH","OK","OR","PW","PA","PR",
+				"RI","SC","SD","TN","TX","UT",
+				"VT","VI","VA","WA","WV","WI",
+				"WY","AE","AA","AP"
+			];
+		}
+		
+		/**
+		 * Check that a string is a valid http URL.
+		 * 
+		 * @param str The string to evaluate.
+		 */
+		public function isurl(str:String):Boolean
+		{
+			return (str.substring(0,7) == "http://" || str.substring(0,8) == "https://");
+		}
+		
+		/**
+		 * Check whether or not a string is a valid phone number.
+		 * 
+		 * @param str The string to evaluate.
+		 */
+		public function isphone(str:String):Boolean
+		{
+			var phoneExpression:RegExp=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,3})|(\(?\d{2,3}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/i;
+			return phoneExpression.test(str);
+		}
+		
+		/**
+		 * Check whether or not a string is a valid file URI.
+		 * 
+		 * @param str The string to evaluate.
+		 */
+		public function isfileuri(str:String):Boolean
+		{
+			return (str.substring(0,8) == "file:///");
+		}
+
+		/**
+		 * Returns everything after the first occurrence of the provided character in the string.
+		 *
+		 * @param search The string to search in.
+		 * @param returnAfter The string in which everything after the first occurance will be returned.
+		 */
+		public function afterFirst(search:String, returnAfter:String):String
+		{
+			if(search == null) return null;
+			var idx:int=search.indexOf(returnAfter);
+			if(idx == -1) return null;
+			idx += returnAfter.length;
+			return search.substr(idx);
+		}
+
+		/**
+		 * Returns everything after the last occurence of the provided character in the string.
+		 *
+		 * @param search The string to search in.
+		 * @param returnAfter The string in which everything after the last occurance will be returned.
+		 */
+		public function afterLast(search:String, returnAfter:String):String 
+		{
+			if(search == null) return null; 
+			var idx:int=search.lastIndexOf(returnAfter);
+			if(idx == -1) return null;
+			idx += returnAfter.length;
+			return search.substr(idx);
+		}
+
+		/**
+		 * Returns everything before the first occurrence of the provided character in the string.
+		 *
+		 * @param search The string to search in.
+		 * @param returnBefore The string in which everything before the first occurance will be returned.
+		 */
+		public function beforeFirst(search:String, returnBefore:String):String 
+		{
+			if(search == null) return null;
+			var idx:int=search.indexOf(returnBefore);
+			if(idx == -1) return null;
+			return search.substr(0,idx);
+		}
+
+		/**
+		 * Returns everything before the last occurrence of the provided character in the string.
+		 *
+		 * @param search The string.
+		 * @param returnBefore The string in which everything before the last occurance will be returned.
+		 */
+		public function beforeLast(search:String, returnBefore:String):String
+		{
+			if(search == null) return null;
+			var idx:int=search.lastIndexOf(returnBefore);
+			if(idx == -1) return null;
+			return search.substr(0,idx);
+		}
+
+		/**
+		 * Returns everything after the first occurance of start and before the first occurrence of end in search.
+		 *
+		 * @param search The string to search in.
+		 * @param start The string to use as the start index.
+		 * @param end The string to use as the end index.
+		 */
+		public function between(search:String, start:String, end:String):String 
+		{
+			if(search == null) return null;
+			var str:String='';
+			var startIdx:int=search.indexOf(start);
+			if(startIdx != -1) 
+			{
+				startIdx += start.length;
+				var endIdx:int=search.indexOf(end,startIdx);
+				if(endIdx != -1) str=search.substr(startIdx,endIdx - startIdx); 
+			}
+			return str;
+		}
+
+		/**
+		 * Capitallizes the first word in a string, and optionally all words.
+		 *
+		 * @param str The string.
+		 * @param allWords Whether or not all words will be capitalized.
+		 */
+		public function capitalize(p_string:String, allWords:Boolean=false):String 
+		{
+			var str:String=trimLeft(p_string);
+			if(allWords) return str.replace(/^.|\b./g,_upperCase);
+			else return str.replace(/(^\w)/,_upperCase);
+		}
+
+		/**
+		 * Utility method that intelligently breaks up your string,
+		 * allowing you to create blocks of readable text.
+		 * This method returns you the closest possible match to the p_delim paramater,
+		 * while keeping the text length within the p_len paramter.
+		 * If a match can't be found in your specified length an  '...' is added to that block,
+		 * and the blocking continues untill all the text is broken apart.
+		 *
+		 * @param p_string The string to break up.
+		 * @param p_len Maximum length of each block of text.
+		 * @param p_delim delimter to end text blocks on, default='.'
+		 * 
+		 * @return Array
+		 */
+		public function block(p_string:String, p_len:uint, p_delim:String="."):Array 
+		{
+			var arr:Array=new Array();
+			if(p_string == null || !contains(p_string,p_delim)) return arr;
+			var chrIndex:uint=0;
+			var strLen:uint=p_string.length;
+			var replPatt:RegExp=new RegExp("[^" + escapePattern(p_delim) + "]+$","");
+			while(chrIndex &lt; strLen)
+			{
+				var subString:String=p_string.substr(chrIndex,p_len);
+				if(!contains(subString,p_delim))
+				{
+					arr.push(truncate(subString,subString.length));
+					chrIndex += subString.length;
+				}
+				subString=subString.replace(replPatt,'');
+				arr.push(subString);
+				chrIndex += subString.length;
+			}
+			return arr;
+		}
+		
+		/**
+		 * Removes whitespace from the front the specified string.
+		 *
+		 * @param str The String whose beginning whitespace will be removed.
+		 */
+		public function trimLeft(str:String):String 
+		{
+			if(str == null) return '';
+			return str.replace(/^\s+/,'');
+		}
+
+		/**
+		 * Removes whitespace from the end of the specified string.
+		 * 
+		 * @param str The String whose ending whitespace will be removed.
+		 */
+		public function trimRight(str:String):String 
+		{
+			if(str == null) return '';
+			return str.replace(/\s+$/,'');
+		}
+
+		/**
+		 * Determines the number of times a charactor or sub-string appears within the string.
+		 *
+		 * @param search The string.
+		 * @param pattern The character or sub-string to count.
+		 * @param caseSensitive Whether or not the search is case sensitive.
+		 */
+		public function countOf(search:String, pattern:String, caseSensitive:Boolean=true):uint 
+		{
+			if(search == null) return 0;
+			var char:String=escapePattern(pattern);
+			var flags:String=(!caseSensitive) ? 'ig' : 'g';
+			return search.match(new RegExp(char,flags)).length;
+		}
+
+		/**
+		 * Pads a string with the specified character to a specified length from the left.
+		 *
+		 * @param str The string to pad.
+		 * @param char Character for pad.
+		 * @param length Length to pad to.
+		 */
+		public function padLeft(str:String, char:String, length:uint):String 
+		{
+			var s:String=str;
+			while(s.length&lt;length) s=char+s;
+			return s;
+		}
+
+		/**
+		 * Pads a string with the specified character to a specified length from the right.
+		 *
+		 * @param str String to pad
+		 * @param char Character for pad.
+		 * @param length Length to pad to.
+		 */
+		public function padRight(str:String, char:String, length:uint):String 
+		{
+			var s:String=str;
+			while (s.length&lt;length) s += char;
+			return s;
+		}
+
+		/**
+		 * Properly cases the string in "sentence format".
+		 *
+		 * @param str The string to proper case.
+		 */
+		public function properCase(str:String):String 
+		{
+			if(str == null) return null;
+			var st:String=str.toLowerCase().replace(/\b([^.?;!]+)/,capitalize);
+			return st.replace(/\b[i]\b/,"I");
+		}
+
+		/**
+		 * Removes all instances of a pattern in the search string.
+		 *
+		 * @param search The string that will be checked for instances of remove string
+		 * @param pattern The string that will be removed from the input string.
+		 * @param caseSensitive Whether or not the replace is case sensitive.
+		 */
+		public function remove(search:String, pattern:String, caseSensitive:Boolean=true):String 
+		{
+			if(search == null) return null;
+			var rem:String=escapePattern(pattern);
+			var flags:String=(!caseSensitive) ? 'ig' : 'g';
+			return search.replace(new RegExp(rem,flags),'');
+		}
+
+		/**
+		 * Returns the string in reverse order.
+		 *
+		 * @param str The String that will be reversed.
+		 */
+		public function reverse(str:String):String 
+		{
+			if(str == null) return null;
+			return str.split('').reverse().join('');
+		}
+
+		/**
+		 * Returns the specified string in reverse word order.
+		 *
+		 * @param str The String that will be reversed.
+		 */
+		public function reverseWords(str:String):String 
+		{
+			if(str == null) return '';
+			return str.split(/\s+/).reverse().join('');
+		}
+
+		/**
+		 * Determines the percentage of similiarity, based on editDistance.
+		 *
+		 * @param source The source string.
+		 * @param target The target string.
+		 */
+		public function similarity(source:String, target:String):Number 
+		{
+			var ed:uint=editDistance(source,target);
+			var maxLen:uint=Math.max(source.length,target.length);
+			if(maxLen == 0) return 100;
+			return (1 - ed / maxLen) * 100;
+		}
+
+		/**
+		 * Levenshtein distance (editDistance) is a measure of the similarity between two strings,
+		 * The distance is the number of deletions, insertions, or substitutions required to
+		 * transform a source into a target.
+		 *
+		 * @param source The source string.
+		 * @param target The target string.
+		 */
+		public function editDistance(source:String, target:String):uint 
+		{
+			var i:Number;
+			var j:Number;
+			if(source == null) source='';
+			if(target == null) target='';
+			if(source == target) return 0;
+			var d:Array=new Array();
+			var cost:uint;
+			var n:uint=source.length;
+			var m:uint=target.length;
+			if(n == 0) return m;
+			if(m == 0) return n;
+			for(i=0;i &lt;= n; i++) d[i]=new Array();
+			for(i=0;i &lt;= n; i++) d[i][0]=i;
+			for(j=0;j &lt;= m; j++) d[0][j]=j;
+			for (i=1;i &lt;= n; i++)
+			{
+				var s_i:String=source.charAt(i-1);
+				for(j=1;j &lt;= m; j++) 
+				{
+					var t_j:String=target.charAt(j-1);
+					if(s_i == t_j) cost=0; 
+					else cost=1;
+					d[i][j]=_minimum(d[i - 1][j] + 1,d[i][j - 1] + 1,d[i - 1][j - 1] + cost);
+				}
+			}
+			return d[n][m];
+		}
+
+		/**
+		 * Swaps the casing of a string.
+		 *
+		 * @param str The source string.
+		 */
+		public function swapCase(str:String):String 
+		{
+			if(str == null) return null;
+			return str.replace(/(\w)/,_swapCase);
+		}
+
+		/**
+		 * Removes all &lt; and &gt; based tags from a string
+		 *
+		 * @param str The source string.
+		 */
+		public function stripTags(str:String):String 
+		{
+			if(str == null) return null;
+			return str.replace(/&lt;\/?[^>]+>/igm,'');
+		}
+
+		/**
+		 * Determines the number of words in a string.
+		 *
+		 * @param str The string.
+		 */
+		public function wordCount(str:String):uint
+		{
+			if(str == null) return 0;
+			return str.match(/\b\w+\b/g).length;
+		}
+
+		/**
+		 * Returns a string truncated to a specified length with optional suffix
+		 *
+		 * @param str The string.
+		 * @param len The length the string should be shortend to.
+		 * @param suffix The string to append to the end of the truncated string.
+		 */
+		public function truncate(str:String, len:uint, suffix:String="..."):String 
+		{
+			if(str == null) return '';
+			if(!len) len=str.length;
+			len -= suffix.length;
+			var trunc:String=str;
+			if(trunc.length > len) 
+			{
+				trunc=trunc.substr(0,len);
+				if(/[^\s]/.test(str.charAt(len))) trunc=trimRight(trunc.replace(/\w+$|\s+$/,''));
+				trunc += suffix;
+			}
+			return trunc;
+		}
+
+		/**
+		 * Search for key in string.
+		 * 
+		 * @param str The target string.
+		 * @param key The key to search for.
+		 * @param caseSensitive Whether or not the search is case sensitive.
+		 */
+		public function search(str:String,key:String,caseSensitive:Boolean=true):Boolean
+		{
+			if(!caseSensitive)
+			{
+				str=str.toUpperCase();
+				key=key.toUpperCase();
+			}
+			return (str.indexOf(key) &lt;= -1) ? false : true;
+		}
+
+		/**
+		 * Does a case insensitive compare with two strings.
+		 * 
+		 * @param s1 The first string.
+		 * @param s2 The second string.
+		 * @param caseSensitive Whether or not the comparison is case sensitive.
+		 */
+		public function equals(s1:String, s2:String, caseSensitive:Boolean=false):Boolean
+		{
+			return (caseSensitive) ? (s1 == s2) : (s1.toUpperCase() == s2.toUpperCase());
+		}
+
+		/**
+		 * Replace every instance of a string with something else
+		 * 
+		 * @param str The string to search in.
+		 * @param oldChar The pattern to be removed.
+		 * @param newChar The new string to instert.
+		 */
+		public function replace(str:String, oldChar:String, newChar:String):String
+		{
+			return str.split(oldChar).join(newChar);
+		}		
+
+		/**
+		 * Remove spaces from a string.
+		 * 
+		 * @param str The target string.
+		 */
+		public function removeSpaces(str:String):String
+		{
+			return replace(str," ","");
+		}
+
+		/**
+		 * Remove tabs from a string.
+		 * 
+		 * @param str The target string.
+		 */
+		public function removeTabs(str:String):String
+		{
+			return replace(str,"	","");	
+		}
+
+		/**
+		 * Remove leading & trailing white space.
+		 * 
+		 * @param str The target string.
+		 */
+		public function trim(str:String):String
+		{
+			return ltrim(rtrim(str));
+		}
+
+		/**
+		 * Removes whitespace from the front of the specified string.
+		 * 
+		 * @param str The target string.
+		 */	
+		public function ltrim(str:String):String
+		{
+			return str.replace(LTRIM_EXP,"");
+		}
+
+		/**
+		 * Removes whitespace from the end of a string.
+		 * 
+		 * @param str The target string.
+		 */
+		public function rtrim(str:String):String
+		{
+			return str.replace(RTRIM_EXP,"");
+		}
+
+		/**
+		 * Remove whitespace, line feeds, carrige returns from a string.
+		 * 
+		 * @param str The target string.
+		 */
+		public function trimall(str:String):String
+		{
+			var o:String="";
+			var tab:Number=9;
+			var linefeed:Number=10;
+			var carriage:Number=13;
+			var space:Number=32;
+			var i:int=0;
+			var char:int=str.charCodeAt(i);
+			while(i > 0 && char != tab && char != linefeed && char != carriage && char != space)
+			{
+				o += char;
+				i++;
+				if(i > str.length) break;
+				char=str.charCodeAt(i);
+			}
+			return o;
+		}
+
+		/**
+		 * Lower Camel Case a string.
+		 * 
+		 * @param str The target string.
+		 */
+		public function toLowerCamel(str:String):String
+		{
+			var o:String=new String();
+			for(var i:int=0;i &lt; str.length;i++)
+			{
+				if(str.charAt(i) != " ")
+				{
+					if(justPassedSpace)
+					{
+						o += str.charAt(i).toUpperCase();
+						justPassedSpace=false;
+					}
+					else o += str.charAt(i).toLowerCase();
+				}
+				else var justPassedSpace:Boolean=true;
+			}
+			return o;
+		}
+
+		/**
+		 * Determines whether the specified string begins with the specified prefix.
+		 * 
+		 * @param input The string to search.
+		 * @param prefix The prefix that will be tested against the string.
+		 */
+		public function beginsWith(input:String, prefix:String):Boolean
+		{			
+			return (prefix == input.substring(0,prefix.length));
+		}
+
+		/**
+		 * Determines whether the specified string ends with the specified suffix.
+		 * 
+		 * @param input The string to search.
+		 * @param prefix The suffic that will be tested against the string.
+		 */
+		public function endsWith(input:String, suffix:String):Boolean
+		{
+			return (suffix == input.substring(input.length - suffix.length));
+		}			
+
+		/**
+		 * Format a number with commas - ie. 10000 -> 10,000
+		 * 
+		 * @param nm A Number or a String that will cast to a Number.
+		 */
+		public function commaFormatNumber(nm:Object):String
+		{
+			var tmp:String=String(nm);
+			var outString:String="";
+			var l:Number=tmp.length;
+			for(var i:int=0;i &lt; l;i++)
+			{
+				if(i % 3 == 0 && i > 0) outString="," + outString;
+				outString=tmp.substr(l - (i + 1),1) + outString;
+			}
+			return outString;		
+		}
+
+		/**
+		 * Capitalize the first character in the string.
+		 * 
+		 * @param str The string.
+		 */
+		public function firstToUpper(str:String):String
+		{
+			return str.charAt(0).toUpperCase() + str.substr(1);
+		}	
+
+		/**
+		 * Transforms source String to per word capitalization.
+		 * 
+		 * @param str The target string.
+		 */
+		public function toTitleCase(str:String):String
+		{
+			var lstr:String=str.toLowerCase();
+			return lstr.replace(/\b([a-z])/g,function($0:*):*{return $0.toUpperCase();});
+		}
+
+		/**
+		 * Encode HTML.
+		 * 
+		 * @param s The target string that has HTML in it.
+		 */
+		public function htmlEncode(s:String):String
+		{
+			s=replace(s," ","&nbsp;");
+			s=replace(s,"&","&amp;");
+			s=replace(s,"&lt;","&lt;");
+			s=replace(s,">","&gt;");
+			s=replace(s,"™",'&trade;');
+			s=replace(s,"®",'&reg;');
+			s=replace(s,"©",'&copy;');
+			s=replace(s,"€","&euro;");
+			s=replace(s,"£","&pound;");
+			s=replace(s,"—","&mdash;");
+			s=replace(s,"–","&ndash;");
+			s=replace(s,"…","&hellip;");
+			s=replace(s,"†","&dagger;");
+			s=replace(s,"·","&middot;");
+			s=replace(s,"µ","&micro;");
+			s=replace(s,"«","&laquo;");	
+			s=replace(s,"»","&raquo;");
+			s=replace(s,"•","&bull;");
+			s=replace(s,"°","&deg;");
+			s=replace(s,'"',"&quot;");
+			return s;
+		}
+
+		/**
+		 * Decode HTML.
+		 * 
+		 * @param s The target string that has HTML in it.
+		 */
+		public function htmlDecode(s:String):String
+		{
+			s=replace(s,"&nbsp;"," ");
+			s=replace(s,"&amp;","&");
+			s=replace(s,"&lt;","&lt;");
+			s=replace(s,"&gt;",">");
+			s=replace(s,"&trade;",'™');
+			s=replace(s,"&reg;","®");
+			s=replace(s,"&copy;","©");
+			s=replace(s,"&euro;","€");
+			s=replace(s,"&pound;","£");
+			s=replace(s,"&mdash;","—");
+			s=replace(s,"&ndash;","–");
+			s=replace(s,"&hellip;",'…');
+			s=replace(s,"&dagger;","†");
+			s=replace(s,"&middot;",'·');
+			s=replace(s,"&micro;","µ");
+			s=replace(s,"&laquo;","«");	
+			s=replace(s,"&raquo;","»");
+			s=replace(s,"&bull;","•");
+			s=replace(s,"&deg;","°");
+			s=replace(s,"&ldquo",'"');
+			s=replace(s,"&rsquo;","'");
+			s=replace(s,"&rdquo;",'"');
+			s=replace(s,"&quot;",'"');
+			return s;
+		}		
+
+		/**
+		 * Sanitize &lt;code>null&lt;/code> strings for display purposes.
+		 * 
+		 * @param str The string.
+		 */
+		public function sanitizeNull(str:String):String
+		{
+			return (str == null || str == "null") ? "" : str;
+		}
+
+		/**
+		 * Strip the zero off floated numbers.
+		 * 
+		 * @param n The target number.
+		 */	
+		public function stripZeroOnFloat(n:Number):String
+		{
+			var str:String="";
+			var a:Array=String(n).split(".");
+			if(a.length > 1) str=(a[0] == "0") ? "." + a[1] : String(n);
+			else str=String(n);
+			return str;
+		}
+
+		/**
+		 * Add zero in front of floated number.
+		 * 
+		 * @param n The target number.
+		 */
+		public function padZeroOnFloat(n:Number):String
+		{
+			return (n > 1 || n &lt; 0) ? String(n) : ("0." + String(n).split(".")[1]);
+		}
+
+		/**
+		 * Remove scientific notation from very small floats when casting to String.
+		 * 
+		 * @param n The target number.
+		 * 
+		 * @example Using the StringUtils.floatToString method:
+		 * &lt;listing>
+		 * var utils:Utilities=Utilities.gi();	
+		 * trace(String(0.0000001)); //returns 1e-7
+		 * trace(utils.string.floatToString(0.0000001)); //returns .00000001
+		 * &lt;/listing>
+		 */
+		public function floatToString(n:Number):String
+		{
+			var s:String=String(n);
+			return (n &lt; 1 && (s.indexOf(".") &lt;= -1 || s.indexOf("e") &lt;= -1)) ? "0." + String(n + 1).split(".")[1] : s;
+		}
+
+		/**
+		 * Strip the zero off floated numbers and remove Scientific Notation.
+		 * 
+		 * @param n The target number.
+		 */
+		public function stripZeroAndRepairFloat(n:Number):String
+		{
+			var str:String;
+			var tmp:String;
+			var isZeroFloat:Boolean;
+			// +=1 to prevent scientific notation.
+			if(n &lt; 1)
+			{
+				tmp=String((n + 1));
+				isZeroFloat=true;
+			}
+			else
+			{
+				tmp=String(n);
+				isZeroFloat=false;	
+			}
+			// if we have a float strip the zero (or +=1) off!
+			var a:Array=tmp.split(".");
+			if(a.length > 1) str=(a[0] == "1" && isZeroFloat == true) ? "." + a[1] : tmp;				
+			else str=tmp;
+			return str;
+		}
+
+		/**
+		 * Generate a set of random characters.
+		 * 
+		 * @param amount The number of characters to generate.
+		 */
+		public function randChar(amount:Number):String
+		{
+			var str:String="";
+			for(var i:int=0;i &lt; amount;i++) str += String.fromCharCode(Math.round(Math.random() * (126 - 33)) + 33);
+			return str;
+		}
+
+		/**
+		 * Generate a set of random LowerCase characters.
+		 * 
+		 * @param amount The number of characters to generate.
+		 */	
+		public function randLowerChar(amount:Number):String
+		{
+			var str:String="";
+			for(var i:int=0;i &lt; amount;i++) str += String.fromCharCode(Math.round(Math.random() * (122 - 97)) + 97);
+			return str;
+		}
+
+		/**
+		 * Generate a set of random Number characters.
+		 * 
+		 * @param amount The amount of numbers to generate.
+		 */		
+		public function randNum(amount:Number):String
+		{
+			var str:String="";
+			for(var i:int=0;i &lt; amount;i++) str += String.fromCharCode(Math.round(Math.random() * (57 - 48)) + 48);
+			return str;
+		}
+
+		/**
+		 * Generate a set of random Special and Number characters.
+		 * 
+		 * @param amount The number of characters to generate.
+		 */		
+		public function randSpecialChar(amount:Number):String
+		{
+			var str:String="";
+			for(var i:int=0;i &lt; amount;i++) str += String.fromCharCode(Math.round(Math.random() * (64 - 33)) + 33);
+			return str;
+		}
+
+		/**
+		 * Detect HTML line breaks (&gt;br&lt;).
+		 * 
+		 * @param str The target string.
+		 */
+		public function hasBr(str:String):Boolean
+		{
+			return (str.split("&lt;br").length>0)?true:false;
+		}
+
+		/**
+		 * Convert single quotes to double quotes.
+		 * 
+		 * @param str The target string.
+		 */
+		public function toDoubleQuote(str:String):String
+		{
+			var sq:String="'";
+			var dq:String=String.fromCharCode(34);
+			return str.split(sq).join(dq);
+		}
+
+		/**
+		 * Convert double quotes to single quotes.
+		 * 
+		 * @param str The target string.
+		 */
+		public function toSingleQuote(str:String):String
+		{
+			var sq:String="'";
+			var dq:String=String.fromCharCode(34);
+			return str.split(dq).join(sq);
+		}
+
+		/**
+		 * Remove all formatting and return cleaned numbers from string.
+		 * 
+		 * @param str The target string.
+		 * 
+		 * @example	Using the StringUtils.toNumeric method:
+		 * &lt;listing>	
+		 * var utils:Utilities=Utilities.gi();
+		 * utils.string.toNumeric("123-123-1234"); //returns 1221231234 
+		 * &lt;/listing>
+		 */
+		public function toNumeric(str:String):String
+		{
+			var len:Number=str.length;
+			var result:String="";
+			for(var i:int=0;i &lt; len;i++)
+			{
+				var code:Number=str.charCodeAt(i);
+				if(code >= 48 && code &lt;= 57) result += str.substr(i,1);
+			}
+			return result;
+		}
+
+		/**
+		 * Find the file type from a source path.
+		 * 
+		 * @param source A full file url or path.
+		 */
+		public function findFileType(source:String):String
+		{
+			var fileType:String;
+			var filenameRegEx:RegExp=new RegExp("\.([a-zA-Z0-9]{1,4}$)","i");
+			var filematch:Array=source.match(filenameRegEx);
+			if(filematch) fileType=filematch[1].toLowerCase();
+			if(!fileType) return null;
+			else return fileType;
+		}
+		
+		/**
+		 * Validate a credit card's expiration date.
+		 * 
+		 * @param month The month.
+		 * @param year The year.
+		 */
+		public function isValidCCExDate(month:int, year:int):Boolean 
+		{
+			var d:Date=new Date();
+			var currentMonth:int=d.getMonth() + 1;
+			var currentYear:int=d.getFullYear();
+			if((year > currentYear) || (year == currentYear && month >= currentMonth)) return true;
+			return false;
+		}
+
+		/**
+		 * Validate a credit card number.
+		 * 
+		 * @param strNumber Credit card number as string.
+		 */
+		public function isValidCCNumber(strNumber:String):Boolean
+		{
+			var ccNumber:String=StringUtils.gi().toNumeric(strNumber);
+			if(ccNumber.length > 0 && !isNaN(ccNumber as Number) && (ccNumber.length >= MINIMUM_CARD_LENGTH && ccNumber.length &lt;= MAXIMUM_CARD_LENGTH))
+			{
+				var aNumbers:Array=strNumber.split("");
+				var nSum_1:Number=0;
+				var nSum_2:Number=0;
+				var nSum_Total:Number=0;
+				var nParity:Number=aNumbers.length % 2;
+				var i:int=0;
+				var l:int=aNumbers.length;
+				for(i;i&lt;l;i++) //
+				{
+					var n:Number=Number(aNumbers[i]);
+					if(i % 2 == nParity) 
+					{
+						n *= 2;
+						n=n > 9 ? n - 9 : n;
+						nSum_1 += n;
+					}
+					else nSum_2 += n;
+				}
+				nSum_Total=nSum_1 + nSum_2;
+				return (nSum_Total % 10 == 0);
+			} 
+			return false;
+		}
+
+		/**
+		 * Encode a credit card number as a string and encode all digits except the last &lt;em>&lt;/code>digitsShown&lt;/code>&lt;/em>.
+		 * 
+		 * @param strNumber	credit card number as string
+		 * @param digitsShown display this many digits at the end of the card number for security purposes
+		 * @param encodeChar optional encoding character to use instead of default '*'
+		 */
+		public function encodeNumber(strNumber:String, digitsShown:uint=DEFAULT_ENCODE_DIGITS_SHOWN, encodeChar:String=DEFAULT_ENCODE_CHARACTER):String 
+		{
+			var encoded:String="";
+			for(var i:Number=0;i &lt; strNumber.length - digitsShown; i++) encoded += encodeChar;
+			encoded += strNumber.slice(-digitsShown);
+			return encoded;
+		}
+		
+		/**
+		 * Convert string or number to boolean
+		 * 
+		 * @param s The string ("1", "true", "yes", "on").
+		 * 
+		 * @example Using toBoolean:
+		 * &lt;listing>	
+		 * var utils:Utilities=Utilities.gi();
+		 * var b:Boolean=utils.convert.toBoolean("true");
+		 * &lt;/listing>
+		 */
+		public function toBoolean(s:String):Boolean
+		{
+			var b:String=String(s).toLowerCase();
+			if(b == "1" || b == "true" || b == "yes" || b == "on") return true;
+			else if (b == "0" || b == "false" || b == "no" || b == "off") return false; 
+			else throw new Error("BoolConversion.toBoolean() could not convert input to a proper Boolean value");
+		}		
+				
+		/**
+		 * @private
+		 * only used internally, see net.guttershark.util.Assertions for a public version.
+		 */
+		private function contains(p_string:String, p_char:String):Boolean 
+		{
+			if(p_string == null) return false;
+			return p_string.indexOf(p_char) != -1;
+		}
+		
+		/**
+		 * @private
+		 */
+		private function escapePattern(p_pattern:String):String 
+		{
+			// RM: might expose this one, I've used it a few times already.
+			return p_pattern.replace(/(\]|\[|\{|\}|\(|\)|\*|\+|\?|\.|\\)/g,'\\$1');
+		}
+		
+		/**
+		 * @private
+		 */
+		private function _minimum(a:uint, b:uint, c:uint):uint 
+		{
+			return Math.min(a,Math.min(b,Math.min(c,a)));
+		}
+		
+		/**
+		 * @private
+		 */
+		private function _quote(p_string:String, ...args):String
+		{
+			switch (p_string)
+			{
+				case "\\":
+					return "\\\\";
+				case "\r":
+					return "\\r";
+				case "\n":
+					return "\\n";
+				case '"':
+					return '\\"';
+				default:
+					return '';
+			}
+		}
+		
+		/**
+		 * @private
+		 */
+		private function _upperCase(p_char:String, ...args):String 
+		{
+			return p_char.toUpperCase();
+		}
+
+		/**
+		 * @private
+		 */
+		private function _swapCase(p_char:String, ...args):String 
+		{
+			var lowChar:String=p_char.toLowerCase();
+			var upChar:String=p_char.toUpperCase();
+			switch (p_char) 
+			{
+				case lowChar:
+					return upChar;
+				case upChar:
+					return lowChar;
+				default:
+					return p_char;
+			}
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/StyleSheetUtils.as b/src/as/net/guttershark/util/StyleSheetUtils.as
new file mode 100644
index 0000000..e930062
--- /dev/null
+++ b/src/as/net/guttershark/util/StyleSheetUtils.as
@@ -0,0 +1,78 @@
+package net.guttershark.util 
+{
+	import flash.text.StyleSheet;		
+
+	/**
+	 * The StyleSheetUtils class contains utility methods for working
+	 * with stylesheets.
+	 */
+	public class StyleSheetUtils
+	{
+		
+		/**
+		 * The singleton instance.
+		 */
+		private static var inst:StyleSheetUtils;
+		
+		/**
+		 * @private
+		 */
+		public function StyleSheetUtils()
+		{
+			Singleton.assertSingle(StyleSheetUtils);
+		}
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():StyleSheetUtils
+		{
+			if(!inst)inst=Singleton.gi(StyleSheetUtils);
+			return inst;
+		}
+		
+		/**
+		 * Merge any number of stylesheets into one new
+		 * style sheet. If the same style is declared in
+		 * more than one stylesheet, they will be overwritten
+		 * with the last stylsheet object, that declares it.
+		 * 
+		 * @example Calling mergeStyleSheets:
+		 * &lt;listing>	
+		 * var myStyleSheet1=new StyleSheet();
+		 * //.. add some styles to style 1
+		 * var myStyleSheet2=new StyleSheet();
+		 * //.. add some styles to style 2
+		 * 
+		 * var newStyle:StyleSheet;
+		 * //merge
+		 * newStyle=utils.styles.mergeStyleSheets(myStyleSheet1,myStyleSheet2);
+		 * 
+		 * //or you can call with an array.
+		 * var a:Array=[myStyleSheet1,myStyleSheet2];
+		 * newStyle=utils.styles.mergeStyleSheets(a);
+		 * &lt;/listing>
+		 */
+		public function mergeStyleSheets(...sheets:Array):StyleSheet
+		{
+			if(sheets[0] is Array)sheets=sheets[0];
+			var newstyles:StyleSheet=new StyleSheet();
+			var i:int=0;
+			var l:int=sheets.length;
+			var k:int;
+			var j:int;
+			var sn:String;
+			for(i;i&lt;l;i++)
+			{
+				var s:StyleSheet=StyleSheet(sheets[i]); 
+				var nm:Array=s.styleNames;
+				k=0;
+				j=nm.length;
+				for(k;k&lt;j;k++)
+				{
+					sn=nm[k];
+					newstyles.setStyle(sn,s.getStyle(sn));
+				}
+			}
+			return newstyles;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/TextFieldUtils.as b/src/as/net/guttershark/util/TextFieldUtils.as
new file mode 100644
index 0000000..103c496
--- /dev/null
+++ b/src/as/net/guttershark/util/TextFieldUtils.as
@@ -0,0 +1,181 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.Assertions;	
+	
+	import flash.display.Stage;	
+	import flash.text.TextField;
+	import flash.text.TextFormat;
+	
+	import net.guttershark.util.Singleton;		
+
+	/**
+	 * The TextFieldUtils class is a singleton that has utility
+	 * methods for common operations with TextFields.
+	 */
+	final public class TextFieldUtils
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:TextFieldUtils;
+		
+		/**
+		 * Assertions singleton.
+		 */
+		private var ast:Assertions;
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():TextFieldUtils
+		{
+			if(!inst) inst=Singleton.gi(TextFieldUtils);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function TextFieldUtils()
+		{
+			Singleton.assertSingle(TextFieldUtils);
+			ast=Assertions.gi();
+		}
+
+		/**
+		 * Create a TextField.
+		 * 
+		 * @param name The textfield's name.
+		 * @param x	The x position.
+		 * @param y	The y position.
+		 * @param w	The width.
+		 * @param h	The height.
+		 * @param selectable Whether or not the new text field should be selectable.
+		 * @param multiline Whether or not the new text field is multiline.
+		 * @param border Whether or not to show the 1 px black border around the new textfield.
+		 * @param embedFonts Whether or not to embed fonts.
+		 * @param autoSize The autosize value.
+		 */
+		public function create(name:String,x:Number,y:Number,w:Number,h:Number,selectable:Boolean=false,multiline:Boolean=false,border:Boolean=false,embedFonts:Boolean=false,autoSize:String='left'):TextField
+		{
+			var tf:TextField=new TextField();
+			tf.name=name;
+			tf.x=x;
+			tf.y=y;
+			tf.width=w;
+			tf.height=h;
+			tf.selectable=selectable;
+			tf.multiline=multiline;
+			tf.border=border;
+			tf.embedFonts=embedFonts;
+			tf.autoSize=autoSize;
+			return tf;
+		}
+		
+		/**
+		 * Sets the &lt;em>&lt;code>TextField&lt;/code>&lt;/em> leading formatting.
+		 * 
+		 * @param tf The textfield.
+		 * @param space The leading space.
+		 */
+		public function setLeading(tf:TextField,space:Number=0):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			var fmt:TextFormat=tf.getTextFormat();
+			fmt.leading=space;
+			tf.setTextFormat(fmt);
+		}
+		
+		/**
+		 * Restrict a text field to email only characters.
+		 * 
+		 * @param tf The text field to restrict.
+		 */
+		public function restrictToEmail(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.restrict="a-zA-Z0-9@._-";
+		}
+		
+		/**
+		 * @private
+		 * Restrict a text field to file path only characters (win|unix).
+		 * 
+		 * @param tf The text field to restrict.
+		 */
+		public function restrictToFilePath(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.restrict="a-zA-Z0-9./\ ";
+		}
+		
+		/**
+		 * Restrict a text field to class path characters only (a-zA-Z0-9_.).
+		 * 
+		 * @param tf The text field to restrict.
+		 */
+		public function restrictToClassPaths(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.restrict="a-zA-Z0-9_.";
+		}
+		
+		/**
+		 * @private
+		 * Restrict a text field to file URI format only (file:///).
+		 */
+		public function restrictToFilURI(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.restrict="a-zA-Z0-9";
+		}
+		
+		/**
+		 * Restrict a text field to letters (lower/upper) and numbers only.
+		 * 
+		 * @param tf The text field to restrict.
+		 */
+		public function restrictLettersAndNumbers(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.restrict="a-zA-Z0-9";
+		}
+		
+		/**
+		 * Select all the text in a text field.
+		 * 
+		 * @param tf The TextField to select all in.
+		 */
+		public function selectAll(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.setSelection(0,tf.length);
+		}
+		
+		/**
+		 * Deselect a text field.
+		 * 
+		 * @param tf The TextField to deselect.
+		 */
+		public function deselect(tf:TextField):void
+		{
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			tf.setSelection(0,0);
+		}
+		
+		/**
+		 * Set the stage focus to the target text field and select all text in it.
+		 * 
+		 * @param stage The stage instance.
+		 * @param tf The text field.
+		 */
+		public function focusAndSelectAll(stage:Stage,tf:TextField):void
+		{
+			ast.notNil(stage,"Parameter {stage} cannot be null");
+			ast.notNil(tf,"Parameter {tf} cannot be null");
+			stage.focus=tf;
+			selectAll(tf);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/Tracking.as b/src/as/net/guttershark/util/Tracking.as
new file mode 100755
index 0000000..63a7f41
--- /dev/null
+++ b/src/as/net/guttershark/util/Tracking.as
@@ -0,0 +1,142 @@
+package net.guttershark.util
+{
+	import flash.events.StatusEvent;
+	import flash.external.ExternalInterface;
+	import flash.net.LocalConnection;		
+
+	/**
+	 * The Tracking class sends tracking calls through 
+	 * ExternalInterface to the guttershark, javascript
+	 * tracking framework.
+	 * 
+	 * &lt;p>You can shut off the default behavior, of using
+	 * the guttershark, javascript tracking framework, to
+	 * have the tracking calls made from flash.&lt;/p>
+	 */
+	final public class Tracking
+	{
+		
+		/**
+		 * @private (in development)
+		 * A tracking xml file used for sending simulated tracking
+		 * messages to the tracking monitor. This is specifically
+		 * useful for when you're in the Flash IDE and need to
+		 * verify tracking.
+		 */
+		public static var simulationTrackingXML:XML;
+		
+		/**
+		 * Whether or not to use the guttershark, javascript
+		 * tracking framework.
+		 */
+		public static var useTrackingFramework:Boolean=true;
+		
+		/**
+		 * The tracking xml.
+		 */
+		public static var trackingXML:XML;
+		
+		/**
+		 * Local connection for the tracking monitor.
+		 */
+		private static var lc:LocalConnection;
+
+		/**
+		 * Make a tracking call.
+		 * 
+		 * @param xmlid The id in tracking.xml to make tracking calls for.
+		 * @param appendData Any dynamic data to be sent to the tracking framework.
+		 */
+		public static function track(xmlid:String,appendData:Array=null):void
+		{
+			if(!xmlid) throw new ArgumentError("Parameter xmlid cannot be null.");
+			if(simulationTrackingXML)
+			{
+				simulateCall(xmlid,appendData);
+				return;
+			}
+			if(!useTrackingFramework)
+			{
+				webtrends(xmlid,appendData);
+			}
+			else
+			{
+				if(PlayerUtils.gi().isStandAlonePlayer()||PlayerUtils.gi().isIDEPlayer()) return;
+				ExternalInterface.call("flashTrack",xmlid,appendData);
+			}
+		}
+		
+		/**
+		 * Makes webtrends calls.
+		 */
+		private static function webtrends(id:String,appendArr:Array):void
+		{
+			if(!id) return;
+			if(appendArr)trace("webtrends: ",id,appendArr);
+			else trace("webtrends: ",id);
+			var tagStr:String=trackingXML.track.(@id==id).webtrends.toString();
+			var parts:Array=tagStr.split(",");
+			var dcsuri:String=parts[0];
+			var ti:String=parts[1];
+			var cg_n:String=parts[2];
+			if(!cg_n)cg_n="undefined";
+			if(appendArr)
+			{
+				if(appendArr[0]!=null)dcsuri+=appendArr[0];
+				if(appendArr[1]!=null)ti+=appendArr[1];
+				if(appendArr[2]!=null)cg_n+=appendArr[2];
+			}
+			ExternalInterface.call("dcsMultiTrack",'DCS.dcsuri',dcsuri,'WT.ti',ti,'WT_cg_n',cg_n);
+		}
+
+		/**
+		 * Send a simulated message to the tracking monitor.
+		 */
+		private static function simulateCall(id:String, webAppendData:Array=null):void
+		{
+			if(!lc) lc=new LocalConnection();
+			lc.addEventListener(StatusEvent.STATUS,ons);
+			var n:XMLList=simulationTrackingXML.track.(@id == id);
+			if(n.webtrends != undefined) simulateWebtrends(n.webtrends.toString());
+			if(n.atlas != undefined) simulateAtlas(n.atlas.toString());
+			if(n.ganalytics != undefined) simulateGoogle(n.ganalytics.toString());
+		}
+		
+		/**
+		 * On status.
+		 */
+		private static function ons(se:StatusEvent):void{}
+		
+		/**
+		 * Simulate a webtrends call.
+		 */
+		private static function simulateWebtrends(node:String,appendArr:Array=null):void
+		{
+			var parts:Array=node.toString().split(",");
+			var dscuri:String=parts[0];
+			var ti:String=parts[1];
+			var cg_n:String=parts[2];
+			if(appendArr && appendArr[0]) dscuri += appendArr[0];
+			if(appendArr && appendArr[1]) ti += appendArr[1];
+			if(appendArr && appendArr[2]) cg_n += appendArr[2];
+			var newtag:String="wt::" + dscuri + "," + ti + "," + cg_n;
+			lc.send("TrackingMonitor","tracked",newtag);
+		}
+		
+		/**
+		 * Simulate an Atlas track.
+		 */
+		private static function simulateAtlas(str:String):void
+		{
+			lc.send("TrackingMonitor","tracked","al::"+str);
+		}
+		
+		/**
+		 * Simulate a google analytics track.
+		 */
+		private static function simulateGoogle(str:String):void
+		{
+			lc.send("TrackingMonitor","tracked","ga::"+str);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/Utilities.as b/src/as/net/guttershark/util/Utilities.as
new file mode 100644
index 0000000..7c478e7
--- /dev/null
+++ b/src/as/net/guttershark/util/Utilities.as
@@ -0,0 +1,143 @@
+package net.guttershark.util
+{
+	import net.guttershark.util.ArrayUtils;
+	import net.guttershark.util.BitmapUtils;
+	import net.guttershark.util.DateUtils;
+	import net.guttershark.util.DictionaryUtils;
+	import net.guttershark.util.MathUtils;
+	import net.guttershark.util.MouseUtils;
+	import net.guttershark.util.ObjectUtils;
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.StringUtils;
+	import net.guttershark.util.TextFieldUtils;
+	import net.guttershark.util.filters.FilterUtils;	
+
+	/**
+	 * The Utilities class is a singleton that holds references
+	 * to other utility singletons; this is used for inheritance
+	 * chains on CoreClip and CoreSprite, which ultimately gets
+	 * rid of static functions which are on an average 50% slower than
+	 * having a property defined.
+	 */
+	final public class Utilities
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:Utilities;
+		
+		/**
+		 * The singleton instance of ArrayUtils.
+		 */
+		public var array:ArrayUtils;
+		
+		/**
+		 * The singleton instance of BitmapUtils.
+		 */
+		public var bitmap:BitmapUtils;
+
+		/**
+		 * The singleton instance of ColorUtils.
+		 */
+		public var color:ColorUtils;
+
+		/**
+		 * The singleton instance of DateUtils.
+		 */
+		public var date:DateUtils;
+		
+		/**
+		 * The singleton instance of DictionaryUtils.
+		 */
+		public var dict:DictionaryUtils;
+		
+		/**
+		 * The singleton instance of DisplayListUtils.
+		 */
+		public var display:DisplayListUtils;
+
+		/**
+		 * The singleton instance of MathUtils.
+		 */
+		public var math:MathUtils;
+
+		/**
+		 * The singleton instance of MouseUtils.
+		 */
+		public var mouse:MouseUtils;
+		
+		/**
+		 * The singleton instance of ObjectUtils.
+		 */
+		public var object:ObjectUtils;
+		
+		/**
+		 * The singleton instance StringUtils.
+		 */
+		public var string:StringUtils;
+		
+		/**
+		 * The singleton isntance of StyleSheetUtils.
+		 */
+		public var styles:StyleSheetUtils;
+
+		/**
+		 * The singleton instance of TextFieldUtils.
+		 */
+		public var text:TextFieldUtils;
+
+		/**
+		 * The singleton instance of ScopeUtils.
+		 */
+		public var scope:ScopeUtils;
+
+		/**
+		 * The singleton instance of SetterUtils.
+		 */
+		public var setters:SetterUtils;
+		
+		/**
+		 * The singleton instance of FilterUtils.
+		 */
+		public var filters:FilterUtils;
+		
+		/**
+		 * The singleton instance of PlayerUtils.
+		 */
+		public var player:PlayerUtils;
+
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():Utilities
+		{
+			if(!inst)inst=Singleton.gi(Utilities);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function Utilities()
+		{
+			Singleton.assertSingle(Utilities);
+			array=ArrayUtils.gi();
+			bitmap=BitmapUtils.gi();
+			color=ColorUtils.gi();
+			date=DateUtils.gi();
+			dict=DictionaryUtils.gi();
+			display=DisplayListUtils.gi();
+			mouse=MouseUtils.gi();
+			object=ObjectUtils.gi();
+			scope=ScopeUtils.gi();
+			string=StringUtils.gi();
+			text=TextFieldUtils.gi();
+			setters=SetterUtils.gi();
+			filters=FilterUtils.gi();
+			player=PlayerUtils.gi();
+			math=MathUtils.gi();
+			styles=StyleSheetUtils.gi();
+		}
+	}
+}
diff --git a/src/as/net/guttershark/util/XMLLoader.as b/src/as/net/guttershark/util/XMLLoader.as
new file mode 100755
index 0000000..fec90bc
--- /dev/null
+++ b/src/as/net/guttershark/util/XMLLoader.as
@@ -0,0 +1,95 @@
+package net.guttershark.util
+{	
+
+	import flash.events.*;
+	import flash.net.URLLoader;
+	import flash.net.URLLoaderDataFormat;
+	import flash.net.URLRequest;
+	
+	/**
+	 * The XMLLoader class loads xml.
+	 */
+	final public class XMLLoader extends EventDispatcher
+	{	
+
+		/**
+		 * The loader object used for xml loading.
+		 */
+		public var contentLoader:URLLoader;
+		
+		/**
+		 * The final XML data that has been loaded.
+		 */
+		private var _data:XML;
+		
+		/**
+		 * Constructor for XMLLoader instances.
+		 */
+		public function XMLLoader()
+		{
+			contentLoader=new URLLoader();
+			contentLoader.addEventListener(Event.COMPLETE, onXMLComplete);
+		}
+		
+		/**
+		 * Load an xml file.
+		 * 
+		 * @param	request	A URLRequest to the xml file.
+		 * 
+		 * @example Load an xml file:
+		 * &lt;listing>	
+		 * import net.guttershark.managers.EventManager;
+		 * import net.guttershark.util.XMLLoader;
+		 * 
+		 * private var xloader:XMLLoader=new XMLLoader();
+		 * em.handleEvents(xloader,this,"onXML");
+		 * 
+		 * public function onXMLComplete():void
+		 * {
+		 *   trace(e.target.data);
+		 *   trace(xloader.data);
+		 * }
+		 * 
+		 * xloader.load(new URLRequest(myxmlfile));
+		 * &lt;/listing>
+		 */
+		public function load(request:URLRequest):void
+		{
+			if(!request) throw new ArgumentError("Parameter request cannot be null.");
+			contentLoader.dataFormat=URLLoaderDataFormat.TEXT;
+			contentLoader.load(request);
+		}
+		
+		/**
+		 * Close the internal loader instance.
+		 */
+		public function close():void
+		{
+			contentLoader.close();
+		}
+		
+		/**
+		 * The final XML data that has been loaded.
+		 */
+		public function get data():XML
+		{
+			return _data;
+		}
+		
+		/**
+		 * Closes internal loader, and disposes of internal objects in memory.
+		 */
+		public function dispose():void
+		{
+			_data=null;
+			contentLoader.removeEventListener(Event.COMPLETE, onXMLComplete);
+			contentLoader.close();
+			contentLoader=null;
+		}
+		
+		private function onXMLComplete(e:Event):void
+		{
+			_data=XML(e.target.data);
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/akamai/AkamaiNCManager.as b/src/as/net/guttershark/util/akamai/AkamaiNCManager.as
new file mode 100644
index 0000000..cc542b3
--- /dev/null
+++ b/src/as/net/guttershark/util/akamai/AkamaiNCManager.as
@@ -0,0 +1,287 @@
+package net.guttershark.util.akamai
+{
+	import flash.events.Event;
+	
+	import fl.video.*;
+	
+	import net.guttershark.util.akamai.Ident;	
+	use namespace flvplayback_internal;
+    
+    /**
+     * The AkamaiNCManager class is a replacement for the
+     * default NCManager class from Adobe. This is used with
+     * an FLVPlayback component and manages NetConnections
+     * specifically to Akamai.
+     * 
+     * &lt;p>Here's how you set it up:&lt;/p>
+     * 
+     * &lt;listing>	
+	 * import fl.video.VideoPlayer;
+	 * import net.guttershark.akamai.AkamaiNCManager;
+	 * VideoPlayer.iNCManagerClass="net.guttershark.akamai.AkamaiNCManager";
+	 * &lt;/listing>
+     * 
+     * &lt;p>The AkamaNCManager class is set on the VideoPlayer class, because the VideoPlayer
+     * class is used internally to the FLVPlayback Components.&lt;/p>
+     */
+    final public class AkamaiNCManager extends NCManager implements INCManager
+    {
+	    
+	    /**
+	     * A Flash Media Server IP address on the Akamai Network - set this for connections
+	     * instead of a host name address.
+	     * 
+	     * &lt;p>The FMS_IP can be found from an Akamai Ident service. Which returns the best
+	     * IP to use to connect to a Flash Media Server on Akamai's network based off of
+	     * geographical information from the client request.&lt;/p>
+	     * 
+	     * &lt;p>The FMS_IP is automatically sniffed after 1 attempt to connect to an Akamai
+	     * host name. If the Ident service returns an IP, that IP is used for further
+	     * connection attempts.&lt;/p> 
+	     * 
+	     * &lt;p>You can manually find the IP of the best Flash Media Server for the client before making
+	     * any attempts to play streams, and set this property. That way no connections to
+	     * an Akamai host name are attempted. But this is not required.&lt;/p>
+	     */ 
+		public static var FMS_IP:String;
+    	
+    	/**
+    	 * Allow re-use of already connected net connections.
+    	 * It will only re-use when connected to the same domain and
+    	 * app name.
+    	 * 
+    	 * &lt;p>This is recommended you leave false, as even
+    	 * if you are connected with a connection, numerous
+    	 * drops occur and it's very spotty.&lt;/p>
+    	 */
+    	public static var AllowNCReuse:Boolean=false;
+    	
+    	/**
+    	 * The Akamai host found during processing of the
+    	 * requested stream.
+    	 */
+		private var akamaiHost:String;
+    	
+    	/**
+    	 * The Ident instance that sniffs the IP.
+    	 */
+    	private var idnt:Ident;
+    	
+		/**
+		 * Member variable to hold "parse results"
+		 * which is given to us from the suuper class.
+		 */
+		private var parseResults:ParseResults;
+		
+		/**
+		 * @private
+		 * 
+		 * Constructor for AkamaiNCManager instances.
+		 */
+		public function AkamaiNCManager()
+		{
+			super();
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Set the order of connection attempts by protocol and port.
+		 * 
+		 * &lt;p>&lt;strong>&lt;em>In order to use this, you must first update the NCManager class's
+		 * source file and update the declaration for flvplayback_internal::RTMP_CONN.
+		 * It needs to be declared as "public static var."&lt;/em>&lt;/strong>&lt;/p>
+		 * 
+		 * &lt;p>&lt;strong>&lt;em>You must also un-comment a line of code in this source file.&lt;/em>&lt;/strong>&lt;/p>
+		 * 
+		 * &lt;p>uncomment this line:&lt;/p>
+		 * &lt;listing>	
+		 * //NCManager.flvplayback_internal::RTMP_CONN=connectAttempts;
+		 * &lt;/listing>
+		 * 
+		 * &lt;p>Here's an example:&lt;/p>
+		 * 
+		 * &lt;listing>	
+		 * AkamaiNCManager.ConnectOrder=[
+		 * 	 {protocol: "rtmp:/", port:"1935"},
+		 * 	 {protocol: "rtmpt:/", port:"80" },
+		 * 	 {protocol: "rtmp:/", port:"443"}
+		 * ];
+		 * &lt;/listing>
+		 * 
+		 * &lt;p>Those are the default order. And these are the only supported ports and protocols.
+		 * You can just re-order them if needed.&lt;/p>
+		 * 
+		 * @param	connectAttempts		An array of objects with "protocol" and "port" properties on it.
+		 */
+		public static function set ConnectOrder(connectAttempts:Array):void
+		{
+			if(!connectAttempts) throw new ArgumentError("Parameter connectAttempts cannot be null or empty.");
+			//NCManager.flvplayback_internal::RTMP_CONN=connectAttempts;
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * Overrides the connectToURL method for customization.
+		 */
+    	override public function connectToURL(url:String):Boolean
+    	{	
+			initOtherInfo();
+			_contentPath=url;
+    		var canReuse:Boolean;
+    		var returnValue:Boolean;
+    		if(_contentPath == null || _contentPath == "") throw new VideoError(VideoError.INVALID_SOURCE);
+    		//parse URL to determine what to do with it                                        
+    		parseResults=parseURL(_contentPath);
+    		if(parseResults.streamName == null || parseResults.streamName == "") throw new VideoError(VideoError.INVALID_SOURCE, url);
+    		//connect to either rtmp or http or download and parse smil
+    		if(parseResults.isRTMP)
+    		{
+    			_isRTMP=true;
+    			//assumes we are dealing with an Akamai URL
+    			//check to see if the serverName and app names match
+    			if(AkamaiNCManager.AllowNCReuse)
+    			{
+    				//trace("AkamaiNCManager.AllowReconnect");
+    				if(akamaiHost == parseResults.serverName && getAkamaiAppName(url) == _appName)
+	    			{
+	    				//trace("Reusing existing Akamai connection");
+	    				_streamName=getAkamaiStreamName(url);
+	    				if(_streamName.slice(-4).toLowerCase() == ".flv") _streamName=_streamName.slice(0, -4);
+	    				//if this host and app is already in use then reuse the existing connection.
+	    				returnValue=true;
+	    			}
+	    			else
+	    			{
+	    				//canReuse=canReuseOldConnection(parseResults);
+	    				if(!AkamaiNCManager.FMS_IP) sniffFMSIP();
+	    				if(!parseResults) parseResults=parseURL(_contentPath);
+						akamaiHost=parseResults.serverName;
+						_protocol=parseResults.protocol;
+						_wrappedURL=parseResults.wrappedURL;
+						_portNumber=parseResults.portNumber;
+						if(AkamaiNCManager.FMS_IP) _serverName=AkamaiNCManager.FMS_IP;
+	    				else _serverName=parseResults.serverName;
+						_appName=getAkamaiAppName(_contentPath);
+						_streamName=getAkamaiStreamName(_contentPath);
+	    				if(_appName == null || _appName == "" || _streamName == null || _streamName == "") throw new VideoError(VideoError.INVALID_SOURCE, url);
+	    				//trace("2Using the Akamai FMS server at: "+ _serverName);
+						//trace("2Akamai app name: " + _appName);
+						//trace("2Akamai stream name:" + _streamName);
+	    				_autoSenseBW=(_streamName.indexOf(",") >= 0);
+	    				returnValue=false;
+    				}
+    			}
+    			else
+    			{
+    				if(!AkamaiNCManager.FMS_IP)
+    				{
+    					sniffFMSIP();
+    					returnValue=false;
+    				}
+    				else
+    				{
+    					if(!parseResults) parseResults=parseURL(_contentPath);
+						akamaiHost=parseResults.serverName;
+						_protocol=parseResults.protocol;
+						_wrappedURL=parseResults.wrappedURL;
+						_portNumber=parseResults.portNumber;
+						if(AkamaiNCManager.FMS_IP) _serverName=AkamaiNCManager.FMS_IP;
+	    				else _serverName=parseResults.serverName;
+						_appName=getAkamaiAppName(_contentPath);
+						_streamName=getAkamaiStreamName(_contentPath);
+						if(_streamName.indexOf(".flv") != -1) _streamName=_streamName.slice(0, _streamName.indexOf(".flv"))+_streamName.slice(_streamName.indexOf(".flv")+4, _streamName.length);
+						if(_streamName.slice(-4).toLowerCase() == ".mp3") _streamName=_streamName.slice(0, -4);
+						//trace("3Using the Akamai FMS server at: "+ _serverName);
+						//trace("3Akamai app name: " + _appName);
+						//trace("3Akamai stream name:" + _streamName);
+						if(_appName == null || _appName == "" || _streamName == null || _streamName == "") throw new VideoError(VideoError.INVALID_SOURCE, _contentPath);
+						returnValue=connectRTMP();
+    				}
+    			}
+    		}
+    		else
+    		{
+    			if(parseResults.streamName.toLowerCase().indexOf(".flv") > -1)
+    			{
+    				//trace("HTTP");
+    				canReuse=canReuseOldConnection(parseResults);
+    				_isRTMP=false;
+    				_streamName=parseResults.streamName;
+    				returnValue= (canReuse || connectHTTP());
+    			}
+    			else throw new Error("SMIL Not Supported by the AkamaiNCManager class");
+    		}
+    		return returnValue;
+    	}
+    	
+    	/**
+    	 * Initiates an attempt to sniff the FMS 
+    	 * IP that the client is currently resolving to.
+    	 */
+    	private function sniffFMSIP():void
+    	{
+    		if(!parseResults) parseResults=parseURL(_contentPath);
+			idnt=new Ident();
+			idnt.contentLoader.addEventListener(Event.COMPLETE,onIPSniff);
+			idnt.findBestIPForAkamaiApplication("http://" + parseResults.serverName);
+    	}
+    	
+    	/**
+    	 * After succesfully loading the ident XML
+    	 */
+    	private function onIPSniff(e:Event):void
+    	{
+    		var xml:XML=e.target.data as XML;
+    		if(xml.ip) AkamaiNCManager.FMS_IP=xml.ip.toString();
+    		try
+    		{
+    			if(!parseResults) parseResults=parseURL(_contentPath);
+				akamaiHost=parseResults.serverName;
+				_isRTMP=true;
+				_protocol=parseResults.protocol;
+				_wrappedURL=parseResults.wrappedURL;
+				_portNumber=parseResults.portNumber;
+				_serverName=AkamaiNCManager.FMS_IP;
+				_appName=getAkamaiAppName(_contentPath);
+				_streamName=getAkamaiStreamName(_contentPath);
+				if(_streamName.indexOf(".flv") != -1) _streamName=_streamName.slice(0, _streamName.indexOf(".flv"))+_streamName.slice(_streamName.indexOf(".flv")+4, _streamName.length);
+				if(_streamName.slice(-4).toLowerCase() == ".mp3") _streamName=_streamName.slice(0, -4);
+				//trace("Using the Akamai FMS server at: "+ _serverName);
+				//trace("Akamai app name: " + _appName);
+				//trace("Akamai stream name:" + _streamName);
+				if(_appName == null || _appName == "" || _streamName == null || _streamName == "") throw new VideoError(VideoError.INVALID_SOURCE, _contentPath);
+				connectRTMP();
+    		}
+    		catch(error:Error)
+    		{
+    			_nc=null;
+    			_owner.ncConnected();
+    			throw error;
+    		}
+    	}
+	    
+	    /**
+	     * Get the Akamai App Name, usually "ondemand"
+	     */
+    	private function getAkamaiAppName(p:String):String
+    	{
+    		//first check if a vhost is being passed in
+    		var a:String;
+    		if(p.indexOf("_fcs_vhost") != -1) a=p.slice(p.indexOf("/", 10)+1, p.indexOf("/", p.indexOf("/", 10)+1))+"?_fcs_vhost="+p.slice(p.indexOf("_fcs_vhost")+11);
+    		else a=p.slice(p.indexOf("/", 10)+1, p.indexOf("/", p.indexOf("/", 10)+1))+"?_fcs_vhost="+parseURL(p).serverName;
+    		if(p.indexOf("?") != -1) a=a+"&"+p.slice(p.indexOf("?")+1);
+    		return a;
+    	}
+		
+		/**
+		 * Get the stream name we're trying to play.
+		 */
+    	private function getAkamaiStreamName(p:String):String
+    	{
+    		var tempApp:String=p.slice( p.indexOf("/",10) + 1, p.indexOf("/", p.indexOf("/",10) + 1));
+    		return p.indexOf("_fcs_vhost") != -1 ? p.slice(p.indexOf(tempApp)+tempApp.length+1, p.indexOf("_fcs_vhost")-1) : p.slice(p.indexOf(tempApp)+tempApp.length+1);
+    	}
+    }
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/akamai/Ident.as b/src/as/net/guttershark/util/akamai/Ident.as
new file mode 100644
index 0000000..f66c78a
--- /dev/null
+++ b/src/as/net/guttershark/util/akamai/Ident.as
@@ -0,0 +1,100 @@
+package net.guttershark.util.akamai
+{
+	import flash.events.Event;
+	import flash.net.URLLoader;
+	import flash.net.URLRequest;
+	
+	import net.guttershark.util.XMLLoader;
+
+	/**
+	 * The Ident class is used for pinging an Akamai Ident service to determine
+	 * the best IP to use for a Flash Media Server on the Akamai network. The Ident
+	 * service returns an XML file with an IP address in it.
+	 * 
+	 * &lt;p>Ident services take geographical positions into account and returns 
+	 * the best IP address to use for a Flash Media Server on Akamai's network.&lt;/p>
+	 */
+	final public class Ident
+	{
+
+		/**
+		 * The IP address that was found from the Akamai Ident Service.
+		 */
+		public var ip:String;
+		
+		/**
+		 * XML Loader.
+		 */
+		private var _contentLoader:XMLLoader;
+		
+		/**
+		 * Constructor for Ident instances.
+		 */
+		public function Ident()
+		{
+			_contentLoader=new XMLLoader();
+			_contentLoader.contentLoader.addEventListener(Event.COMPLETE,onxml,false,11,false);
+		}
+		
+		/**
+		 * Find the best IP for an Akamai Application.
+		 * 
+		 * @param akamaiURI Your akamai application URI. 
+		 * 
+		 * @example Using Ident:
+		 * &lt;listing>	
+		 * import net.guttershark.akamai.AkamaiNCManager;
+		 * import net.guttershark.akamai.Ident;
+		 * import flash.events.Event;
+		 * var i:Ident=new Ident();
+		 * i.contentLoader.addEventListener(Event.COMPLETE, onc);
+		 * function onc(e:Event):void
+		 * {
+		 *    trace(e.target.data.ip);
+		 *    trace(i.ip);
+		 *    AkamaiNCManager.FMS_IP=i.ip;
+		 * }
+		 * i.findBestIPForAkamaiApplication("http://cp44952.edgefcs.net/");
+		 * &lt;/listing>
+		 */
+		public function findBestIPForAkamaiApplication(akamaiAppURL:String):void
+		{
+			//matches one of these:
+			//http://cp44952.edgefcs.net/
+			//http://cp44952.edgefcs.net
+			//https://cp44952.edgefcs.net/
+			//https://cp44952.edgefcs.net
+			var reg:RegExp=new RegExp("^https?\://cp[0-9]{1,9}\.edgefcs\.net/?$","i");
+			if(!akamaiAppURL) throw new Error("The Akamai host cannot be null");
+			if(!akamaiAppURL.match(reg)) throw new Error("The supplied Akamai Application URL is not correctly formatted. Here is a RegExp that demonstrates how to format it: ^https?\://cp[0-9]{1,9}\.edgefcs\.net/?$");
+			_contentLoader.load(new URLRequest(akamaiAppURL + "/fcs/ident/"));
+		}
+		
+		/**
+		 * on xml load.
+		 */
+		private function onxml(e:Event):void
+		{
+			_contentLoader.contentLoader.removeEventListener(Event.COMPLETE, onxml);
+			this.ip=XML(e.target.data).ip.toString();
+		}
+		
+		/**
+		 * Dispose of this Ident instance.
+		 */
+		public function dispose():void
+		{
+			if(!ip) _contentLoader.contentLoader.removeEventListener(Event.COMPLETE, onxml);
+			_contentLoader=null;
+			ip=null;
+		}
+		
+		/**
+		 * The loader used to load XML from the Akamai ident service.
+		 */
+		public function get contentLoader():URLLoader
+		{
+			return _contentLoader.contentLoader;
+		}
+	}
+}
diff --git a/src/as/net/guttershark/util/autosuggest/AutoSuggest.as b/src/as/net/guttershark/util/autosuggest/AutoSuggest.as
new file mode 100644
index 0000000..fc7b880
--- /dev/null
+++ b/src/as/net/guttershark/util/autosuggest/AutoSuggest.as
@@ -0,0 +1,164 @@
+package net.guttershark.util.autosuggest
+{
+	
+	/**
+	 * The AutoSuggest class provides the search logic needed for an auto suggest,
+	 * as well as providing you with match data.
+	 * 
+	 * &lt;p>The AutoSuggest class searches through the provided a list of terms
+	 * for a specific search term.&lt;/p>
+	 * 
+	 * &lt;p>As an example. Assume you had this list of words to search through:&lt;/p>
+	 * 
+	 * &lt;ul>
+	 * &lt;li>George Bush&lt;/li>
+	 * &lt;li>Samuel L. Jackson&lt;/li>
+	 * &lt;li>Flash&lt;/li>
+	 * &lt;li>Flex&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>Now assume you started typing "Fl", the AutoSuggest instance would return an
+	 * array of AutoSuggestMatches. The two that matched were Flash and Flex.&lt;/p>
+	 */
+	public class AutoSuggest
+	{
+
+		/**
+		 * The terms currently being looked through
+		 */
+		private var _terms:Array;
+		
+		/**
+		 * If the search is case sensitive
+		 */
+		private var caseSensitive:Boolean;
+		
+		/**
+		 * Constructor for AutoSuggest instances.
+		 * 
+		 * @param	terms	An array of strings to search through.
+		 * @param	caseSensitive	If case sensitivity matters.
+		 * @throws  ArgumentError	If the terms array is null.
+		 */
+		public function AutoSuggest(terms:Array, caseSensitive:Boolean=false):void
+		{
+			if(!terms) throw new ArgumentError("The terms to search through must be provided");
+			_terms=terms;
+			this.caseSensitive=caseSensitive;
+			terms.sort();
+		}
+		
+		/**
+		 * Search through the terms in this auto suggest instance for a particular
+		 * word or phrase.
+		 * 
+		 * &lt;p>Example usage:&lt;/p>
+		 * &lt;listing>	
+		 * import net.guttershark.util.autosuggest.AutoSuggest;
+		 * 
+		 * var terms:Array=[
+		 *   "George Bush", "Chaotmic Matter", "Particle Effects", "Word up",
+		 *   "Gangsta", "The Tony Danza Tap Dance Extravaganza", "Good bye",
+		 *   "Goodby","Gaa"
+		 * ];
+		 * 
+		 * var ast:AutoSuggest=new AutoSuggest(terms,false);
+		 * var a:*=ast.search("The Tony",true);
+		 * 
+		 * trace(a[0].term);
+		 * trace(a[0].highlightedTerm);
+		 * 
+		 * var b:*=ast.search("G",true)
+		 * trace(b.length);
+		 * 
+		 * for(var i:int=0; i &lt; b.length; i++)
+		 * {
+		 *    trace(b[i].term + " :: " + b[i].highlightedTerm);
+		 * }
+		 * &lt;/listing>
+		 * 
+		 * @param term The term to search for.
+		 * @param returnLowercaseMatches Return all lowercase matches.
+		 * @return Array An array of AutoSuggestMatches.
+		 */
+		public function search(term:String,returnLowercaseMatches:Boolean=true):Array
+		{
+			if(!caseSensitive) term=term.toLowerCase();
+			var resultsTop:Array=[];
+			//var resultsContains:Array=[];
+			var termsLen:int=_terms.length;
+			var regexTop:RegExp;
+			//var regexContains:RegExp;
+			var regexExact:RegExp;
+			var exactMatch:*;
+			if(caseSensitive)
+			{
+				regexExact=new RegExp("^" + term + "$","i");
+				regexTop=new RegExp("^" + term,"i");
+				//regexContains=new RegExp(term,"i");
+			}
+			else
+			{
+				regexExact=new RegExp("^" + term + "$","");
+				regexTop=new RegExp("^" + term,"");
+				//regexContains=new RegExp(term,"");
+			}
+			for(var i:int=0; i &lt; termsLen; i++)
+			{
+				var nterm:String=(caseSensitive) ? _terms[i] : _terms[i].toLowerCase();
+				if(returnLowercaseMatches) nterm=nterm.toLowerCase();
+				var matchExact:Object=nterm.match(regexExact);
+				var matchTop:Object=nterm.match(regexTop);
+				//var matchContains:Object=nterm.match(regexContains);
+				var highlightedTerm:String;
+				var matchf:AutoSuggestMatch;
+				if(matchExact)
+				{
+					highlightedTerm="&lt;span class='suggestedTerm'>&lt;span class='matchedLetters'>" + nterm + "&lt;/span>&lt;/span>";
+					exactMatch=new AutoSuggestMatch(nterm, highlightedTerm);
+				}
+				else if(matchTop)
+				{
+					highlightedTerm="&lt;span class='suggestedTerm'>" + nterm.substr(0,matchTop.index) + "&lt;span class='matchedLetters'>" + nterm.substr(matchTop.index,matchTop[0].length) + "&lt;/span>" + nterm.substr((matchTop.index + matchTop[0].length), nterm.length) + "&lt;/span>";
+					matchf=new AutoSuggestMatch(nterm, highlightedTerm);
+					resultsTop.push(matchf);
+				}
+				/*else if(matchContains)
+				{
+					highlightedTerm="&lt;span class='suggestedTerm'>";					
+					pre=nterm.substr(0,matchContains.index);
+					colorized="&lt;span class='matchedLetters'>" + nterm.substr(matchContains.index,matchContains[0].length) + "&lt;/span>";
+					post=nterm.substr((matchContains.index + matchContains[0].length), nterm.length) + "&lt;/span>";
+					highlightedTerm += pre + colorized + post;
+					matchf=new AutoSuggestMatch(nterm, highlightedTerm);
+					resultsContains.push(matchf);	
+				}*/
+			}
+			resultsTop.sortOn("term");
+			//resultsContains.sortOn("term");
+			var finalResults:Array=resultsTop.concat();
+			if(exactMatch) finalResults.unshift(exactMatch);
+			return finalResults;
+		}
+		
+		/**
+		 * Set the terms to search through.
+		 * 
+		 * @param terms An array of strings.
+		 */
+		public function set terms(terms:Array):void
+		{
+			if(!terms) throw new ArgumentError("Terms cannot be null");
+			_terms=terms;
+		}
+		
+		/**
+		 * Dispose of internal objects in memory.
+		 */
+		public function dispose():void
+		{
+			_terms=null;
+			caseSensitive=false;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/autosuggest/AutoSuggestMatch.as b/src/as/net/guttershark/util/autosuggest/AutoSuggestMatch.as
new file mode 100644
index 0000000..9ba54a0
--- /dev/null
+++ b/src/as/net/guttershark/util/autosuggest/AutoSuggestMatch.as
@@ -0,0 +1,65 @@
+package net.guttershark.util.autosuggest
+{
+	
+	/**
+	 * The AutoSuggestMatch class represents a matched search term that was found
+	 * in an AutoSuggest instance.
+	 * 
+	 * &lt;p>It provide you with the unchanged original term from the auto suggest, as
+	 * well as a highlighted term that is wrapped in HTML to provide you with a way
+	 * to do highlighting&lt;/p>
+	 * 
+	 * &lt;p>Consider this example of a "highlightedTerm":&lt;/p>
+	 * 
+	 * &lt;listing>	
+	 * &lt;span class='suggestedTerm'&gt;&lt;span class="matchedLetters"&gt;Georg&lt;/span&gt;e Bush&lt;/span&gt;
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>In that example, the original term was "George Bush" and the matched part of the
+	 * term was "Georg".&lt;/p>
+	 * 
+	 * &lt;p>The highlightedTerm is provided specifically for working with textfields
+	 * and styles. You can set the style of both the span class's to provide a highlight
+	 * effect.&lt;/p>
+	 */
+	public class AutoSuggestMatch
+	{
+
+		/**
+		 * The un-changed full term from the auto suggest searchable terms.
+		 */
+		public var term:String;
+		
+		/**
+		 * An HTML representation of the term that provides a way to use
+		 * styles on a textfield for highlights.
+		 * 
+		 * @example A highlighted term string:
+		 * &lt;listing>	
+		 * &lt;span class='suggestedTerm'&gt;&lt;span class="matchedLetters"&gt;Georg&lt;/span&gt;e Bush&lt;/span&gt;
+		 * &lt;/listing>
+		 */
+		public var highlightedTerm:String;
+		
+		/**
+		 * Constructor for AutoSuggestMatch instances.
+		 * 
+		 * @param	term	The un-changed term from the auto suggest search terms.
+		 * @param	highlightedTerm		An HTML wrapped representation of the term.
+		 */
+		public function AutoSuggestMatch(term:String, highlightedTerm:String):void
+		{
+			this.term=term;
+			this.highlightedTerm=highlightedTerm;
+		}
+		
+		/**
+		 * Dispose of internal objects in memory.
+		 */
+		public function dispose():void
+		{
+			term=null;
+			highlightedTerm=null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/cache/Cache.as b/src/as/net/guttershark/util/cache/Cache.as
new file mode 100644
index 0000000..8006dde
--- /dev/null
+++ b/src/as/net/guttershark/util/cache/Cache.as
@@ -0,0 +1,148 @@
+package net.guttershark.util.cache
+{
+	import net.guttershark.util.Assertions;	
+	
+	import flash.utils.Dictionary;
+	import flash.utils.clearInterval;
+	import flash.utils.setInterval;
+	
+	/**
+	 * The Cache class caches objects in memory.
+	 * 
+	 * @example Caching an object:
+	 * &lt;listing>	
+	 * var cache:Cache=new Cache();
+	 * var toCache:Object={myKey:"Hello",myOtherKey:"World"};
+	 * cache.cacheObject("tocache",toCache);
+	 * trace(cache.getCachedObject("tocache"));
+	 * &lt;/listing>
+	 */
+	public class Cache
+	{
+
+		/**
+		 * The memory cache
+		 */	
+		private var cache:Dictionary;
+		
+		/**
+		 * The interval pointer that is purging
+		 * all cache.
+		 */
+		private var purgeAllInterval:int;
+		
+		/**
+		 * Assertions instance.
+		 */
+		private var ast:Assertions;
+
+		/**
+		 * Constructor for Cache instances.
+		 * 
+		 * @param purgeAllTimeout An interval that purges all items in the cache for every time the interval is called.
+		 */
+		public function Cache(purgeAllInterval:int=-1)
+		{
+			if(purgeAllInterval > -1) purgeAllInterval=flash.utils.setInterval(purgeAll, purgeAllInterval);
+			cache=new Dictionary(true);
+			ast=Assertions.gi();
+		}
+		
+		/**
+		 * Purges all cache.
+		 */
+		public function purgeAll():void
+		{
+			//destroy all items in the cache
+			var k:*;
+			for each(k in cache) CacheItem(cache[k]).dispose();
+			cache=new Dictionary(true);
+		}
+		
+		/**
+		 * Dispose of this Cache instance. The difference between this
+		 * and purgeAll is that dispose will render this cache instance
+		 * not usable again. But purgeAll simply resets this cache, and is
+		 * still usable afterwords.
+		 */
+		public function dispose():void
+		{
+			purgeAll();
+			cache=null;
+		}
+		
+		/**
+		 * Clear the internal purge all interval.
+		 */
+		public function clearPurgeAllInterval():void
+		{
+			clearInterval(purgeAllInterval);
+		}
+		
+		/**
+		 * Set and or reset the purge all interval.
+		 */
+		public function setPurgeAllInterval(interval:Number):void
+		{
+			clearInterval(purgeAllInterval);
+			setInterval(purgeAll,interval);
+		}
+		
+		/**
+		 * Purge one item.
+		 * 
+		 * @param key The key for the object that is stored.
+		 */
+		public function purgeItem(key:*):void
+		{
+			if(!cache[key]) return;
+			else if(cache[key])
+			{
+				var ci:CacheItem=CacheItem(cache[key]);
+				ci.dispose();
+				cache[key]=null;
+			}
+		}
+		
+		/**
+		 * Cache an object in memory.
+		 * 
+		 * @param key The key to store the object by.
+		 * @param obj The object data.
+		 * @param expiresTimeout The timeout to expire this item after.
+		 * @param overwrite	Overwrite the previously cached item.
+		 */
+		public function cacheObject(key:*, obj:*, expiresTimeout:int=-1, overwrite:Boolean=false):void
+		{
+			ast.notNil(key,"Parameter {key} cannot be null.");
+			ast.notNil(obj,"Parameter {obj} cannot be null.");
+			if(!cache[key] || overwrite)
+			{
+				var cacheItem:CacheItem=new CacheItem(key,obj,purgeItem,expiresTimeout);
+				cache[key]=cacheItem;
+			}
+		}
+		
+		/**
+		 * Test whether or not an object is cached.
+		 * 
+		 * @param key The key of the object that is cached.
+		 */
+		public function isCached(key:*):Boolean
+		{
+			return (!(cache[key]==null));
+		}
+		
+		/**
+		 * Get's a cached Object.
+		 * 
+		 * @param key The key of the object that is cached.
+		 */
+		public function getCachedObject(key:*):*
+		{
+			ast.notNil(cache[key],"No cached item existed for " + key.toString() + " use the isCached() function before calling getCachedItem",Error);
+			var item:CacheItem=cache[key] as CacheItem;
+			return item.object;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/cache/CacheItem.as b/src/as/net/guttershark/util/cache/CacheItem.as
new file mode 100644
index 0000000..f7709e1
--- /dev/null
+++ b/src/as/net/guttershark/util/cache/CacheItem.as
@@ -0,0 +1,73 @@
+package net.guttershark.util.cache
+{
+	
+	import flash.utils.*;
+	
+	/**
+	 * The CacheItem class is used internally to a Cache instance. Each item
+	 * in a Cache that is stored, is wrapped by this CacheItem instance to allow
+	 * for expirations at an object level.
+	 * 
+	 * &lt;p>This class does not need to be used in order to store something in a Cache.&lt;p>
+	 */
+	final public class CacheItem
+	{
+		
+		/**
+		 * The callback to call when this item expires.
+		 */
+		private var purgeCallback:Function;
+		
+		/**
+		 * The timeout to expire.
+		 */
+		public var timeout:int;
+		
+		/**
+		 * The stored data.
+		 */
+		public var object:*;
+		
+		/**
+		 * The key that was used in the actual cache.
+		 */
+		public var cacheKey:String;
+		
+		/**
+		 * Constructor for CacheItem instances.
+		 * 
+		 * @param key The key to store the object by.
+		 * @param obj The object you want stored by key.
+		 * @param purgeCallback The callback function that purges this object.
+		 * @param timeout The timeout in which to expie this object.
+		 */
+		public function CacheItem(key:String,object:*,purgeCallback:Function,timeout:int=-1):void
+		{
+			this.purgeCallback=purgeCallback;
+			cacheKey=key;
+			this.timeout=timeout;
+			this.object=object;
+			if(timeout>-1) flash.utils.setTimeout(purgeItem, timeout);
+		}
+		
+		/**
+		 * On timeout, the item is expired.
+		 */
+		private function purgeItem():void
+		{
+			this.purgeCallback(cacheKey);
+		}
+		
+		/**
+		 * Destroy this cache items internal variables.
+		 */
+		public function dispose():void
+		{
+			purgeCallback=null;
+			cacheKey=null;
+			flash.utils.clearTimeout(timeout);
+			timeout=NaN;
+			object=null;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/cache/DescribeTypeCache.as b/src/as/net/guttershark/util/cache/DescribeTypeCache.as
new file mode 100644
index 0000000..f8d2a40
--- /dev/null
+++ b/src/as/net/guttershark/util/cache/DescribeTypeCache.as
@@ -0,0 +1,56 @@
+package net.guttershark.util.cache 
+{
+	import net.guttershark.util.Singleton;		
+
+	/**
+	 * The DescribeType classs wraps the flash.util.describeType
+	 * function and caches all object descriptions so that
+	 * describeType will only be called once for any object.
+	 */
+	final public class DescribeTypeCache 
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:DescribeTypeCache;
+		
+		/**
+		 * The type cache.
+		 */
+		private var dcache:Cache;
+		
+		/**
+		 * Singleton access.
+		 */
+		public static function gi():DescribeTypeCache
+		{
+			if(!inst) inst=Singleton.gi(DescribeTypeCache);
+			return inst;
+		}
+		
+		/**
+		 * @private
+		 */
+		public function DescrybeTypeCache():void
+		{
+			Singleton.assertSingle(DescribeTypeCache);
+			dcache=new Cache();
+		}
+		
+		/**
+		 * Returns the type description for an object.
+		 * 
+		 * @param obj The object to describe.
+		 */
+		public function describeType(obj:*):XML
+		{
+			var x:XML;
+			if(dcache.isCached(obj)) x=dcache.getCachedObject(obj);
+			else
+			{
+				x=describeType(obj);
+				dcache.cacheObject(obj,x);
+			}
+			return x;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/collections/ArrayBidirectionalIterator.as b/src/as/net/guttershark/util/collections/ArrayBidirectionalIterator.as
new file mode 100644
index 0000000..5154884
--- /dev/null
+++ b/src/as/net/guttershark/util/collections/ArrayBidirectionalIterator.as
@@ -0,0 +1 @@
+package net.guttershark.util.collections 
{

	/**
	 * The ArrayBidirectionalIterator class provides a non-destructive,
	 * pointer-based, bi-directional array iterator.
	 */
	public class ArrayBidirectionalIterator
	{

		/**
		 * @private
		 */
		protected var _array:Array;
		
		/**
		 * @private
		 */
		protected var _pointer:int;

		/**
		 * Constructor for ArrayBidirectionalIterator instances.
		 * 
		 * @param array The array to iterate over.
		 */
		public function ArrayBidirectionalIterator(array:Array) 
		{
			_array=array.concat();
			reset();
		}

		/**
		 * The previous element, or null.
		 */
		public function previous():Object
		{
			return hasPrevious()?_array[_pointer--]:null;
		}

		/**
		 * The next element, or null.
		 */
		public function next():Object 
		{
			return hasNext()?_array[_pointer++]:null;
		}		

		/**
		 * The current element.
		 */
		public function current():Object 
		{
			return _array[_pointer];
		}

		/**
		 * Resets the pointer.
		 */
		public function reset():void
		{
			_pointer=0;
		}

		/**
		 * Check if iterator has a previous element.
		 */
		public function hasPrevious():Boolean 
		{
			return (_pointer>-1);
		}	

		/**
		 * Check if iterator has a next element.
		 */
		public function hasNext():Boolean 
		{
			return (_pointer&lt;_array.length);
		}

		/**
		 * Return a glimpse of the previous element without 
		 * updating the array element pointer, or &lt;code>null&lt;/code>.
		 */
		public function glimpse():Object
		{
			return (_pointer-1>=0)?_array[_pointer-1]:null;
		}		

		/**
		 * Return a peek of the next element without 
		 * updating the array element pointer, or &lt;code>null&lt;/code>.
		 */
		public function peek():Object
		{
			return (_pointer+1&lt;=_array.length )?_array[_pointer + 1]:null;
		}

		/**
		 * The collection length.
		 */
		public function get length():int 
		{
			return _array.length;
		}

		/**
		 * @private
		 * The interative pointer index.
		 */
		public function get pointer():int
		{
			return _pointer;
		}

		/**
		 * @private
		 */
		public function set pointer(i:int):void 
		{
			_pointer=i;
		}
		
		/**
		 * Dispose of this iterator.
		 */
		public function dispose():void
		{
			_pointer=0;
			_array=null;
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/collections/ArrayBounceIterator.as b/src/as/net/guttershark/util/collections/ArrayBounceIterator.as
new file mode 100644
index 0000000..2f9213b
--- /dev/null
+++ b/src/as/net/guttershark/util/collections/ArrayBounceIterator.as
@@ -0,0 +1,39 @@
+package net.guttershark.util.collections 
+{
+	/**
	 * The ArrayBounceIterator class provides a non-destructive,
+	 * pointer-based, bouncing array iterator which moves
+	 * to the end of the array then reverses direction backward
+	 * & forward.
	 */
	final public class ArrayBounceIterator
	{
		
+		/**
+		 * @private
+		 */
		protected var _array:Array;
		
+		/**
+		 * @private
+		 */
+		protected var _pointer:int;
		
+		/**
+		 * @private
+		 */
+		protected var _isForward:Boolean;
		
+		/**
+		 * @private
+		 */
+		protected var _isSkipRepeat:Boolean;
		
		/**
		 * Constructor for ArrayBounceIterator instances.
		 * @param array The array to iterate over.
		 * @param skipDuplicate If &lt;code>true&lt;/code> iterate &lt;code>0,1,2,1,0&lt;/code> rather than &lt;code>0,1,2,2,1,0&lt;/code>.
		 */
		public function ArrayBounceIterator(array:Array, isSkipRepeat:Boolean=true) 
		{
			_array=array.concat();
			_isSkipRepeat=isSkipRepeat;
			reset();
		}
		
		/**
		 * The next element, or null.
		 */
		public function next():Object 
		{
			var p:int=movePointer();
			return hasNext() ? _array[p] : null;
		}		
		
		/**
		 * The current element.
		 */
		public function current():Object 
		{
			return _array[_pointer];
		}
		
		/**
		 * Resets the pointer.
		 */
		public function reset():void 
		{
			_pointer=-1;
			_isForward=true;
		}	

		/**
		 * There will always be a next item, as
+		 * when the pointer is at the end, it switches
+		 * direction.
		 */
		public function hasNext():Boolean 
		{
			return true;
		}		

		/**
		 * Return a &lt;code>peek&lt;/code> of the next element without 
+		 * updating the array element pointer, or return
+		 * &lt;code>null&lt;/code> if none.
		 */
		public function peek():Object 
		{
			return _array[movePointer(true)];
		}

		/**
+		 * @private
		 * Move the pointer in the proper direction; bounce at either end.
		 * @param isPreview if &lt;code>true&lt;/code> the pointer will not be iterated; but will return a preview pointer index.
		 */
		protected function movePointer(isPreview:Boolean=false):int 
		{
			var p:int=_pointer;
			if(_isForward) 
			{
				if(p&lt;_array.length-1)p++;
				else
				{
					_isForward=false;
					var restep:int=(_isSkipRepeat)?2:1;
					p=_array.length-restep;	
				}
			} 
+			else 
			{
				if(p>0)p--;
				else 
				{
					_isForward=true;
					p=(_isSkipRepeat)?1:0;
				}
			}
			if(!isPreview) _pointer=p;
			return p;
		}

		/**
		 * The collection length.
		 */
		public function get length():int
		{
			return _array.length;
		}

		/**
+		 * @private
		 * The interative pointer index.
		 */
		public function get pointer():int 
		{
			return _pointer;
		}

		/**
		 * @private
		 */
		public function set pointer(i:int):void 
		{
			_pointer=i;
		}
+		
+		/**
+		 * Dispose of this iterator.
+		 */
+		public function dispose():void
+		{
+			_pointer=0;
+			_array=null;
+			_isForward=false;
+			_isSkipRepeat=false;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/collections/ArrayIterator.as b/src/as/net/guttershark/util/collections/ArrayIterator.as
new file mode 100644
index 0000000..b2ce1f6
--- /dev/null
+++ b/src/as/net/guttershark/util/collections/ArrayIterator.as
@@ -0,0 +1 @@
+package net.guttershark.util.collections
{
	
	/**
	 * The ArrayIterator class iterates over an array.
	 * This is self-destructive - meaning it copies your
	 * array to iterate over, but after you've gotten
	 * through all of the elements, this iterator
	 * is not usable again, because the internal
	 * array is now empty.
	 */
	final public class ArrayIterator
	{

		/**
		 * @private
		 */
		protected var _array:Array;

		/**
		 * Constructor for ArrayIterator instances.
		 * 
		 * @param array	The array to iterate over.
		 */
		public function ArrayIterator(array:Array)
		{
			_array=array.concat();
		}
		
		/**
		 * Check if iterator has a next element.
		 */
		public function hasNext():Boolean
		{
			return (_array.length>0);
		}

		/**
		 * Get the next item.
		 */
		public function next():Object
		{
			return (_array.shift());
		}
		
		/**
		 * Get's the next item, but doesn't remove it.
		 */
		public function peek():Object 
		{
			return (_array.length>0)?_array[0]:null;
		}
		
		/**
		 * Dispose of this iterator.
		 */
		public function dispose():void
		{
			_array=null;
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/collections/ArrayLoopableIterator.as b/src/as/net/guttershark/util/collections/ArrayLoopableIterator.as
new file mode 100644
index 0000000..7a95ad4
--- /dev/null
+++ b/src/as/net/guttershark/util/collections/ArrayLoopableIterator.as
@@ -0,0 +1,2 @@
+package net.guttershark.util.collections
{
	
	import net.guttershark.util.collections.ArrayBidirectionalIterator;	
+	
	/**
	 * The ArrayLoopableIterator class provides a non-destructive,
	 * pointer-based, looping bi-directional array iterator.
	 */
	final public class ArrayLoopableIterator extends ArrayBidirectionalIterator
	{

		/**
		 * Constructor for ArrayLoopableIterator instances.
		 * 
		 * @param array The array to iterate over.
		 */
		public function ArrayLoopableIterator(array:Array)
		{
			super(array);
		}

		/**
		 * Returns the previous object, and will go to the end
		 * once the pointer get's to the beginning.
		 */
		override public function previous():Object
		{
			if(super.hasPrevious()) return super.previous();
			else 
			{
				_pointer=_array.length - 1;
				return _array[_pointer];
			}
		}

		/**
		 * Returns the next object, and will start
		 * over when reached the end.
		 */
		override public function next():Object 
		{
			if(super.hasNext())return super.next();
			else 
			{
				super.reset();
				return super.next();
			}
		}		

		/**
		 * This will always have a previous element, because the pointer loop.
		 */
		override public function hasPrevious():Boolean 
		{
			return true;
		}	

		/**
		 * This will always have a next element, because the pointer loops.
		 */
		override public function hasNext():Boolean 
		{
			return true;
		}	

		/**
		 * Return a &lt;code>glimple&lt;/code> of the previous element without 
		 * updating the pointer.
		 */
		override public function glimpse():Object 
		{
			if(super.hasPrevious()) return super.glimpse();
			else return _array[_array.length - 1];
		}

		/**
		 * Return a &lt;code>peek&lt;/code> of the next element without 
		 * updating the pointer.
		 */
		override public function peek():Object 
		{
			if(super.hasNext()) return super.peek();
			else return _array[0];
		}

		/**
		 * Return &lt;code>true&lt;/code> if pointer is at the begining of the collection.
		 */
		public function isAtStart():Boolean 
		{
			return (_pointer==0);
		}

		/**
		 * Return &lt;code>true&lt;/code> if pointer is at the end of the collection.
		 */
		public function isAtEnd():Boolean 
		{
			return (_pointer==_array.length - 1);
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/collections/OrderedDictionary.as b/src/as/net/guttershark/util/collections/OrderedDictionary.as
new file mode 100644
index 0000000..3d20418
--- /dev/null
+++ b/src/as/net/guttershark/util/collections/OrderedDictionary.as
@@ -0,0 +1 @@
+package net.guttershark.util.collections
{
	import net.guttershark.util.ObjectUtils;
	
	import flash.utils.Dictionary;
	import flash.utils.Proxy;
	import flash.utils.flash_proxy;	

	/**
	 * The OrderedDictionary class provides a dictionary like collection 
	 * which persists the order of entries similar to an array.
	 * 
	 * &lt;listing>	
	 * var od:OrderedDictionary=new OrderedDictionary();
	 * od['test0']="foo";
	 * od['test1']="bar";
	 * od.push("test3","doe");
	 * 
	 * trace(od['test1']);
	 * trace(od['test3']);
	 * 
	 * trace(od.pop());
	 * 
	 * var i:int=0;
	 * var l:int=od.length;
	 * for(i;i&lt;l;i++)
	 * { 
	 *     trace(od[i]);
	 * }
	 * &lt;/listing>
	 */
	final public class OrderedDictionary extends Proxy
	{
		
		/**
		 * @private
		 * The dictionary that object to index's are stored in.
		 */
		protected var dict:Dictionary;
		
		/**
		 * @private
		 * The array that objects are stored in.
		 */
		protected var arr:Array;

		/**
		 * Constructor for OrderedDictionary instances.
		 * 
		 * @param weakKeys Whether or not the dictionary's keys are weak references to objects.
		 */
		public function OrderedDictionary(weakKeys:Boolean=false)
		{
			dict=new Dictionary(weakKeys);
			arr=new Array();
		}
		
		/**
		 * @private
		 * Set the internal data needed for a clone.
		 */
		public function setProviders(arr:Array,dict:Dictionary):void
		{
			arr=arr;
			dict=dict;
		}

		/**
		 * A non-negative integer specifying the number of elements in the ordered dictionary.
		 */
		public function get length():int
		{
			return arr.length;
		}
		
		/**
		 * Adds one or more elements to the end of an ordered dictionary and returns the new length of the array.
		 * 
		 * @param name The key identifier.
		 * @param value The value to store.
		 */
		public function push(name:*, value:*):int
		{
			var index:int=arr.push(value);
			dict[name]=index - 1;
			
			return arr.length;
		}
		
		/**
		 * Removes the last element from an ordered dictionary and returns the value of that element.
		 */
		public function pop():*
		{
			var obj:* =arr.pop();
			dict[obj]=null;
			return obj;
		}
		
		/**
		 * Removes the first element from an ordered dictionary and returns that element.
		 */
		public function shift():*
		{
			var obj:* =arr.shift();
			for(var k:* in dict) dict[k]--;
			dict[obj]=null;
			return obj;
		}
		
		/**
		 * Adds one or more elements to the beginning of an ordered dictionary and returns the new length of the array.
		 * 
		 * @param name The key name.
		 * @param value The value to store.
		 */
		public function unshift(name:*,value:*):int
		{
			for(var k:* in dict) dict[k]++;
			dict[name]=0;
			arr.unshift(value);
			return arr.length;
		}
		
		/**
		 * Remove multiple items from the ordered dictionary.
		 * 
		 * @param startIndex The start index to delete from.
		 * @param deleteCound The number of items to delete.
		 */
		public function splice(startIndex:int,deleteCount:int):OrderedDictionary
		{
			arr.splice(startIndex,deleteCount);
			var dictMax:int=startIndex + deleteCount;
			var dictIndex:int;
			for(var name:* in dict) 
			{
				dictIndex=dict[name];
				if(dictIndex >= startIndex && dictIndex &lt; dictMax) delete dict[name];
				if(dictIndex >= dictMax) dict[name] -= deleteCount;
			}
				
			return this;
		}
		
		/**
		 * Remove objects by multiple keys.
		 * 
		 * @param ...keys The keys to delete.
		 */
		public function spliceByKeys(...keys):OrderedDictionary
		{
			var i:int=0;
			var num:int=keys.length;
			var name:String;
			var dictIndex:int;
			for(i;i&lt;num;i++)
			{
				name=keys[i];
				dictIndex=dict[name];
				splice(dictIndex,1);
			}
			return this;
		}
		
		/**
		 * Clone this OrderedDictionary.
		 * 
		 * @param weakKeys Whether or not the new dictionary will have weak references to it's objects.
		 */
		public function clone(weakKeys:Boolean=false):OrderedDictionary
		{
			var d:OrderedDictionary=new OrderedDictionary(weakKeys);
			d.setProviders(arr.concat(),ObjectUtils.gi().clone(dict));
			return d;
		}
		
		/**
		 * Dispose of this ordered dictionary.
		 */
		public function dispose():void
		{
			dict=null;
			arr=null;
		}
		
		/**
		 * @private
		 */
		flash_proxy override function getProperty(name:*):*
		{
			var index:int;
			var pattern:RegExp=/^[0-9]*$/;
			if(pattern.test(name) && name &lt; arr.length)
			{
				return arr[name];
			}
			else if(dict[name] >= 0)
			{
				index=dict[name];
				return arr[index];
			}
			return undefined;
		}

		/**
		 * @private
		 */
		flash_proxy override function setProperty(name:*, value:*):void 
		{
			var index:int;
			var pattern:RegExp=/^[0-9]*$/;
			if(!pattern.test(name) && !dict[name])
			{
				index=arr.push(value);
				dict[name]=index - 1;
			}
			else
			{
				dict[name]=arr[name]=value;
			}
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/filters/FilterMode.as b/src/as/net/guttershark/util/filters/FilterMode.as
new file mode 100644
index 0000000..bdd33a4
--- /dev/null
+++ b/src/as/net/guttershark/util/filters/FilterMode.as
@@ -0,0 +1 @@
+package net.guttershark.util.filters
{

	/**
	 * FilterMode defines the mode of a Displacement Map Filter.
	 */
	public class FilterMode 
	{

		/** 
		 * Clamp the displacement to the edge of the source.
		 */
		public static const CLAMP:String="clamp";

		/** 
		 * Substitute the value in the color and alpha properties if the displacement value is outside the source.
		 */
		public static const COLOR:String="color";

		/**
		 * Ignore the displacement outside of the displacement value range.
		 */
		public static const IGNORE:String="ignore";

		/**
		 * Wraps the displacement value to the other side of the source 
		 * image.
		 */
		public static const WRAP:String="wrap";
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/filters/FilterQuality.as b/src/as/net/guttershark/util/filters/FilterQuality.as
new file mode 100644
index 0000000..b4e3ead
--- /dev/null
+++ b/src/as/net/guttershark/util/filters/FilterQuality.as
@@ -0,0 +1 @@
+package net.guttershark.util.filters
{

	/**
	 * FilterQuality defines the rendering quality of a Filter object.
	 */
	public class FilterQuality 
	{

		/**
		 * High filter quality.
		 */
		public static const HIGH:Number=3;

		/** 
		 * Medium filter quality.
		 */
		public static const MEDIUM:Number=2;		

		/**
		 * Low filter quality.
		 */
		public static const LOW:Number=1;	
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/filters/FilterType.as b/src/as/net/guttershark/util/filters/FilterType.as
new file mode 100644
index 0000000..f62bd1c
--- /dev/null
+++ b/src/as/net/guttershark/util/filters/FilterType.as
@@ -0,0 +1 @@
+package net.guttershark.util.filters
{

	/**
	 * FilterType defines the rendering type of a Filter object.
	 */
	public class FilterType 
	{

		/**
		 * Defines the filter type applied to the area of an object.
		 */
		public static const FULL:String="full";

		/**
		 * Defines the filter type applied to the inner area of an object.
		 */
		public static const INNER:String="inner";

		/**
		 * Defines the filter type applied to the outer area of an object.
		 */
		public static const OUTER:String="outer";
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/filters/FilterUtils.as b/src/as/net/guttershark/util/filters/FilterUtils.as
new file mode 100644
index 0000000..8f2df02
--- /dev/null
+++ b/src/as/net/guttershark/util/filters/FilterUtils.as
@@ -0,0 +1 @@
+package net.guttershark.util.filters
{
	import flash.display.DisplayObject;
	import flash.filters.BevelFilter;
	import flash.filters.BitmapFilter;
	import flash.filters.BlurFilter;
	import flash.filters.ColorMatrixFilter;
	import flash.filters.DropShadowFilter;
	import flash.filters.GlowFilter;
	import flash.filters.GradientBevelFilter;
	import flash.filters.GradientGlowFilter;
	
	import net.guttershark.util.Singleton;

	/**
	 * The FilterUtilities class is a singleton that
	 * provides common filter generation and filter
	 * management for a display object.
	 */
	public class FilterUtils 
	{
		
		/**
		 * Singleton instance.
		 */
		private static var inst:FilterUtils;
		
		/**
		 * Singleton access.
		 */
		public static function gi():FilterUtils
		{
			if(!inst) inst=Singleton.gi(FilterUtils);
			return inst;
		}
		
		/**
		 * @private
		 */
		public function FilterUtils()
		{
			Singleton.assertSingle(FilterUtils);
		}

		/**
		 * Return a default &lt;code>DropShadowFilter&lt;/code>.
		 * &lt;ul>
		 * &lt;li>length:0&lt;/li>
		 * &lt;li>direction:45&lt;/li>
		 * &lt;li>alpha:100&lt;/li>
		 * &lt;li>blurX:10&lt;/li>
		 * &lt;li>blurY:10&lt;/li>
		 * &lt;li>strength:0.5&lt;/li>
		 * &lt;li>quality:HIGH&lt;/li>
		 * &lt;/ul>
		 */
		public function getSoftShadowFilter():DropShadowFilter
		{
			return new DropShadowFilter(0,45,0x000000,100,10,10,0.50,FilterQuality.HIGH);
		}

		/**
		 * Returns a predefined greyscale color matrix.
		 */
		public function luminanceTransform():ColorMatrixFilter 
		{
			var rwgt:Number=.3086;
			var gwgt:Number=.6094;
			var bwgt:Number=.0820;
			var lumTransform:ColorMatrixFilter=new ColorMatrixFilter(new Array(rwgt,gwgt,bwgt,0.0,0.0,rwgt,gwgt,bwgt,0.0,0.0,rwgt,gwgt,bwgt,0.0,0.0,0.0,0.0,0.0,1.0,0.0));
			return lumTransform;
		}	

		/**
		 * Clears any current shadow filters, and applies a new one.
		 * 
		 * @param target The target display object.
		 * @param filter A drop shadow filter.
		 */
		public function setShadow(target:DisplayObject,filter:DropShadowFilter):DropShadowFilter 
		{
			clearFilterType(target,DropShadowFilter);
			return addShadow(target,filter);
		}

		/**
		 * Adds a new shadow filter to the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A drop shadow filter. 
		 */
		public function addShadow(target:DisplayObject,filter:DropShadowFilter):DropShadowFilter 
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Remove all shadow filters.
		 * 
		 * @param The target display object.
		 */
		public function cleanShadow(target:DisplayObject):void
		{
			clearFilterType(target,DropShadowFilter);
		}

		/**
		 * Clears any current glow filters, and applies a new one.
		 * 
		 * @param target The target display object.
		 * @param filter A glow filter.
		 */
		public function setGlow(target:DisplayObject,filter:GlowFilter):GlowFilter 
		{
			clearFilterType(target,GlowFilter);
			return addGlow(target,filter);
		}

		/**
		 * Adds a new glow filter to the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A glow filter.
		 */
		public function addGlow(target:DisplayObject,filter:GlowFilter):GlowFilter
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Remove all glow filters.
		 * 
		 * @param target The target display object.
		 */
		public function cleanGlow(target:DisplayObject):void 
		{
			clearFilterType(target,GlowFilter);
		}

		/**
		 * Clears any current bevel filters, and applies a new one.
		 * 
		 * @param target The target display object.
		 * @param filter A bevel filter.
		 */
		public function setBevel(target:DisplayObject,filter:BevelFilter):BevelFilter 
		{
			clearFilterType(target,BevelFilter);
			return addBevel(target,filter);
		}

		/**
		 * Adds a new bevel filter to the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A bevel filter.
		 */
		public function addBevel(target:DisplayObject,filter:BevelFilter):BevelFilter 
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Remove all bevel filters.
		 * 
		 * @param target The target display object.
		 */
		public function cleanBevel(target:DisplayObject):void 
		{
			clearFilterType(target,BevelFilter);
		}

		/**
		 * Clears any current color filters, and applies a new one.
		 * 
		 * @param target The target display object.
		 * @param filter A color matrix filter.
		 */
		public function setColorMatrix(target:DisplayObject,filter:ColorMatrixFilter):ColorMatrixFilter 
		{
			clearFilterType(target,ColorMatrixFilter);
			return addColorMatrix(target,filter);
		}

		/**
		 * Adds a new color matrix filter to the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A color matrix filter.
		 */
		public function addColorMatrix(target:DisplayObject,filter:ColorMatrixFilter):ColorMatrixFilter 
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Clears any gradient glow filters, and applies a new one.
		 * 
		 * @param target The target display object.
		 * @param filter A gradient glow filter.
		 */
		public function setGradientGlow(target:DisplayObject,filter:GradientGlowFilter):GradientGlowFilter 
		{
			clearFilterType(target,GradientGlowFilter);
			return addGradientGlow(target,filter);
		}

		/**
		 * Adds a new gradient glow filter to the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A gradient glow filter.
		 */
		public function addGradientGlow(target:DisplayObject,filter:GradientGlowFilter):GradientGlowFilter
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Remove all gradient glow filters.
		 * 
		 * @param target The target display object.
		 */
		public function cleanGradientGlow(target:DisplayObject):void 
		{
			clearFilterType(target,GradientGlowFilter);
		}

		/**
		 * Clears any gradient bevel filters, and applies a new one.
		 * 
		 * @param target The target display object.
		 * @param filter A gradient bevel filter.
		 */
		public function setGradientBevel(target:DisplayObject,filter:GradientBevelFilter):GradientBevelFilter
		{
			clearFilterType(target,GradientBevelFilter);
			return addGradientBevel(target,filter);
		}

		/**
		 * Adds a new gradient bevel filter to the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A gradient bevel filter.
		 */
		public function addGradientBevel(target:DisplayObject,filter:GradientBevelFilter):GradientBevelFilter
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Remove all gradient bevel filters.
		 * 
		 * @param target The target display object.
		 */
		public function cleanGradientBevel(target:DisplayObject):void 
		{
			clearFilterType(target,GradientBevelFilter);
		}

		/**
		 * Clears any blur filters, and applies a new one.
		 * 
		 * @param target The taget display object.
		 * @param filter A blur filter.
		 */
		public function setBlur(target:DisplayObject,filter:BlurFilter):BlurFilter
		{
			clearFilterType(target,BlurFilter);
			return addBlur(target,filter);
		}

		/**
		 * Adds a new blur filter the the display object.
		 * 
		 * @param target The target display object.
		 * @param filter A blur filter.
		 */
		public function addBlur(target:DisplayObject,filter:BlurFilter):BlurFilter
		{
			addFilter(target,filter);
			return filter;
		}

		/**
		 * Remove all blur filters.
		 * 
		 * @param target The target display object.
		 */
		public function cleanBlur(target:DisplayObject):void
		{
			clearFilterType(target,BlurFilter);
		}

		/**
		 * Add a filter of any type, to the target display object.
		 * 
		 * @param taget The target display object.
		 * @param filter A bitmap filter.
		 */
		public function addFilter(target:DisplayObject=null,filter:BitmapFilter=null):void 
		{
			if(target == null||filter == null) return;
			var tmp:Array=target.filters;
			tmp.push(filter);
			target.filters=tmp;
		}

		/**
		 * Remove a filter of any type.
		 * 
		 * @param target The target display object.
		 * @param filter A bitmap filter.
		 */
		public function removeFilter(target:DisplayObject=null,filter:BitmapFilter=null):void 
		{
			if(target == null||filter == null ) return;
			var tmp:Array=target.filters;
			var index:int=getFilterIndex(target,filter);
			if(index > -1)
			{
				tmp.splice(index,1);                
				target.filters=tmp;
			}
		}

		/**
		 * Remove all filters from a target display object.
		 * 
		 * @param target The target display object.
		 */
		public function clean(target:DisplayObject):void 
		{
			target.filters=[];
		}

		/**
		 * Removes all filters of a certain type.
		 * 
		 * @param target The target display object.
		 * @param filterType The class type of the filters to remove.
		 */
		public function clearFilterType(target:DisplayObject=null,filterType:Class=null):void 
		{
			if(target == null||filterType == null) return;
			var len:int=target.filters.length;
			var tmp:Array=new Array();
			var i:int=0;
			for(i;i&lt;len;i++) 
			{
				var f:BitmapFilter=target.filters[i];
				if(!(f is filterType)) tmp.push(f);
			}
			target.filters=tmp;
		}

		/**
		 * Finds the last index of a filter and returns that index, or -1 if not found.
		 * 
		 * @param target The target display object.
		 * @param filter A bitmap filter.
		 */
		public function getFilterIndex(target:DisplayObject=null,filter:BitmapFilter=null):int 
		{
			if(target == null) return -1;
			var pos:int=target.filters.length;
			while(pos--)
			{
				var f:BitmapFilter=target.filters[pos];
				if(f == filter) return pos;
			}
			return -1;
		}

		/**
		 * Finds the last index of a filter type, and returns that index, or -1 if not found.
		 * 
		 * @param target The target display object.
		 * @param filterType The class type of the filter to find.
		 */
		public function getFilterTypeIndex(target:DisplayObject=null,filterType:Class=null):int
		{
			if(target == null) return -1;
			var pos:int=target.filters.length;
			while(pos--)
			{
				var f:BitmapFilter=target.filters[pos];
				if(f is filterType) return pos;
			}
			return -1;
		}		
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/geom/Dimension.as b/src/as/net/guttershark/util/geom/Dimension.as
new file mode 100644
index 0000000..86af056
--- /dev/null
+++ b/src/as/net/guttershark/util/geom/Dimension.as
@@ -0,0 +1 @@
+package net.guttershark.util.geom
{

	/**
	 * The Dimension class stores width and height dimensions and provides
	 * various methods of manipulations.
	 */
	public class Dimension 
	{

		/**
		 * The width.
		 */
		public var width:int;
		
		/**
		 * The height.
		 */
		public var height:int;
		
		/**
		 * Constructor for Dimension instances.
		 * 
		 * @param w The width
		 * @param h The height
		 */
		public function Dimension(w:int=0,h:int=0) 
		{
			width=w;
			height=h;
		}

		/**
		 * Returns &lt;code>true&lt;/code> if the passed Dimension fits within the 
		 * bounds of this Dimension. A Dimension of the same size is 
		 * considered to "fit".
		 * 
		 * @param d The dimension being tested
		 */
		public function contains(d:Dimension):Boolean 
		{
			return width >= d.width && height >= d.height;
		}

		/**
		 * Returns &lt;code>true&lt;/code> if this Dimension properly contains the one
		 * specified - proper containment is defined as containment using 
		 * "&lt;", instead of "&lt;=".
		 * 
		 * @param d The demension being tested.
		 */
		public function containsProper(d:Dimension):Boolean 
		{
			return width > d.width && height > d.height;
		}

		/**
		 * This Dimension is intersected with the one specified. intersection is
		 * performed by taking the min of the values from each dimension.
		 * 
		 * @param d The Dimension to intersect with this Dimension.
		 */
		public function intersect(d:Dimension):Dimension 
		{
			width=Math.min(d.width,width);
			height=Math.min(d.height,height);
			return this;
		}

		/**
		 * Sets the width and height of this Dimension to to the max() value
		 * between this Dimension and the target Dimension.
		 * 
		 * @param d The Dimension to union with this Dimension.
		 */
		public function union(d:Dimension):Dimension 
		{
			width=Math.max(width,d.width);
			height=Math.max(height,d.height);
			return this;
		}

		/**
		 * Returns the area of this Dimension.
		 */
		public function getArea():Number 
		{
			return width * height;
		}

		/**
		 * Returns &lt;code>true&lt;/code> if the Dimension has width or 
		 * height greater than 0.
		 */
		public function isEmpty():Boolean 
		{
			return (width == 0) || (height == 0);
		}

		/**
		 * Creates and returns a copy of this Dimension.
		 */
		public function clone():Dimension 
		{
			return new Dimension(width,height);
		}

		/**
		 * Test equality between this Dimension and another Dimension.
		 * 
		 * @param d The Dimension being tested for equality
		 */
		public function equals(d:Dimension):Boolean 
		{
			if(d == null) return false;
			return (d.width == width && d.height == height);
		}

		/**
		 * Expands the size of this Dimension by the specified width and height.
		 * 
		 * @param w  The amount the width will be increased by.
		 * @param h  The amount the height will be increased by.
		 */
		public function expand(w:Number=0, h:Number=0):Dimension 
		{               
			width += w;
			height += h;
			return this;
		}

		/**
		 * Scales the width of this Dimension by &lt;i>w&lt;/i> and scales the
		 * height of this Dimension by &lt;i>h&lt;/i>.
		 *
		 * @param w The amount the width will be scaled.
		 * @param h The amount the height will be scaled.
		 */
		public function scale(w:Number=0,h:Number=0):Dimension 
		{
			width=Number(width * w);
			height=Number(height * h);
			return this;
		}

		/**
		 * Reduces the width and height of this Dimension.
		 *
		 * @param w The amount to reduce the width by.
		 * @param h The amount to reduce the height by.
		 */
		public function shrink(w:Number=0, h:Number=0):Dimension 
		{               
			width=width - w;
			height=height - h;
			return this;
		}

		/**
		 * Friendly description and for debug info.
		 */
		public function toString():String 
		{
			return "[Dimension width=" + width + ", height=" + height + "]";
		}
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/geom/Point.as b/src/as/net/guttershark/util/geom/Point.as
new file mode 100644
index 0000000..9a7082f
--- /dev/null
+++ b/src/as/net/guttershark/util/geom/Point.as
@@ -0,0 +1 @@
+package net.guttershark.util.geom
{
	import net.guttershark.util.MathUtils;		

	/**
	 * The Point class plots x and y coordinates in a 2D grid.
	 */
	public class Point
	{
		
		/**
		 * The x coordinate.
		 */
		public var x:Number;
		
		/**
		 * The y coordinate.
		 */
		public var y:Number;
		
		/**
		 * MathUtils
		 */
		protected var mu:MathUtils;

		/**
		 * Constructor for Point instances.
		 * 
		 * @param x The x coordinate.
		 * @param y The y coordinate.
		 */
		public function Point(x:Number=0,y:Number=0) 
		{
			super();
			this.x=x;
			this.y=y;
			mu=MathUtils.gi();
		}

		/**
		 * Check if two Points are equal.
		 * 
		 * @param p The Point to test equality against.
		 */
		public function isEqual(p:Point):Boolean 
		{
			return (p.x==x&&p.y==y);
		}

		/**
		 * Get the distance between two points.
		 * 
		 * @param p The Point whose distance will be calculated.
		 */
		public function getDistance(p:Point):Number 
		{
			return mu.pointDistance(this,p);
		}

		/**
		 * Algo to give the grid based distance when only vertical & horizontal moves are allowed.
		 * 
		 * @param p The target Point
		 */
		public function getAbsoluteGridDistance(p:Point):Number 
		{
			return Math.abs(x - p.x) + Math.abs(y - p.y);
		}

		/**
		 * Algo to give the grid based distance when diagonal moves are allowed
		 * by finding math.min of the differences, we're figuring out how many moves can be diagonal ones.
		 * Then we can just substract that number from the normal .getAbsoluteGridDistance() method since diagonals take
		 * 1 move instead of the usual 2
		 * 
		 * @param p The target Point.
		 */
		public function getAbsoluteGridDistanceAllowDiagonals(p:Point):Number 
		{
			var offset:Number=Math.min(Math.abs(x - p.x),Math.abs(y - p.y));
			return getAbsoluteGridDistance(p) - offset;
		}

		/**
		 * Get the angle degree between this point and a second point.
		 * 
		 * @param p The target Point.
		 */
		public function getAngle(p:Point):Number 
		{
			return Math.atan((this.y-p.y)/(this.x-p.x))/(Math.PI / 180);
		}

		/**
		 * Returns a new point based on this point with x and y offset values.
		 * 
		 * @param x The x coordinate offset.
		 * @param y The y coordinate offset.
		 */
		public function displace(x:Number, y:Number):Point 
		{
			return new Point(this.x+x,this.y+y);
		}

		/**
		 * Offset this Point object by a specified amount.
		 * 
		 * @param x Horizontal offset
		 * @param y Vertical offset
		 */
		public function offset(x:Number, y:Number):void 
		{
			this.x += x;
			this.y += y;
		}

		/**
		 * Rotate this Point around another Point by the specified angle.
		 * 
		 * @param p The target Point.
		 * @param angle The angle to rotate around the target Point.
		 */
		public function rotate(p:Point,angle:Number):void
		{
			var radians:Number=mu.angle2radian(angle);
			var baseX:Number=this.x - p.x;
			var baseY:Number=this.y - p.y;
			this.x=(Math.cos(radians) * baseX) - (Math.sin(radians) * baseY) + p.x;
			this.y=(Math.sin(radians) * baseX) + (Math.cos(radians) * baseY) + p.y;	
		}	

		/**
		 * Clone this Point.
		 */
		public function clone():Point
		{
			return new Point(this.x,this.y);
		}			
	}
}
\ No newline at end of file
diff --git a/src/as/net/guttershark/util/geom/Point3D.as b/src/as/net/guttershark/util/geom/Point3D.as
new file mode 100644
index 0000000..5deba9a
--- /dev/null
+++ b/src/as/net/guttershark/util/geom/Point3D.as
@@ -0,0 +1,2 @@
+package net.guttershark.util.geom
{
	import net.guttershark.util.geom.Point;
+
	/**
	 * The Point3D class plots x,y,and z in 3D space.
	 */
	public class Point3D extends Point
	{
		
		/**
		 * The z index.
		 */
		public var z:Number;

		/**
		 * Constructor for Point3D instances.
		 * 
		 * @param x (Number)
		 * @param y (Number)
		 * @param z (Number)
		 */
		public function Point3D(x:Number=0,y:Number=0,z:Number=0)
		{
			super(x,y);
			this.z=z;
		}

		/**
		 * Check if two Point3D instances are equal.
		 * 
		 * @param p The Point3D to test against.
		 */
		public function isEqual3D(p:Point3D):Boolean
		{
			return (p.x==x&&p.y==y&&p.z==z);
		}

		/**
		 * Get Z distance between two points.
		 * 
		 * @param p The Point3D to test against.
		 */
		public function getZDistance(p:Point3D):Number
		{
			return mu.getZDistance(this,p);
		}

		/**
		 * Returns a new 3D point based on this point with x and y offset values.
		 * 
		 * @param x The amount to displace x by.
		 * @param y The amount to displace y by.
		 * @param z The amount to displaze z by.
		 */
		public function displace3D(x:Number,y:Number,z:Number):Point3D
		{
			return new Point3D(this.x+x,this.y+y,this.z+z);
		}

		/**
		 * Offset the Point3D object by the specified amounts.
		 * 
		 * @param x The amount to offset x by.
		 * @param y The amount to offset y by.
		 * @param z The amount to offset z by.
		 */
		public function offset3D(x:Number,y:Number,z:Number):void
		{
			super.offset(x,y);
			this.z += z;
		}	

		/**
		 * Clone this Point3D.
		 */
		public function clone3D():Point3D
		{
			return new Point3D(this.x,this.y,this.z);
		}		
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/ArrayPageIterator.as b/src/as_not_implemented/ArrayPageIterator.as
new file mode 100644
index 0000000..e69de29
diff --git a/src/as_not_implemented/DialButton.as b/src/as_not_implemented/DialButton.as
new file mode 100644
index 0000000..6544349
--- /dev/null
+++ b/src/as_not_implemented/DialButton.as
@@ -0,0 +1,59 @@
+package net.guttershark.display.controls.buttons 
+{
+	import flash.events.Event;	
+	import flash.display.MovieClip;
+	import flash.events.MouseEvent;
+	
+	import net.guttershark.util.FramePulse;	
+
+	//import net.guttershark.util.FramePulse;	
+	public class DialButton extends MovieClipButton
+	{
+
+		public var dial:MovieClip;
+		public var pixelToDegreeRatio:int = 4;
+		public var minDegrees:int = 0;
+		public var maxDegrees:int = 360;
+		private var fakeRotation:Number = 0;
+		private var lastr:Number;
+		
+		public function DialButton():void
+		{
+			fakeRotation = rotation;
+		}
+		
+		override protected function __onMouseDown(me:MouseEvent):void
+		{
+			super.__onMouseDown(me);
+			stage.addEventListener(MouseEvent.MOUSE_MOVE, __onMouseMove);
+			FramePulse.AddEnterFrameListener(onFrame);
+		}
+
+		override protected function __onMouseUp(me:MouseEvent):void
+		{
+			super.__onMouseUp(me);
+			stage.removeEventListener(MouseEvent.MOUSE_MOVE, __onMouseMove);
+			FramePulse.RemoveEnterFrameListener(onFrame);
+		}
+
+		private function onFrame(e:Event):void
+		{
+			var an:Number = Math.atan2(mouseY - dial.y, mouseX - dial.x);
+			an = (an / Math.PI) * 180;
+			var min:Number = 0;
+			var max:Number = 360;
+			dial.rotation = an;
+			var value:Number = an - min;
+			var target:Number = 100;
+			max -= min;
+			value /= max;
+			value *= target;
+			//if(value &lt; 0) value = 180 + (value - 180);
+			trace(value);
+		}
+
+		protected function __onMouseMove(e:MouseEvent):void
+		{
+			
+		}
+	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/FLVPlaybackQueueManager.as b/src/as_not_implemented/FLVPlaybackQueueManager.as
new file mode 100644
index 0000000..dfe778a
--- /dev/null
+++ b/src/as_not_implemented/FLVPlaybackQueueManager.as
@@ -0,0 +1,432 @@
+package net.guttershark.display.video
+{
+	import flash.events.Event;
+	import flash.events.EventDispatcher;
+	import flash.events.NetStatusEvent;
+	import flash.utils.clearTimeout;
+	import flash.utils.setTimeout;
+	
+	import fl.video.FLVPlayback;
+	import fl.video.VideoEvent;
+	import fl.video.VideoPlayer;
+	
+	import gs.TweenMax;
+	
+	import net.guttershark.util.Assertions;		
+
+	/**
+	 * The FLVPlaybackQueueManager uses an instance of an FLVPlayback
+	 * to play videos in a queue. It uses an FLVPlayback for 
+	 * the VideoPlayer stack functionality.
+	 * 
+	 * @example Setup example:
+	 * &lt;listing>	
+	 * myFLVPlayback.align = VideoAlign.BOTTOM_LEFT;
+	 * myFLVPlayback.scaleMode = VideoScaleMode.NO_SCALE;
+	 * myFLVPlayback.ncMgr.timeout = 10000;
+	 * myFLVPlayback.playheadUpdateInterval = 1300;
+	 * queuePlaybackManager = new FLVPlaybackQueueManager();
+	 * queuePlaybackManager.player = myFLVPlayback;
+	 * var queue:Array = [
+	 *   "assets/flv/6000_EGG.flv",
+	 *   "assets/flv/6001_EGG.flv",
+	 *   "assets/flv/6002_EGG.flv",
+	 *   "rtmp://cp44952.edgefcs.net/ondemand/streamingVideos/high/2035_RES.flv"
+	 * ];
+	 * queuePlaybackManager.queue = queue;
+	 * queuePlaybackManager.streamAttemptTimeBeforeFail = 10;
+	 * queuePlaybackManager.start();
+	 * &lt;/listing>
+	 */
+	public class FLVPlaybackQueueManager extends EventDispatcher
+	{
+
+		/**
+		 * The FLVPlayback instance.
+		 */
+		private var _player:FLVPlayback;
+		
+		/**
+		 * The crossfade duration between two clips.
+		 */
+		public var crossfadeDuration:Number = 1;
+		
+		/**
+		 * The time in seconds remaining in the currently playing clip
+		 * before triggering the next clip to play.
+		 */
+		public var continueWhenTimeLeft:Number = 3;
+		
+		/**
+		 * The queue of videos currently playing over.
+		 */
+		private var _queue:Array;
+		
+		/**
+		 * The queue index.
+		 */
+		private var queueIndex:int;
+		
+		/**
+		 * The current player index from the FLVPlayback stack.
+		 */
+		private var currentPlayerIndex:int = 0;
+
+		/**
+		 * Nan count is used for counting how many times 
+		 * an update event is triggered with the "playheadTime"
+		 * property being NaN. If it reaches this NaN count, 
+		 * the next video is played.
+		 */
+		private var nanCount:int;
+		
+		/**
+		 * Flag indicating that the queue had started.
+		 */
+		private var started:Boolean;
+		
+		/**
+		 * The time in seconds before a stream fail.
+		 */
+		private var streamFailTime:int;
+		
+		/**
+		 * The timeout interval.
+		 */
+		private var streamFailTimeout:Number;
+		
+		/**
+		 * Assertions
+		 */
+		private var ast:Assertions;
+
+		/**
+		 * Some state vars.
+		 */
+		private var httpAttempt:Boolean;
+		private var rtmpAttempt:Boolean;
+		private var state:int;
+		private var playState:Boolean;
+		private var goingOut:Boolean;
+
+		/**
+		 * Constructor for FLVPlaybackQueueManager instances.
+		 */
+		public function FLVPlaybackQueueManager()
+		{
+			currentPlayerIndex = -1;
+			ast = Assertions.gi();
+			nanCount = 0;
+		}
+
+		/**
+		 * Set the queue of file's to play through. You can
+		 * use relative, http, and rtmp locations.
+		 * 
+		 * @param queue An array of files to play.
+		 */
+		public function set queue(queue:Array):void
+		{
+			ast.notNilOrEmpty(queue,"Parameter queue cannot be null or empty.");
+			queueIndex = -1;
+			_queue = queue;
+		}
+		
+		/**
+		 * The FLVPlayback instance used to play through the queue.
+		 */
+		public function get player():FLVPlayback
+		{
+			return _player;
+		}
+		
+		/**
+		 * Set the instance of an FLVPlayback component you're using
+		 * to play the queue in.
+		 * 
+		 * @param player An FLVPlayback instance.
+		 */
+		public function set player(player:FLVPlayback):void
+		{
+			ast.notNil(player, "Parameter player cannot be null.");
+			_player = player;
+			_player.activeVideoPlayerIndex = 1;
+			_player.activeVideoPlayerIndex = 2;
+			_player.activeVideoPlayerIndex = 3;
+			_player.activeVideoPlayerIndex = 0;
+			_player.addEventListener(VideoEvent.PLAYING_STATE_ENTERED, onPlay);
+			_player.addEventListener(VideoEvent.PLAYHEAD_UPDATE, onUpdate);
+		}
+		
+		/**
+		 * Set the time (in seconds) allowed for a stream attempt, before it is considered
+		 * a failed attempt. If a stream does not play before the timeout, the stream is closed and
+		 * the next video is played.
+		 * 
+		 * @param seconds The length in seconds.
+		 */
+		public function set streamAttemptTimeBeforeFail(seconds:Number):void
+		{
+			ast.greater(seconds, .1, "Parameter seconds must be greater than .1");
+			streamFailTime = seconds;
+		}
+		
+		/**
+		 * Start playing the queue.
+		 */
+		public function start():void
+		{
+			playNext();
+		}
+		
+		/**
+		 * Pause the queue.
+		 */
+		public function pause():void
+		{
+			_player.pause();
+		}
+		
+		/**
+		 * Resets everything internally. Clears the queue.
+		 */
+		public function reset():void
+		{
+			playState = false;
+			state = 0;
+			httpAttempt = false;
+			rtmpAttempt = false;
+			goingOut = false;
+			_queue = [];
+			var i:int = 1;
+			for(i;i&lt;3;i++) _player.getVideoPlayer(i).close();
+		}
+		
+		/**
+		 * Stop the queue.
+		 */
+		public function stop():void
+		{
+			_player.stop();
+		}
+		
+		/**
+		 * The source URI for the currently playing video.
+		 */
+		public function get source():String
+		{
+			return _player.source;
+		}
+		
+		/**
+		 * Indicates whether or not the currently playing clip is RTMP.
+		 */
+		public function get isRTMP():Boolean
+		{
+			return _player.isRTMP;
+		}
+		
+		/**
+		 * Interupt the queue and play the specified file immediately.
+		 * 
+		 * @param source The video source path.
+		 */
+		public function playNow(source:String):void
+		{
+			ast.notNil(source,"Parameter source cannot be null");
+			var vp:VideoPlayer = getPlayer(source);
+			httpAttempt = true;
+			goingOut = false;
+			if(source.indexOf("rtmp://") > -1)
+			{
+				httpAttempt = false;
+				rtmpAttempt = true;
+				startStreamFail(currentPlayerIndex);
+			}
+			vp.play(source);
+		}
+		
+		/**
+		 * Gets an available player.
+		 */
+		private function getPlayer(source:String):VideoPlayer
+		{
+			ast.notNil(source,"Parameter source cannot be null");
+			var isr:Boolean = false;
+			if(source.indexOf("rtmp://") > -1) isr = true;
+			currentPlayerIndex++;
+			if(currentPlayerIndex == 4) currentPlayerIndex = 0;
+			var vp:VideoPlayer = _player.getVideoPlayer(currentPlayerIndex);
+			vp.bufferTime = _player.bufferTime;
+			vp.align = _player.align;
+			vp.scaleMode = _player.scaleMode;
+			return vp;
+		}
+		
+		/**
+		 * Gets next clip to play.
+		 */
+		private function getNextClip():String
+		{
+			queueIndex++;
+			if(queueIndex >= _queue.length) queueIndex = 0;
+			if(queueIndex == -1) queueIndex = 0;
+			return _queue[queueIndex];
+		}
+		
+		/**
+		 * Play the next video in the queue.
+		 */
+		public function playNext():void
+		{
+			var nextClip:String = getNextClip();
+			var vp:VideoPlayer = getPlayer(nextClip);
+			httpAttempt = true;
+			if(nextClip.indexOf("rtmp://") > -1)
+			{
+				httpAttempt = false;
+				rtmpAttempt = true;
+				startStreamFail(currentPlayerIndex);
+			}
+			vp.play(nextClip);
+		}
+
+		/**
+		 * On video update.
+		 */
+		private function onUpdate(ve:VideoEvent):void
+		{
+			var target:VideoPlayer = _player.getVideoPlayer(ve.vp);
+			var totalTime:Number = target.totalTime;
+			if(!totalTime) return;
+			var outTweenTime:Number = Number((totalTime - continueWhenTimeLeft).toFixed(2));
+			if(isNaN(target.playheadTime))
+			{
+				nanCount++;
+				return;
+			}
+			if(nanCount == 10)
+			{
+				nanCount = -1;
+				playNext();
+			}
+			if(target.playheadTime >= outTweenTime && !goingOut)
+			{
+				goingOut = true;
+				playNext();
+			}
+		}		
+		
+		/**
+		 * On play of the activePlayer
+		 */
+		private function onPlay(ve:VideoEvent):void
+		{
+			if(!started) started = true;
+			var target:VideoPlayer = _player.getVideoPlayer(ve.vp);
+			var activePlayer:VideoPlayer = _player.getVideoPlayer(_player.activeVideoPlayerIndex);
+			if(ve.vp == _player.activeVideoPlayerIndex) return;
+			var half:Number = crossfadeDuration / 2;
+			_player.bringVideoPlayerToFront(currentPlayerIndex);
+			_player.activeVideoPlayerIndex = currentPlayerIndex;
+			if(started)
+			{
+				if(activePlayer.isRTMP)
+				{
+					removeNetConnectionEventListeners(activePlayer);
+					activePlayer.stop();
+					activePlayer.close();
+				}
+				
+				if(target.isRTMP)
+				{
+					clearTimeout(streamFailTimeout);
+					setTimeout(activePlayer.stop, half);
+					rtmpAttempt = false;
+					state = 2;
+					addNetConnectionEventListeners(target);
+				}
+				else
+				{
+					setTimeout(activePlayer.stop, half);
+					httpAttempt = false;
+					state = 1;
+				}
+				TweenMax.to(target,half,{autoAlpha:1,volume:_player.volume});
+				TweenMax.to(activePlayer,half,{volume:0,autoAlpha:0});
+				activePlayer = target;
+				activePlayer.bufferTime = 10; //up the buffer time so that it doesn't stop buffering.
+			}
+			else
+			{
+				started = true;
+				(target.isRTMP) ? rtmpAttempt = false : httpAttempt = false;
+				TweenMax.to(target,half,{autoAlpha:1,volume:_player.volume});
+				activePlayer = target;
+			}
+			setTimeout(clearGoingOut, 3000);
+			dispatchEvent(new Event("crossfading"));
+		}
+		
+		/**
+		 * Clear the goingOut state flag.
+		 */
+		private function clearGoingOut():void
+		{
+			goingOut = false;
+		}
+		
+		/**
+		 * Start the timeout interval to force a stream fail.
+		 */
+		private function startStreamFail(playerIndex:int):void
+		{
+			if(streamFailTime > 0) streamFailTimeout = setTimeout(failStream, (streamFailTime * 1000), playerIndex);
+		}
+		
+		/**
+		 * Force the stream to close.
+		 */
+		private function failStream(playerIndex:int):void
+		{
+			removeNetConnectionEventListeners(_player.getVideoPlayer(playerIndex));
+			_player.getVideoPlayer(playerIndex).stop();
+			_player.getVideoPlayer(playerIndex).close();
+		}
+
+		/**
+		 * Add's event listeners to a target player's NetConnection.
+		 */
+		private function addNetConnectionEventListeners(target:VideoPlayer):void
+		{
+			if(target.netConnection) target.netConnection.addEventListener(NetStatusEvent.NET_STATUS, onNS);
+			if(target.netStream) target.netStream.addEventListener(NetStatusEvent.NET_STATUS, onNS);
+		}
+		
+		/**
+		 * Removes event listeners from a target player's NetConnection.
+		 */
+		private function removeNetConnectionEventListeners(target:VideoPlayer):void
+		{
+			if(target.netConnection) target.netConnection.removeEventListener(NetStatusEvent.NET_STATUS, onNS);
+			if(target.netStream) target.netStream.removeEventListener(NetStatusEvent.NET_STATUS, onNS);
+		}
+		
+		/**
+		 * On NetConnection Net Status
+		 */
+		private function onNS(ns:NetStatusEvent):void
+		{
+			switch(ns.info.code)
+			{
+				case "NetConnection.Connect.Closed":
+					if(rtmpAttempt)
+					{
+						removeNetConnectionEventListeners(_player.getVideoPlayer(_player.activeVideoPlayerIndex));
+						playNext();
+					}
+					break;
+			}
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as_not_implemented/FormManager.as b/src/as_not_implemented/FormManager.as
new file mode 100644
index 0000000..0ed7ad1
--- /dev/null
+++ b/src/as_not_implemented/FormManager.as
@@ -0,0 +1,204 @@
+package net.guttershark.managers 
+{
+	import flash.net.URLVariables;
+	import flash.text.TextField;
+	
+	import net.guttershark.display.buttons.IToggleable;	
+
+	/**
+	 * The FormManager class simplifies managing InteractiveObjects
+	 * that compose a form - THIS IS STILL IN DEVELOPMENT, BUT EVERYTHING
+	 * HERE WORKS, IT'S JUST NOT FEATURE COMPLETE.
+	 */
+	final public class FormManager
+	{
+
+		private var tfs:Array;
+		private var tbs:Array;
+		private var trusub:String;
+		private var falssub:String;
+		
+		/**
+		 * Constructor for FormFieldManager instances.
+		 */
+		public function FormManager()
+		{
+			tfs = new Array();
+			tbs = new Array();
+		}
+		
+		/**
+		 * Shortcut for a method that would otherwise have duplicate logic.
+		 */
+		private function getOutputAsType(type:Class):*
+		{
+			var out:*;
+			var i:int;
+			if(type == URLVariables) out = new URLVariables();
+			else if(type == Object) out = new Object();
+			for(i = 0; i &lt; tfs.length; i++) out[tfs[i].name] = tfs[i].text;
+			for(i = 0; i &lt; tbs.length; i++)
+			{
+				out[tbs[i].name] = tbs[i].toggled;
+				if(tbs[i].toggled && trusub) out[tbs[i].name] = trusub;
+				else if((tbs[i].toggled === false) && falssub) out[tbs[i].name] = falssub;
+			}
+			return out;
+		}
+		
+		/**
+		 * Change what the output value is displayed as for a boolean. You could
+		 * substitue true with "yes" or false with "no" etc. Values for booleans
+		 * are only substituded with the &lt;code>&lt;em>getOutputAsObject&lt;/em>&lt;/code> and 
+		 * &lt;code>&lt;em>getOutputAsURLVariables&lt;/em>&lt;/code> methods.
+		 */
+		public function displayBooleansAs(truSubstitute:String, falsSubstitute:String):void
+		{
+			trusub = truSubstitute;
+			falssub = falsSubstitute;
+		}
+		
+		/**
+		 * Add a TextField to the manager.
+		 * @param	tf	A TextField.
+		 */
+		public function addTextField(tf:TextField):void
+		{
+			tfs.push(tf);
+		}
+		
+		/**
+		 * Add multiple TextFields to the manager.
+		 * @param	tfs	An array of TextFields.
+		 */
+		public function addTextFields(tfs:Array):void
+		{
+			for(var i:int = 0; i &lt; tfs.length; i++)
+			{
+				this.tfs.push(tfs[i]);
+			}
+		}
+		
+		/**
+		 * Add an IToggleable instance to the manager.
+		 * @param	toggleable An IToggleable instance.
+		 */
+		public function addToggleable(toggleable:IToggleable):void
+		{
+			tbs.push(toggleable);
+		}
+		
+		/**
+		 * Add multiple IToggleable clips to the manager.
+		 * @param	toggleables	An array of IToggleable clips.
+		 */
+		public function addToggleables(toggleables:Array):void
+		{
+			for(var i:int = 0; i &lt; toggleables.length; i++)
+			{
+				this.tbs.push(toggleables[i]);
+			}
+		}
+		
+		/**
+		 * Get all data from the form as a URLVariables instance.
+		 * @return 	URLVariables
+		 */
+		public function getOutputAsURLVariables():URLVariables
+		{
+			return getOutputAsType(URLVariables);
+		}
+		
+		/**
+		 * Get all data from the form as a generic Object.
+		 * @return	Object
+		 */
+		public function getOutputAsObject():Object
+		{
+			return getOutputAsType(Object);
+		}
+		
+		/**
+		 * Get all data from the form as a URL encoded string.
+		 * @return	String
+		 */
+		public function getOutputAsQueryString():String
+		{
+			var uv:URLVariables = getOutputAsType(URLVariables);
+			return uv.toString();
+		}
+
+		/**
+		 * Set the tabs for all fields in the form.
+		 * 
+		 * &lt;p>It will set tabs in this order:&lt;/p>
+		 * &lt;ol>
+		 * &lt;li>TextFields&lt;/li>
+		 * &lt;li>IToggleables&lt;/li>
+		 * &lt;/ol>
+		 * 
+		 * &lt;p>&lt;strong>Or&lt;/strong> if you provide an array of clips
+		 * in the call to set tabs, it will use whatever order
+		 * the array is in.&lt;/p>
+		 */
+		public function setTabs(clips:Array = null):void
+		{
+			var i:int;
+			var c:int = 0;
+			if(clips)
+			{
+				for(i = 0; i &lt; clips.length; i++)
+				{
+				 	clips[i].tabIndex = i;
+				}	
+			}
+			else
+			{
+				for(i = 0; i &lt; tfs.length; i++)
+				{
+					tfs[i].tabIndex = c;
+					c++;
+				}
+				
+				for(i = 0; i &lt; tbs.length; i++)
+				{
+					tbs[i].tabIndex = c;
+					c++;
+				}
+			}
+		}
+		
+		/**
+		 * Sets the tabEnabled property to false on all toggleable clips
+		 * in the manager.
+		 */
+		public function disableTabsOnToggleables():void
+		{
+			for(var i:int = 0; i &lt; tbs.length; i++)
+			{
+				tbs[i].tabEnabled = false;
+			}
+		}
+		
+		/**
+		 * Sets the tabEnabled property to true on all toggleable clips
+		 * in the manager.
+		 */
+		public function enableTabsOnToggleables():void
+		{
+			for(var i:int = 0; i &lt; tbs.length; i++)
+			{
+				tbs[i].tabEnabled = true;
+			}
+		}
+		
+		/**
+		 * Dispose of this FormFieldManager.
+		 */
+		public function dispose():void
+		{
+			tfs = null;
+			tbs = null;
+			trusub = null;
+			falssub = null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/HeatMap.as b/src/as_not_implemented/HeatMap.as
new file mode 100644
index 0000000..a44d03e
--- /dev/null
+++ b/src/as_not_implemented/HeatMap.as
@@ -0,0 +1 @@
+package net.guttershark.display 
{
	import flash.events.MouseEvent;	
	import flash.events.Event;	
	import flash.display.Sprite;	
	
	public class HeatMap extends Sprite 
	{
		
		private var hits:Array;
		private var vectors:Sprite;

		public function HeatMap()
		{
			super();
			addEventListener(Event.ADDED_TO_STAGE,onAdd);
			hits = [];
			vectors = new Sprite();
			vectors.mouseEnabled = false;
			addChild(vectors);
			mouseEnabled = false;
		}
		
		private function onAdd(e:Event):void
		{
			stage.addEventListener(MouseEvent.CLICK, onc);
		}
		
		private function onc(e:MouseEvent):void
		{
			var h:Sprite = new Sprite();
			h.mouseEnabled = false
			var mx:int = stage.mouseX;
			var my:int = stage.mouseY;
			h.graphics.beginFill(0xFF0066);
			h.graphics.drawRect(mx-6,my-6,10,10);
			h.graphics.endFill();
			vectors.addChild(h);
		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/IToggleable.as b/src/as_not_implemented/IToggleable.as
new file mode 100644
index 0000000..88f2d17
--- /dev/null
+++ b/src/as_not_implemented/IToggleable.as
@@ -0,0 +1,6 @@
+package net.guttershark.display.buttons 
+{
+	public interface IToggleable
+	{
+		function set toggled(val:Boolean):void;
+		function get toggled():Boolean;
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/LabelButton.as b/src/as_not_implemented/LabelButton.as
new file mode 100644
index 0000000..ccbb24c
--- /dev/null
+++ b/src/as_not_implemented/LabelButton.as
@@ -0,0 +1,4 @@
+package net.guttershark.display.buttons 
+{
+	public class LabelButton 
+	{
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/LanguageManager.as b/src/as_not_implemented/LanguageManager.as
new file mode 100644
index 0000000..648e72c
--- /dev/null
+++ b/src/as_not_implemented/LanguageManager.as
@@ -0,0 +1,186 @@
+﻿package net.guttershark.managers 
+{
+	import flash.events.Event;
+	import flash.net.URLRequest;
+	import flash.utils.Dictionary;
+	
+	import net.guttershark.display.LocalizableClip;
+	import net.guttershark.util.Assertions;
+	import net.guttershark.util.Singleton;
+	import net.guttershark.util.XMLLoader;	
+	
+	/**
+	 * The LanguageManager class manages loading language
+	 * xml files, and handles updating your text fields with
+	 * text for a different language. This is really only
+	 * used when languages need to be changed at runtime.
+	 */
+	final public class LanguageManager
+	{
+		
+		/**
+		 * Singleton instance.
+		 */
+		private static var inst:LanguageManager;
+		
+		/**
+		 * Contains clips that have been added.
+		 */
+		private var clips:Dictionary;
+		
+		/**
+		 * The languages currently loaded.
+		 */
+		private var languages:Dictionary; //dictionary of XMLLoader objects
+		
+		/**
+		 * The current language code.
+		 */
+		private var _languageCode:String;
+		
+		/**
+		 * Codes currently available.
+		 */
+		private var codes:Dictionary;
+		
+		/**
+		 * Assertions.
+		 */
+		private var ast:Assertions;
+		
+		/**
+		 * @private
+		 * Constructor for LanguageManager instances.
+		 */
+		public function LanguageManager()
+		{
+			Singleton.assertSingle(LanguageManager);
+			ast=Assertions.gi();
+			clips=new Dictionary();
+			languages=new Dictionary();
+			codes=new Dictionary();
+		}
+		
+		/**
+		 * Singleton Access.
+		 */
+		public static function gi():LanguageManager
+		{
+			if(!inst)inst=Singleton.gi(LanguageManager);
+			return inst;
+		}
+		
+		/**
+		 * Add an XML instance as a language XML file.
+		 * 
+		 * @param langXML The XML to use for this language.
+		 * @param langCode The language code to categorize this XML as.
+		 */
+		public function addLanguageXML(langXML:XML,langCode:String):void
+		{
+			ast.notNil(langXML,"Parameter {langXML} cannot be null");
+			ast.notNil(langCode,"Parameter {langCode} cannot be null");
+			if(!langXML || !langCode) throw new ArgumentError("Parameters cannot be null");
+			languages[langCode]=langXML;
+			codes[langCode]=true;
+		}
+		
+		/**
+		 * Load a language XML file - the loading is handled internally.
+		 * 
+		 * @param langXMLPath A path to a language xml file.
+		 * @param langCode A language code to store this XML file as.
+		 */
+		public function loadLanguage(langXMLPath:String,langCode:String):void
+		{
+			ast.notNil(langXMLPath,"Parameter {langXMLPath} cannot be null");
+			ast.notNil(langCode,"Parameter {langCode} cannot be null");
+			if(!langXMLPath || !langCode) throw new ArgumentError("Parameters cannot be null");
+			var x:XMLLoader=new XMLLoader();
+			codes[langCode]=x;
+			x.contentLoader.addEventListener(Event.COMPLETE, onLangComplete);
+			x.load(new URLRequest(langXMLPath));
+		}
+		
+		/**
+		 * On complete of a language XML file.
+		 */
+		private function onLangComplete(e:Event):void
+		{
+			for(var langCode:String in codes)
+			{
+				if(codes[langCode] is XMLLoader && codes[langCode].data != null)
+				{
+					languages[langCode]=codes[langCode].data as XML;
+					codes[langCode]=true;
+				}
+			}
+		}
+
+		/**
+		 * Add a localizable clip to the language manager. The clip will be updated
+		 * when the selected language code changes.
+		 * 
+		 * @param clip An LocalizableClip.
+		 * @param textID String ID in language xml file.
+		 * @param updateOnAdd Boolean to update localizedText on add.
+		 */
+		public function addLocalizableClip(clip:LocalizableClip,textID:String,updateOnAdd:Boolean=false):void
+		{
+			ast.notNil(clip,"Parameter {clip} cannot be null");
+			ast.notNil(textID,"Parameter {textID} cannot be null");
+			clip.localizedID=textID;
+			clips[textID]=clip;
+			if(!languages[_languageCode] && updateOnAdd) trace("WARNING: updateOnAdd will not be applied. The language code {" + _languageCode + "} has no XML associated with it.");
+			if(updateOnAdd && languages[_languageCode]) clip.localizedText=getTextForID(clip.localizedID);
+		}
+		
+		/**
+		 * Remove a localizable clip from the manager.
+		 * 
+		 * @param clip The LocalizableClip to remove.
+		 */
+		public function removeLocalizableClip(clip:LocalizableClip):void
+		{
+			ast.notNil(clip,"Parameter {clip} cannot be null");
+			if(clips[clip]) clips[clip]=null;
+		}
+		
+		/**
+		 * Update all LocalizableClip's in this manager.
+		 */
+		public function updateAll():void
+		{
+			for each(var clip:* in clips) clip.localizedText=getTextForID(clip.localizedID);
+		}
+		
+		/**
+		 * Update the language code, which triggers an update
+		 * to all localizable clips that are registered.
+		 * 
+		 * @param code The language code to use.
+		 */
+		public function set languageCode(code:String):void
+		{
+			ast.notNil(code,"Parameter {code} cannot be null");
+			if(!codes[code]) throw new Error("Language code " + code.toString() + " is not available");
+			_languageCode=code;
+			updateAll();
+		}
+		
+		/**
+		 * Get the text associated with an id in the current selected language
+		 * xml file.
+		 * 
+		 * @param textID The text id.
+		 */
+		public function getTextForID(textID:String):String
+		{
+			ast.notNil(textID,"Parameter {textID} cannot be null");
+			if(!_languageCode)return null;
+			if(!languages[_languageCode])return null;
+			if(!XML(languages[_languageCode]).text.(@id==textID))throw new Error("No text for text id: {" + textID + "} was found");
+			return XML(languages[_languageCode]).text.(@id==textID).toString();
+		}
+	}
+}
diff --git a/src/as_not_implemented/LinkButton.as b/src/as_not_implemented/LinkButton.as
new file mode 100644
index 0000000..fcaaec1
--- /dev/null
+++ b/src/as_not_implemented/LinkButton.as
@@ -0,0 +1,4 @@
+package net.guttershark.display.buttons 
+{
+	public class LinkButton 
+	{
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/LocalizableClip.as b/src/as_not_implemented/LocalizableClip.as
new file mode 100644
index 0000000..c3e334e
--- /dev/null
+++ b/src/as_not_implemented/LocalizableClip.as
@@ -0,0 +1,75 @@
+﻿package net.guttershark.display
+{
+	
+	import flash.text.TextField;	
+	import flash.display.MovieClip;	
+	
+	/**
+	 * The LocalizableClip class is used with the LanguageManager
+	 * to add language support at runtime.
+	 */
+	public class LocalizableClip extends MovieClip
+	{
+	
+		/**
+		 * An instance of a text field that sould
+		 * be on the stage.
+		 */
+		public var tfield:TextField;
+		
+		/**
+		 * The text id.
+		 */
+		private var textID:String;
+		
+		/**
+		 * Constructor for LocalizableClip instances - you should
+		 * bind this class to a movie clip in the library, or
+		 * if you need to create one through code, pass in
+		 * a text field instance in the constructor.
+		 * 
+		 * @param tf The text field to store internally that displays the text.
+		 */
+		public function LocalizableClip(tf:TextField=null)
+		{
+			super();
+			this.tfield=tf;
+			addChild(tfield);
+			if(!this.tfield)throw new Error("The movie clip, {"+this.name+"} must have an instance of a Textfield on the stage called 'tfield'.");
+		}
+		
+		/**
+		 * The text content for this clip.
+		 */
+		public function set localizedText(value:String):void
+		{
+			tfield.htmlText=value;
+		}
+		
+		/**
+		 * The text content for this clip.
+		 */
+		public function get localizedText():String
+		{
+			return tfield.htmlText;
+		}
+		
+		/**
+		 * The localized id of this clip, which correlates
+		 * to a text node in a language xml file.
+		 */
+		public function get localizedID():String
+		{
+			return textID;
+		}
+		
+		/**
+		 * The localized id of this clip, which correlates
+		 * to a text node in a language xml file.
+		 */
+		public function set localizedID(value:String):void
+		{
+			textID=value;
+		}
+	}
+}
diff --git a/src/as_not_implemented/MovieClipCheckBox.as b/src/as_not_implemented/MovieClipCheckBox.as
new file mode 100644
index 0000000..011cc44
--- /dev/null
+++ b/src/as_not_implemented/MovieClipCheckBox.as
@@ -0,0 +1,45 @@
+package net.guttershark.display.buttons 
+{
+	import net.guttershark.display.buttons.MovieClipToggleButton;	
+	import net.guttershark.managers.SoundManager;	
+	
+	/**
+	 * The MovieClipCheckBox class inherits from MovieClipToggleButton
+	 * mostly for cosmetics purposes - a getter and setter for "checked." 
+	 * As well as 2 sound property additions.
+	 */
+	public class MovieClipCheckBox extends MovieClipToggleButton
+	{
+
+		/**
+		 * The sound to play when the button becomes "checked.";
+		 */
+		public var checkedSound:String;
+		
+		/**
+		 * The sound to play when the button is "unchecked."
+		 */
+		public var uncheckedSound:String;
+		
+		/**
+		 * Set the checked state of the button. Note that this is a 
+		 * convenience method if you need to "check" this button through
+		 * code. But by default "checked" toggling happens by default with
+		 * mouse interaction.
+		 */
+		public function set checked(state:Boolean):void
+		{
+			_toggled = state;
+			if(state && checkedSound) SoundManager.gi().playSound(checkedSound);
+			else if(!state && uncheckedSound) SoundManager.gi().playSound(uncheckedSound);
+			if(_toggled) gotoAndStop(normalToggledFrame);
+			else gotoAndStop(normalFrame);
+		}
+
+		/**
+		 * Read the checked state of the button.
+		 */
+		public function get checked():Boolean
+		{
+			return _toggled;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/MovieClipToggleButton.as b/src/as_not_implemented/MovieClipToggleButton.as
new file mode 100644
index 0000000..2213938
--- /dev/null
+++ b/src/as_not_implemented/MovieClipToggleButton.as
@@ -0,0 +1,188 @@
+package net.guttershark.display.buttons
+{
+	import flash.events.Event;
+	import flash.events.MouseEvent;
+	
+	import net.guttershark.display.buttons.IToggleable;
+	import net.guttershark.display.buttons.MovieClipButton;
+	import net.guttershark.managers.SoundManager;
+
+	/**
+	 * The MovieClipToggleButton class is a basic button that
+	 * toggles between two states, using frames as the states.
+	 * 
+	 * &lt;p>Default frame states:&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>1 = normal state&lt;/li>
+	 * &lt;li>2 = normal over state&lt;/li>
+	 * &lt;li>3 = toggled normal state&lt;/li>
+	 * &lt;li>4 = toggled over state&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>There is also 1 sound property added.&lt;/p>
+	 * &lt;ul>
+	 * &lt;li>toggledStateChangeSound&lt;/li>
+	 * &lt;/ul>
+	 * 
+	 * &lt;p>The &lt;code>&lt;em>locked&lt;/em>&lt;/code> is not supported on this class&lt;/p>
+	 * 
+	 * &lt;p>There is an example of this class in the examples/ui/controls/buttons folder.&lt;/p>
+	 */
+	public class MovieClipToggleButton extends MovieClipButton implements IToggleable
+	{
+		
+		/**
+		 * The frame to go to for the out toggled state.
+		 */
+		public var normalToggledFrame:int = 3;
+		
+		/**
+		 * The frame to go to for the toggled over state.
+		 */
+		public var overToggledFrame:int = 4;
+		
+		/**
+		 * Flag indicator for the toggled state
+		 */
+		protected var _toggled:Boolean;
+		
+		/**
+		 * The sound to play when a change to the toggle state
+		 * happens. 
+		 */
+		public var toggleStateChangeSound:String;
+		
+		/**
+		 * Constructor for MovieClipCheckBox instances. Generally this class should be 
+		 * bound to a movie clip in the library.
+		 */
+		public function MovieClipToggleButton()
+		{
+			//EventManager.gi().handleEvents(this,this,"onThis");
+		}
+		
+		public function onThisFocusIn():void
+		{
+			//KeyboardEventManager.gi().addMapping(this, " ", onSpace);
+		}
+
+		public function onThisFocusOut():void
+		{
+			//KeyboardEventManager.gi().removeMapping(this, " ");
+		}
+		
+		/*private function onSpace():void
+		{
+			this.toggled = !this.toggled;
+		}*/
+
+		/**
+		 * @private
+		 * overrides to ignore lock feature.
+		 */
+		override public function set locked(value:Boolean):void
+		{
+			return;
+		}
+		
+		/**
+		 * @private
+		 * Overrides the getter to always return false. as locked is
+		 * not supported
+		 */
+		override public function get locked():Boolean
+		{
+			return false;
+		}
+		
+		/**
+		 * @private
+		 * Overrides the onMouseOver for custom logic dealing with
+		 * toggled state.
+		 */
+		override protected function __onMouseOver(me:MouseEvent):void
+		{
+			if(overSound) SoundManager.gi().playSound(overSound);
+			over = true;
+			if(_toggled) gotoAndStop(overToggledFrame);
+			else gotoAndStop(overFrame);
+		}
+
+		/**
+		 * @private
+		 * Overrides the onMouseOver for custom logic dealing with
+		 * toggled state.
+		 */
+		override protected function __onMouseUp(me:MouseEvent):void
+		{
+			if(upSound) SoundManager.gi().playSound(upSound);
+			if(_toggled && over) gotoAndStop(overToggledFrame);
+			else if(_toggled) gotoAndStop(normalToggledFrame);
+			else if(!_toggled && over) gotoAndStop(overFrame);
+			else gotoAndStop(normalFrame);
+			down = false;
+		}
+		
+		/**
+		 * @private
+		 * When the mouse button is released outside of the clip. This is not supported in Flex.
+		 */
+		override protected function __onMouseUpOutside(me:MouseEvent):void
+		{
+			if(!over)
+			{
+				me.stopPropagation();
+				down = false;
+				return;
+			}
+			if(upSound) SoundManager.gi().playSound(upSound);
+			if(_toggled) gotoAndStop(overToggledFrame);
+			else gotoAndStop(normalFrame);
+			down = false;
+		}
+		
+		/**
+		 * @private
+		 * Overrides the onMouseOver for custom logic dealing with
+		 * toggled state.
+		 */
+		override protected function __onMouseOut(me:MouseEvent):void
+		{
+			if(outSound) SoundManager.gi().playSound(outSound);
+			over = false;
+			if(_toggled) gotoAndStop(normalToggledFrame);
+			else gotoAndStop(normalFrame);
+		}
+
+		/**
+		 * @private
+		 * Overrides the default super implementation to automatically
+		 * toggle between the toggled / (down|over|normal) frames.
+		 */
+		override protected function __onMouseDown(me:MouseEvent):void
+		{
+			if(_locked) return;
+			this.toggled = !this.toggled;
+			if(_toggled) gotoAndStop(normalToggledFrame);
+			down = true;
+		}
+		
+		/**
+		 * @private
+		 * Interface compliance
+		 */
+		public function get toggled():Boolean
+		{
+			return _toggled;
+		}
+		
+		/**
+		 * @private
+		 * interface compliance
+		 */
+		public function set toggled(val:Boolean):void
+		{
+			_toggled = val;
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/as_not_implemented/RandomArrayElement.as b/src/as_not_implemented/RandomArrayElement.as
new file mode 100644
index 0000000..876ce70
--- /dev/null
+++ b/src/as_not_implemented/RandomArrayElement.as
@@ -0,0 +1,27 @@
+package net.guttershark.util 
+{
+	public class RandomArrayElement 
+	{
+		
+		private var ar:Array;
+		private var usd:Array;
+		
+		public function RandomArrayElement(array:Array)
+		{
+			ar = array;
+			ArrayUtils.Shuffle(ar);
+			usd = new Array();
+		}
+		
+		public function getRandomElement():*
+		{
+			if(ar.length == 0)
+			{
+				ar = usd;
+				ArrayUtils.Shuffle(ar);
+				usd = new Array();
+			}
+			var el:* = ar.shift();
+			usd.push(el);
+			return el;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/decorators/NavigateToLink.as b/src/as_not_implemented/decorators/NavigateToLink.as
new file mode 100644
index 0000000..eef1ca2
--- /dev/null
+++ b/src/as_not_implemented/decorators/NavigateToLink.as
@@ -0,0 +1,78 @@
+package net.guttershark.decorators 
+{
+	import net.guttershark.model.Model;
+	
+	import flash.display.Sprite;		
+
+	/**
+	 * The NavigateToLink class decorates any sprite,
+	 * with "navigateToLink" functionality tied in with the
+	 * model.
+	 * 
+	 * @example Decorating a clip to navigate to a link on click:
+	 * &lt;listing>	
+	 * var myMovieClip:MovieClip;
+	 * //the "google" must be a link node in the model.
+	 * var ntl:NavigateToLink=new NavigateToLink(myMovieClip,"google",MouseEvent.CLICK);
+	 * &lt;/listing>
+	 */
+	final public class NavigateToLink
+	{
+		
+		/**
+		 * The model.
+		 */
+		private var ml:Model;
+		
+		/**
+		 * The link id.
+		 */
+		private var linkId:String;
+		
+		/**
+		 * The clip being decorated.
+		 */
+		private var clip:Sprite;
+		
+		/**
+		 * The event used to trigger the nav to link.
+		 */
+		private var event:String;
+		
+		/**
+		 * Constructor for new NavigateToLink instances.
+		 * 
+		 * @param clip The sprite to decorate.
+		 * @param modelLinkId The link id from the model to navigate to.
+		 * @param reactToEvent What event to react to.
+		 */
+		public function NavigateToLink(sp:Sprite,modelLinkId:String,reactToEvent:String="click")
+		{
+			if(!sp)throw new Error("Parameter {sp} cannot be null.");
+			clip=sp;
+			ml=Model.gi();
+			if(!ml.doesLinkExist(modelLinkId))throw new Error("The modelLinkId {"+modelLinkId+"} does not exist in the model.");
+			clip.addEventListener(reactToEvent,onClipEvent);
+			linkId=modelLinkId;
+			event=reactToEvent;
+		}
+		
+		/**
+		 * The event 
+		 */
+		private function onClipEvent(me:*):void
+		{
+			ml.navigateToLink(linkId);
+		}
+		
+		/**
+		 * Dispose of this decorator.
+		 */
+		public function dispose():void
+		{
+			clip.removeEventListener(event,onClipEvent);
+			clip=null;
+			ml=null;
+			linkId=null;
+			event=null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/decorators/ReversableClip.as b/src/as_not_implemented/decorators/ReversableClip.as
new file mode 100644
index 0000000..c2fa10d
--- /dev/null
+++ b/src/as_not_implemented/decorators/ReversableClip.as
@@ -0,0 +1,65 @@
+package net.guttershark.decorators 
+{
+	import flash.display.MovieClip;
+	import flash.events.Event;	
+
+	/**
+	 * The ReversableClip class decorates a
+	 * movie clip with play in reverse functionality.
+	 * 
+	 * @example Decorating a movie clip with reversable clip:
+	 * &lt;listing>	
+	 * var myClip:MovieClip;
+	 * var rm:ReversableMovieClip=new ReversableMovieClip(myClip);
+	 * myClip.gotoAndStop(myClip.totalFrames);
+	 * rm.playReverse();
+	 * &lt;/listing>
+	 */
+	final public class ReversableClip
+	{
+		
+		/**
+		 * The clip being decorated.
+		 */	
+		private var clip:MovieClip;
+		
+		/**
+		 * Constructor for ReversableClip instances.
+		 * 
+		 * @param clip The movie clip to decorate.
+		 */
+		public function ReversableClip(clip:MovieClip)
+		{
+			this.clip=clip;
+		}
+		
+		/**
+		 * Play the movie clip in reverse.
+		 */
+		public function playReverse():void
+		{
+			clip.addEventListener(Event.ENTER_FRAME,onEnterFrame,false,0,true);
+		}
+		
+		/**
+		 * on enter frame of clip.
+		 */
+		private function onEnterFrame(e:Event):void
+		{
+			if(clip.currentFrame==1)
+			{
+				clip.removeEventListener(Event.ENTER_FRAME,onEnterFrame);
+				return;
+			}
+			clip.gotoAndPlay(clip.currentFrame-1);
+		}
+		
+		/**
+		 * Dispose of this decorator.
+		 */
+		public function dispose():void
+		{
+			if(!clip)return;
+			clip.removeEventListener(Event.ENTER_FRAME,onEnterFrame);
+			clip=null;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/decorators/SoundDecorator.as b/src/as_not_implemented/decorators/SoundDecorator.as
new file mode 100644
index 0000000..ce89e49
--- /dev/null
+++ b/src/as_not_implemented/decorators/SoundDecorator.as
@@ -0,0 +1,331 @@
+package net.guttershark.decorators 
+{
+	import net.guttershark.managers.SoundManager;
+	
+	import flash.display.Sprite;
+	import flash.display.Stage;
+	import flash.events.Event;
+	import flash.events.MouseEvent;	
+
+	/**
+	 * The SoundDecorator class decorates a sprite with
+	 * sound functionality for most mouse events.
+	 * 
+	 * &lt;p>Internally, the sound decorator uses the sound manager,
+	 * so any sounds you want to play must have been registered
+	 * with the sound manager before they play.&lt;/p>
+	 */
+	final public class SoundDecorator
+	{
+		
+		/**
+		 * Enabled flag.
+		 */
+		private var en:Boolean;
+		
+		/**
+		 * The clips' stage reference.
+		 */
+		private var clipStageRef:Stage;
+		
+		/**
+		 * the clip being decorated.
+		 */
+		private var clip:Sprite;
+		
+		/**
+		 * The sound manager.
+		 */
+		private var snm:SoundManager;
+		
+		/**
+		 * click sound.
+		 */
+		private var _clicksound:String;
+		
+		/**
+		 * double click sound.
+		 */
+		private var _dclickSound:String;
+		
+		/**
+		 * over sound.
+		 */
+		private var _overSound:String;
+		
+		/**
+		 * down sown
+		 */
+		private var _downSound:String;
+		
+		/**
+		 * up sound.
+		 */
+		private var _upSound:String;
+		
+		/**
+		 * mouse out sound.
+		 */
+		private var _outSound:String;
+		
+		/**
+		 * mouse up outside sound.
+		 */
+		private var _upOutsideSound:String;
+		
+		/**
+		 * flag for using up outside.
+		 */
+		private var useUpOutside:Boolean;
+		
+		/**
+		 * Constructor for SoundDecorator instances.
+		 * 
+		 * &lt;p>You can pass an object with the same properties
+		 * available on this class, that will automatically
+		 * get applied.&lt;/p>
+		 * 
+		 * @example Passing a sound object:
+		 * &lt;listing>	
+		 * var sd:SoundDecorator=new SoundDecorator(mySprite,{clickSound:"blip",overSound:"ringSound"});
+		 * &lt;/listing>
+		 * 
+		 * @param clip The sprite to decorate.
+		 * @param sounds An object with sound properties to used.
+		 */
+		public function SoundDecorator(clip:Sprite,sounds:Object=null)
+		{
+			if(!clip) throw new Error("Parameter {clip} cannot be null.");
+			this.clip=clip;
+			snm=SoundManager.gi();
+			if(sounds.clickSound)clickSound=sounds.clickSound;
+			if(sounds.overSound)overSound=sounds.overSound;
+			if(sounds.downSound)downSound=sounds.downSound;
+			if(sounds.upSound)upSound=sounds.upSound;
+			if(sounds.outSound)outSound=sounds.outSound;
+			if(sounds.upOutsideSound)upOutsideSound=sounds.upOutsideSound;
+			if(sounds.doubleClickSound)doubleClickSound=sounds.doubleClickSound;
+		}
+		
+		/**
+		 * Enable or disable sound functionality.
+		 */
+		public function set enabled(val:Boolean):void
+		{
+			en=val;
+		}
+		
+		/**
+		 * Enable or disable sound functionality.
+		 */
+		public function get enabled():Boolean
+		{
+			return en;
+		}
+		
+		/**
+		 * Set the click sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set clickSound(audibleId:String):void
+		{
+			_clicksound=audibleId;
+			clip.removeEventListener(MouseEvent.CLICK,onClick);
+			clip.addEventListener(MouseEvent.CLICK,onClick,false,0,true);
+		}
+		
+		/**
+		 * On click
+		 */
+		private function onClick(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_clicksound].play();
+		}
+		
+		/**
+		 * Set the double click sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set doubleClickSound(audibleId:String):void
+		{
+			_dclickSound=audibleId;
+			clip.addEventListener(MouseEvent.DOUBLE_CLICK,onDoubleClick,false,0,true);
+		}
+		
+		/**
+		 * On double click
+		 */
+		private function onDoubleClick(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_dclickSound].play();
+		}
+		
+		/**
+		 * Set the over sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set overSound(audibleId:String):void
+		{
+			_overSound=audibleId;
+			clip.removeEventListener(MouseEvent.MOUSE_OVER,onMouseOver);
+			clip.addEventListener(MouseEvent.MOUSE_OVER,onMouseOver,false,0,true);
+		}
+		
+		/**
+		 * On mouse over.
+		 */
+		private function onMouseOver(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_overSound].play();
+		}
+		
+		/**
+		 * Set the down sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set downSound(audibleId:String):void
+		{
+			_downSound=audibleId;
+			clip.removeEventListener(MouseEvent.MOUSE_DOWN,onMouseDown);
+			clip.addEventListener(MouseEvent.MOUSE_DOWN,onMouseDown,false,0,true);
+		}
+		
+		/**
+		 * On mouse down.
+		 */
+		private function onMouseDown(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_downSound].play();
+		}
+		
+		/**
+		 * Set the up sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set upSound(audibleId:String):void
+		{
+			_upSound=audibleId;
+			clip.removeEventListener(MouseEvent.MOUSE_UP,onMouseUp);
+			clip.addEventListener(MouseEvent.MOUSE_UP,onMouseUp,false,0,true);
+		}
+		
+		/**
+		 * On mouse up.
+		 */
+		private function onMouseUp(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_upSound].play();
+		}
+		
+		/**
+		 * Set the out sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set outSound(audibleId:String):void
+		{
+			_outSound=audibleId;
+			clip.removeEventListener(MouseEvent.MOUSE_OUT,onMouseOut);
+			clip.addEventListener(MouseEvent.MOUSE_OUT,onMouseOut,false,0,true);
+		}
+		
+		/**
+		 * On mouse out.
+		 */
+		private function onMouseOut(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_outSound].play();
+		}
+		
+		/**
+		 * Set the up outside sound.
+		 * 
+		 * @param val An audibleId that get's used with the sound manager.
+		 */
+		public function set upOutsideSound(audibleId:String):void
+		{
+			_upOutsideSound=audibleId;
+			useUpOutside=true;
+			if(!clip.stage)
+			{
+				clip.removeEventListener(Event.ADDED_TO_STAGE,onClipAddedToStage);
+				clip.addEventListener(Event.ADDED_TO_STAGE,onClipAddedToStage,false,0,true);
+				return;
+			}
+			clipStageRef=clip.stage;
+			clipStageRef.removeEventListener(MouseEvent.MOUSE_UP,onMouseUpStage);
+			clipStageRef.addEventListener(MouseEvent.MOUSE_UP,onMouseUpStage,false,0,true);
+			clip.addEventListener(Event.REMOVED_FROM_STAGE,onClipRemovedFromStage,false,0,true);
+		}
+		
+		/**
+		 * On stage mouse up
+		 */
+		private function onMouseUpStage(e:MouseEvent):void
+		{
+			if(!en)return;
+			snm[_upOutsideSound].play();
+		}
+		
+		/**
+		 * On clip added to stage.
+		 */
+		private function onClipAddedToStage(e:Event):void
+		{
+			clipStageRef=clip.stage;
+			clip.removeEventListener(Event.ADDED_TO_STAGE,onClipAddedToStage);
+			clip.addEventListener(Event.REMOVED_FROM_STAGE,onClipRemovedFromStage);
+			if(useUpOutside)
+			{
+				clipStageRef.removeEventListener(MouseEvent.MOUSE_UP,onMouseUpStage);
+				clipStageRef.addEventListener(MouseEvent.MOUSE_UP,onMouseUpStage,false,0,true);
+			}
+		}
+		
+		/**
+		 * On clip removed from stage.
+		 */
+		private function onClipRemovedFromStage(e:Event):void
+		{
+			clip.removeEventListener(Event.REMOVED_FROM_STAGE,onClipRemovedFromStage);
+			if(useUpOutside)
+			{
+				clip.addEventListener(Event.ADDED_TO_STAGE,onClipAddedToStage,false,0,true);
+				clipStageRef.removeEventListener(MouseEvent.MOUSE_UP,onMouseUpStage);
+			}
+		}
+		
+		/**
+		 * Dispose of this decorator.
+		 */
+		public function dispose():void
+		{
+			if(clipStageRef)clipStageRef.removeEventListener(MouseEvent.MOUSE_UP,onMouseUpStage);
+			clip.removeEventListener(MouseEvent.CLICK,onClick);
+			clip.removeEventListener(MouseEvent.MOUSE_OVER,onMouseOver);
+			clip.removeEventListener(MouseEvent.MOUSE_DOWN,onMouseDown);
+			clip.removeEventListener(MouseEvent.MOUSE_OUT,onMouseOut);
+			clip.removeEventListener(MouseEvent.MOUSE_UP,onMouseUp);
+			en=false;
+			_clicksound=null;
+			_downSound=null;
+			_outSound=null;
+			_overSound=null;
+			_upOutsideSound=null;
+			_upSound=null;
+			clip=null;
+			clipStageRef=null;
+			snm=null;
+			useUpOutside=false;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/draw/AbstractShape.as b/src/as_not_implemented/draw/AbstractShape.as
new file mode 100644
index 0000000..8aabc7f
--- /dev/null
+++ b/src/as_not_implemented/draw/AbstractShape.as
@@ -0,0 +1 @@
+package net.guttershark.display.draw
{
	import flash.errors.IllegalOperationError;	
	import flash.events.Event;	
	import flash.display.JointStyle;	
	import flash.display.LineScaleMode;	
	import flash.display.Shape;

	/**
	 * The AbstractShape class is the base class for all draw classes.
	 */
	public class AbstractShape extends Shape 
	{

		/**
		 * flag that indicates change.
		 */
		protected var _changed:Boolean = false;
		
		/**
		 * The fill color;
		 */
		protected var fillColor:Number = 0xFFFFFF;
		
		/**
		 * The fill alpha.
		 */
		protected var fillAlpha:Number = 1;
		
		/**
		 * Line style thickness.
		 */
		protected var lineThickness:Number = 1;
		
		/**
		 * Line color.
		 */
		protected var lineColor:uint = 0x000000;
		
		/**
		 * Line alpha.
		 */
		protected var lineAlpha:Number = 1;
		
		/**
		 * Line pixel hinting.
		 */
		protected var linePixelHinting:Boolean = false;
		
		/**
		 * Line stale mode.
		 */
		protected var lineScaleMode:String = LineScaleMode.NORMAL;
		
		/**
		 * Line caps.
		 */
		protected var lineCaps:String = null;
		
		/**
		 * Line Joints.
		 */
		protected var lineJoints:String = JointStyle.MITER;
		
		/**
		 * Line miter limit.
		 */
		protected var lineMiterLimit:Number = 3;

		/**
		 * Constructor for AbstractShape instances.
		 */
		public function AbstractShape() 
		{
			addEventListener(Event.ADDED_TO_STAGE,onStage,false,0,true);
			addEventListener(Event.REMOVED_FROM_STAGE,offStage,false,0,true);
		}

		/**
		 * Set the stroke style of the shape.
		 */
		public function setStrokeStyle(thickness:Number = 1, color:uint = 0x000000, alpha:Number = 1, pixelHinting:Boolean = false, scaleMode:String = "normal", caps:String = null, joints:String = "miter", miterLimit:Number = 10):void 
		{
			lineThickness = thickness;
			lineColor = color;
			lineAlpha = alpha;
			linePixelHinting = pixelHinting;
			lineScaleMode = scaleMode;
			lineCaps = caps;
			lineJoints = joints;
			lineMiterLimit = miterLimit;
			setChanged();
		}

		/**
		 * Set the fill style of the shape.
		 */
		public function setFillStyle(color:uint = 0xFFFFFF, alpha:Number = 1):void 
		{
			fillColor = color;
			fillAlpha = alpha;
			setChanged();
		}		

		/**
		 * When the shape has been added to the stage.
		 */
		protected function onStage(e:Event):void 
		{
			stage.addEventListener(Event.RENDER,render,false,0,true);
			if(hasChanged()) requestDraw();
		}

		/**
		 * When the shape has been removed from the stage.
		 */
		protected function offStage(e:Event):void 
		{
			stage.removeEventListener(Event.RENDER,render);
		}

		/**
		 * Handles screen updates when stage.invalidate() fires.
		 */
		protected function render(e:Event):void
		{
			if(hasChanged()) draw();
		}

		/**
		 * Draw the Shape graphics as defined by &lt;code>AbstractShape&lt;/code> subclasses.
		 * 
		 * &lt;p>In order to increase performance &lt;code>draw()&lt;/code> is only called
		 * when during a stage RENDER event fires.&lt;/p>
		 */
		protected function draw():void 
		{
			graphics.clear();
			graphics.lineStyle(lineThickness,lineColor,lineAlpha,linePixelHinting,lineScaleMode,lineCaps,lineJoints,lineMiterLimit);
			graphics.beginFill(fillColor,fillAlpha);
			drawShape();
			graphics.endFill();
			clearChanged();
		}

		/**
		 * Draw the specific lines of the Shape as defined by &lt;code>AbstractShape&lt;/code> subclasses.
		 */
		protected function drawShape():void 
		{
			throw new IllegalOperationError("AbstractShape.drawShape() may only be invoked by subclasses.");
		}

		/**
		 * Flag the shape as changed which forces a redraw on the next render.
		 */
		protected function setChanged():void 
		{
			_changed = true;
			requestDraw();
		}

		/**
		 * Reset the changed flag, until another change.
		 */
		protected function clearChanged():void 
		{
			_changed = false;
		}

		/**
		 * Indicates whether the shape change has been rendered yet or not.
		 */
		protected function hasChanged():Boolean 
		{
			return _changed;
		}

		/**
		 * Forces a stage.invalidate() call, which will force an update to the shape, if it
		 * has been changed since the last REDRAW.
		 */
		protected function requestDraw():void 
		{
			if(stage != null) stage.invalidate();
		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/draw/Bezier.as b/src/as_not_implemented/draw/Bezier.as
new file mode 100644
index 0000000..492060a
--- /dev/null
+++ b/src/as_not_implemented/draw/Bezier.as
@@ -0,0 +1 @@
+package net.guttershark.display.draw
{
	import flash.display.Shape;

	/**
	 * Bezier provides a Tweenable curve which, unlike &lt;code>Curve&lt;/code> requires a Control Point.
	 * @see net.guttershark.display.draw.Curve Curve Class
	 */
	public class Bezier extends Shape
	{
		
		public static const THICKNESS:Number = 1;
		public static const COLOR:uint = 0x000000;
		public static const ALPHA:Number = 1;
		public static const HINTING:Boolean = true;
		public static const SCALE_MODE:String = "none";
		public static const CAPS:String = "square";
		public static const JOINTS:String = "miter";
		public static const MITER_LIMIT:Number = 3;	
		protected var _sx:Number;
		protected var _sy:Number;
		protected var _cx:Number;
		protected var _cy:Number;
		protected var _ax:Number;
		protected var _ay:Number;
		protected var _thickness:Number;
		protected var _color:uint;
		protected var _alpha:Number;
		protected var _pixelHinting:Boolean;
		protected var _scaleMode:String;
		protected var _caps:String;
		protected var _joints:String;
		protected var _miterLimit:Number;
		
		/**
		 * Constructor for Bezier instances.
		 * 
		 * @example
		 * &lt;listing>	
		 * var bezier:Bezier = new Bezier(300, 300, 200,200, 500, 500, 1, 0x00ffff);
		 * addChild(bezier);
		 * Tweener.addTween(benzier, {sx:20,sy:500,cx:0,cy:100,ax:700,ay:300, color:0x33ffff, thickness:2.75, transition:"easeOutQuint", time:5, onUpdate:renderBenzier});
		 * function renderBenzier():void
		 * {
		 *     benzier.draw();
		 * }
		 * &lt;/listing>
		 */
		public function Bezier(startX:Number, startY:Number, controlX:Number, controlY:Number, anchorX:Number, anchorY:Number, thickness:Number = THICKNESS, color:uint = COLOR,  alpha:Number = ALPHA, pixelHinting:Boolean = HINTING, scaleMode:String = SCALE_MODE, caps:String = CAPS, joints:String = JOINTS, miterLimit:Number = MITER_LIMIT) 
		{
			_sx = startX;
			_sy = startY;
			_cx = controlX;
			_cy = controlY;
			_ax = anchorX;
			_ay = anchorY;
			_thickness = thickness;
			_color = color;
			_alpha = alpha;
			_pixelHinting = pixelHinting;
			_scaleMode = scaleMode;
			_caps = caps;
			_joints = joints;
			_miterLimit = miterLimit;
			draw();
		}

		/**
		 * @inheritDoc
		 */
		public function draw():void 
		{
			this.graphics.lineStyle(_thickness,_color,_alpha,_pixelHinting,_scaleMode,_caps,_joints,_miterLimit);
			this.graphics.moveTo(_sx,_sy);
			this.graphics.curveTo(_cx,_cy,_ax,_ay);						
		}			

		/**
		 * @inheritDoc
		 */		
		public function redraw():void 
		{
			clear();
			draw();
		}

		/**
		 * @inheritDoc
		 */
		public function clear():void 
		{
			this.graphics.clear();	
		}

		/**
		 * Return the start x pos.
		 */
		public function get sx():Number 
		{
			return _sx;
		}		

		/**
		 * @private
		 */
		public function set sx(n:Number):void 
		{
			_sx = n;
		}		

		/**
		 * Return the start y pos.
		 */
		public function get sy():Number 
		{
			return _sy;
		}

		/**
		 * @private
		 */
		public function set sy(n:Number):void 
		{
			_sy = n;
		}	

		/**
		 * Return the control x pos.
		 */
		public function get cx():Number
		{
			return _cx;
		}		

		/**
		 * @private
		 */
		public function set cx(n:Number):void 
		{
			_cx = n;
		}		

		/**
		 * Return the control y pos.
		 */
		public function get cy():Number 
		{
			return _cy;
		}

		/**
		 * @private
		 */
		public function set cy(n:Number):void 
		{
			_cy = n;
		}	

		/**
		 * Return the anchor x pos.
		 */
		public function get ax():Number 
		{
			return _ax;
		}		

		/**
		 * @private
		 */
		public function set ax(n:Number):void 
		{
			_ax = n;
		}

		/**
		 * Return the anchor y pos.
		 */
		public function get ay():Number 
		{
			return _ay;
		}

		/**
		 * @private
		 */
		public function set ay(n:Number):void
		{
			_ay = n;
		}

		/**
		 * Return the color.
		 */
		public function get color():uint 
		{
			return _color;
		}

		/**
		 * @private
		 */
		public function set color(n:uint):void 
		{
			_color = n;
		}	

		/**
		 * Return the thickness.
		 */
		public function get thickness():uint 
		{
			return _thickness;
		}

		/**
		 * @private
		 */
		public function set thickness(n:uint):void 
		{
			_thickness = n;
		}							
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/draw/Curve.as b/src/as_not_implemented/draw/Curve.as
new file mode 100644
index 0000000..196354f
--- /dev/null
+++ b/src/as_not_implemented/draw/Curve.as
@@ -0,0 +1,2 @@
+package net.guttershark.display.draw 
{
	import flash.display.Shape;
+	/**
	 * Curve provides a Tweenable 3-point curved line which, unlike &lt;code>Bezier&lt;/code> does not require a control point.
	 * @see net.guttershark.display.draw.draw.Bezier
	 */
	public class Curve extends Shape
	{
		
		public static const THICKNESS:Number = 1;
		public static const COLOR:uint = 0x000000;
		public static const ALPHA:Number = 1;
		public static const HINTING:Boolean = true;
		public static const SCALE_MODE:String = "none";
		public static const CAPS:String = "square";
		public static const JOINTS:String = "miter";
		public static const MITER_LIMIT:Number = 3;	
		protected var _sx:Number;
		protected var _sy:Number;
		protected var _tx:Number;
		protected var _ty:Number;
		protected var _ex:Number;
		protected var _ey:Number;
		protected var _thickness:Number;
		protected var _color:uint;
		protected var _alpha:Number;
		protected var _pixelHinting:Boolean;
		protected var _scaleMode:String;
		protected var _caps:String;
		protected var _joints:String;
		protected var _miterLimit:Number;
		
		/**
		 * Constructor for Curve instances
		 * @example
		 * &lt;listing>	
		 * var curve:Curve = new Curve(0, 0, 50,300, 100, 100, 1, 0xff0000);
		 * addChild(curve);
		 * Tweener.addTween(curve, {sx:200,sy:300,tx:100,ty:0,ex:900,ey:500, color:0xff00ff, transition:"easeOutQuint", time:5, onUpdate:renderCurve});
		 * function renderCurve():void
		 * {
		 *     curve.draw();
		 * }
		 * &lt;/listing>
		 */
		public function Curve(startX:Number, startY:Number, thruX:Number, thruY:Number, endX:Number, endY:Number, thickness:Number = THICKNESS, color:uint = COLOR,  alpha:Number = ALPHA, pixelHinting:Boolean = HINTING, scaleMode:String = SCALE_MODE, caps:String = CAPS, joints:String = JOINTS, miterLimit:Number = MITER_LIMIT) 
		{
			_sx = startX;
			_sy = startY;
			_tx = thruX;
			_ty = thruY;
			_ex = endX;
			_ey = endY;
			_thickness = thickness;
			_color = color;
			_alpha = alpha;
			_pixelHinting = pixelHinting;
			_scaleMode = scaleMode;
			_caps = caps;
			_joints = joints;
			_miterLimit = miterLimit;
			draw();
		}

		/**
		 * @inheritDoc
		 */
		public function draw():void 
		{
			var cx:Number = ((2 * _tx) - 0.5 * (_sx + _ex));
			var cy:Number = ((2 * _ty) - 0.5 * (_sy + _ey));
			this.graphics.lineStyle(_thickness,_color,_alpha,_pixelHinting,_scaleMode,_caps,_joints,_miterLimit);
			this.graphics.moveTo(_sx,_sy);
			this.graphics.curveTo(cx,cy,_ex,_ey);
		}			

		/**
		 * @inheritDoc
		 */
		public function redraw():void 
		{
			clear();
			draw();
		}

		/**
		 * @inheritDoc
		 */
		public function clear():void 
		{
			this.graphics.clear();	
		}

		/**
		 * Return the start x pos.
		 */
		public function get sx():Number 
		{
			return _sx;
		}		

		/**
		 * @private
		 */
		public function set sx(n:Number):void 
		{
			_sx = n;
		}		

		/**
		 * Return the start y pos.
		 */
		public function get sy():Number 
		{
			return _sy;
		}

		/**
		 * @private
		 */
		public function set sy(n:Number):void 
		{
			_sy = n;
		}	

		/**
		 * Return the thru x pos.
		 */
		public function get tx():Number 
		{
			return _tx;
		}		

		/**
		 * @private
		 */
		public function set tx(n:Number):void 
		{
			_tx = n;
		}		

		/**
		 * Return the thru y pos.
		 */
		public function get ty():Number 
		{
			return _ty;
		}

		/**
		 * @private
		 */
		public function set ty(n:Number):void 
		{
			_ty = n;
		}	

		/**
		 * Return the end x pos.
		 */
		public function get ex():Number 
		{
			return _ex;
		}		

		/**
		 * @private
		 */
		public function set ex(n:Number):void 
		{
			_ex = n;
		}

		/**
		 * Return the end y pos.
		 */
		public function get ey():Number 
		{
			return _ey;
		}

		/**
		 * @private
		 */
		public function set ey(n:Number):void 
		{
			_ey = n;
		}

		/**
		 * Return the color.
		 */
		public function get color():uint 
		{
			return _color;
		}

		/**
		 * @private
		 */
		public function set color(n:uint):void 
		{
			_color = n;
		}	

		/**
		 * Return the thickness.
		 */
		public function get thickness():uint 
		{
			return _thickness;
		}

		/**
		 * @private
		 */
		public function set thickness(n:uint):void 
		{
			_thickness = n;
		}															
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/draw/DrawStyle.as b/src/as_not_implemented/draw/DrawStyle.as
new file mode 100644
index 0000000..a5be5cf
--- /dev/null
+++ b/src/as_not_implemented/draw/DrawStyle.as
@@ -0,0 +1 @@
+package net.guttershark.display.draw
{
	import flash.geom.Matrix;	

	/**
	 * DrawStyle provides a base preference set for API Drawn Shapes.
	 * @see flash.display.CapsStyle
	 * @see flash.display.GradientType
	 * @see flash.display.InterpolationMethod
	 * @see flash.display.JointStyle
	 * @see flash.display.LineScaleMode
	 * @see flash.display.SpreadMethod
	 * @see flash.geom.Matrix
	 */
	public class DrawStyle
	{
		public static var THICKNESS:Number = 1;
		public static var COLOR:uint = 0x000000;
		public static var ALPHA:Number = 1;
		public static var HINTING:Boolean = true;
		public static var SCALE_MODE:String = "none";
		public static var CAPS:String = "square";
		public static var JOINTS:String = "miter";
		public static var MITER_LIMIT:Number = 3;
		public static var GRADIENT_TYPE:String = "linear";
		public static var GRADIENT_COLORS:Array = [0x000000, 0xFFFFFF];
		public static var GRADIENT_ALPHAS:Array = [0,100];
		public static var GRADIENT_RATIOS:Array = [0,255];
		public static var GRADIENT_MATRIX:Matrix = null;
		public static var GRADIENT_SPREAD:String = "pad";
		public static var GRADIENT_INTERPOLATE:String = "rgb";
		public static var FOCALPOINT_RATIO:Number = 0;
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/draw/Line.as b/src/as_not_implemented/draw/Line.as
new file mode 100644
index 0000000..e50ba41
--- /dev/null
+++ b/src/as_not_implemented/draw/Line.as
@@ -0,0 +1 @@
+package net.guttershark.display.draw
{
	import flash.display.Shape;
	
	/**
	 * Line provides a Tweenable line Shape.
	 */
	public class Line extends Shape
	{

		public static const THICKNESS:Number = 1;
		public static const COLOR:uint = 0x000000;
		public static const ALPHA:Number = 1;
		public static const HINTING:Boolean = true;
		public static const SCALE_MODE:String = "none";
		public static const CAPS:String = "square";
		public static const JOINTS:String = "miter";
		public static const MITER_LIMIT:Number = 3;
		protected var _sx:Number;
		protected var _sy:Number;
		protected var _ex:Number;
		protected var _ey:Number;
		protected var _thickness:Number;
		protected var _color:uint;
		protected var _alpha:Number;
		protected var _pixelHinting:Boolean;
		protected var _scaleMode:String;
		protected var _caps:String;
		protected var _joints:String;
		protected var _miterLimit:Number;
		
		/**
		 * Constructor for Line instances.
		 * @example
		 * &lt;listing>	
		 * var line:Line = new Line(0, 0, 100, 100, 1, 0xff00ff);
		 * addChild(line);
		 * Tweener.addTween(line, {sx:50, sy:350, ex:700, ey:350, color:0xffff00, time:5, transition:"easeInOutQuart", onUpdate:renderLine});
		 * Tweener.addTween(line, {sx:850, sy:50, ex:950, ey:0, color:0xffffff, time:5, delay:5, transition:"easeInQuart", onUpdate:renderLine});
		 * function renderLine():void
		 * {
		 * 	   line.draw(); 		// add to the existing drawing
		 * 	   //line.redraw(); 	// clear the drawing and redraw
		 * }
		 * &lt;/listing>
		 */
		public function Line(startX:Number, startY:Number, endX:Number, endY:Number, thickness:Number = THICKNESS, color:uint = COLOR, alpha:Number = ALPHA, pixelHinting:Boolean = HINTING, scaleMode:String = SCALE_MODE, caps:String = null, joints:String = JOINTS, miterLimit:Number = MITER_LIMIT) 
		{
			_sx = startX;
			_sy = startY;
			_ex = endX;
			_ey = endY;
			_thickness = thickness;
			_color = color;
			_alpha = alpha;
			_pixelHinting = pixelHinting;
			_scaleMode = scaleMode;
			_caps = caps;
			_joints = joints;
			_miterLimit = miterLimit;
			draw();
		}

		/**
		 * @inheritDoc
		 */
		public function draw():void 
		{
			this.graphics.lineStyle(_thickness,_color,_alpha,_pixelHinting,_scaleMode,_caps,_joints,_miterLimit);
			this.graphics.moveTo(_sx,_sy);
			this.graphics.lineTo(_ex,_ey);
		}

		/**
		 * @inheritDoc
		 */
		public function redraw():void 
		{
			clear();
			draw();	
		}		

		/**
		 * @inheritDoc
		 */
		public function clear():void 
		{
			this.graphics.clear();	
		}

		/**
		 * Return the start x pos.
		 */
		public function get sx():Number 
		{
			return _sx;
		}		

		/**
		 * @private
		 */
		public function set sx(n:Number):void 
		{
			_sx = n;
		}		

		/**
		 * Return the start y pos.
		 */
		public function get sy():Number 
		{
			return _sy;
		}

		/**
		 * @private
		 */
		public function set sy(n:Number):void 
		{
			_sy = n;
		}		

		/**
		 * Return the end x pos.
		 */
		public function get ex():Number 
		{
			return _ex;
		}		

		/**
		 * @private
		 */
		public function set ex(n:Number):void 
		{
			_ex = n;
		}

		/**
		 * Return the end y pos.
		 */
		public function get ey():Number 
		{
			return _ey;
		}

		/**
		 * @private
		 */
		public function set ey(n:Number):void 
		{
			_ey = n;
		}

		/**
		 * Return the color.
		 */
		public function get color():uint 
		{
			return _color;
		}

		/**
		 * @private
		 */
		public function set color(n:uint):void 
		{
			_color = n;
		}	

		/**
		 * Return the thickness.
		 */
		public function get thickness():uint 
		{
			return _thickness;
		}

		/**
		 * @private
		 */
		public function set thickness(n:uint):void 
		{
			_thickness = n;
		}												
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/draw/Rect.as b/src/as_not_implemented/draw/Rect.as
new file mode 100644
index 0000000..ad6b1b2
--- /dev/null
+++ b/src/as_not_implemented/draw/Rect.as
@@ -0,0 +1 @@
+package net.guttershark.display.draw
{
	import flash.display.Shape;
	
	/**
	 * Rect provides a Tweenable rectangle Shape.
	 */
	public class Rect extends Shape
	{
		
		public static const THICKNESS:Number = 1;
		public static const COLOR:uint = 0x000000;
		public static const ALPHA:Number = 1;
		public static const HINTING:Boolean = true;
		public static const SCALE_MODE:String = "none";
		public static const CAPS:String = "square";
		public static const JOINTS:String = "miter";
		public static const MITER_LIMIT:Number = 3;	 
		protected var _width:Number;
		protected var _height:Number;
		protected var _sx:Number;
		protected var _sy:Number;
		protected var _thickness:Number;
		protected var _color:uint;
		protected var _alpha:Number;
		protected var _pixelHinting:Boolean;
		protected var _scaleMode:String;
		protected var _caps:String;
		protected var _joints:String;
		protected var _miterLimit:Number;

		/**
		 * Constructor for Rect instances
		 * @example
		 * &lt;listing>	
		 * var rect:Rect = new Rect(300, 100, 50,50, 1, 0xffff00);
		 * addChild(rect);
		 * Tweener.addTween(rect, {sx:750, sy:0, w:300, h:30, color:0xffccee, alpha:0.25, thickness:5, transition:"easeOutQuad", time:5, onUpdate:renderRect});
		 * function renderRect():void
		 * {
		 *     rect.redraw();
		 * }
		 * &lt;/listing>
		 */
		public function Rect(width:Number, height:Number, startX:Number = 0, startY:Number = 0, thickness:Number = THICKNESS, color:uint = COLOR,  alpha:Number = ALPHA, pixelHinting:Boolean = HINTING, scaleMode:String = SCALE_MODE, caps:String = CAPS, joints:String = JOINTS, miterLimit:Number = MITER_LIMIT) 
		{
			_width = width;
			_height = height;
			_sx = startX;
			_sy = startY;
			_thickness = thickness;
			_color = color;
			_alpha = alpha;
			_pixelHinting = pixelHinting;
			_scaleMode = scaleMode;
			_caps = caps;
			_joints = joints;
			_miterLimit = miterLimit;
			draw();		
		}

		/**
		 * @inheritDoc
		 */
		public function draw():void 
		{
			this.graphics.beginFill(_color,_alpha);
			this.graphics.drawRect(_sx,_sy,_width,_height);
			this.graphics.endFill();						
		}

		/**
		 * @inheritDoc
		 */
		public function redraw():void 
		{
			clear();
			draw();
		}

		/**
		 * @inheritDoc
		 */
		public function clear():void 
		{
			this.graphics.clear();	
		}

		/**
		 * Return the width.
		 */
		public function get w():Number 
		{
			return _width;
		}		

		/**
		 * @private
		 */
		public function set w(n:Number):void 
		{
			_width = n;
		}		

		/**
		 * Return the height.
		 */
		public function get h():Number 
		{
			return _height;
		}

		/**
		 * @private
		 */
		public function set h(n:Number):void 
		{
			_height = n;
		}		

		/**
		 * Return the start x pos.
		 */
		public function get sx():Number 
		{
			return _sx;
		}		

		/**
		 * @private
		 */
		public function set sx(n:Number):void 
		{
			_sx = n;
		}

		/**
		 * Return the start y pos.
		 */
		public function get sy():Number 
		{
			return _sy;
		}

		/**
		 * @private
		 */
		public function set sy(n:Number):void 
		{
			_sy = n;
		}

		/**
		 * Return the color.
		 */
		public function get color():uint 
		{
			return _color;
		}

		/**
		 * @private
		 */
		public function set color(n:uint):void 
		{
			_color = n;
		}	

		/**
		 * Return the thickness.
		 */
		public function get thickness():uint 
		{
			return _thickness;
		}

		/**
		 * @private
		 */
		public function set thickness(n:uint):void 
		{
			_thickness = n;
		}														
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/BaseButtonEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/BaseButtonEventListenerDelegate.as
new file mode 100644
index 0000000..6e307ad
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/BaseButtonEventListenerDelegate.as
@@ -0,0 +1,50 @@
+package net.guttershark.support.eventmanager
+{
+	import flash.events.Event;
+	
+	import fl.controls.BaseButton;
+	import fl.events.ComponentEvent;
+
+	/**
+	 * The BaseButtonEventListenerDelegate Class implements
+	 * event listener logic for BaseButton events. This class
+	 * is only used as a composite object for Classes that
+	 * extend BaseButton, like the Button component.
+	 */
+	final public class BaseButtonEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is BaseButton)
+			{
+				if(callbackPrefix + "Change" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CHANGE, onChange,false,0,true);
+				if(callbackPrefix + "ButtonDown" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ComponentEvent.BUTTON_DOWN,onButtonDown,false,0,true);
+			}
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			super.removeEventListeners();
+			obj.removeEventListener(Event.CHANGE, onChange);
+			obj.removeEventListener(ComponentEvent.BUTTON_DOWN, onButtonDown);
+		}
+		
+		private function onChange(e:Event):void
+		{
+			handleEvent(e,"Change");
+		}
+		
+		private function onButtonDown(ce:ComponentEvent):void
+		{
+			handleEvent(ce,"ButtonDown");
+		}
+	}
+}
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/ButtonEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/ButtonEventListenerDelegate.as
new file mode 100644
index 0000000..f97bce6
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/ButtonEventListenerDelegate.as
@@ -0,0 +1,78 @@
+package net.guttershark.support.eventmanager
+{
+	import fl.controls.BaseButton;
+	import fl.controls.LabelButton;
+	import fl.core.UIComponent;
+
+	/**
+	 * The ButtonEventListenerDelegate Class implements event handling
+	 * logic for Button components.
+	 */
+	final public class ButtonEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * A composite object used for UIComponentEventsDelegation logic.
+		 */
+		private var uic:UIComponentEventListenerDelegate;
+
+		/**
+		 * A composite object used for LabelButton events.
+		 */
+		private var lbc:LabelButtonEventListenerDelegate;
+
+		/**
+		 * A composite object used for BaseButton events.
+		 */
+		private var bb:BaseButtonEventListenerDelegate;
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is UIComponent)
+			{
+				uic = new UIComponentEventListenerDelegate();
+				uic.eventHandlerFunction = this.handleEvent;
+				uic.callbackDelegate = callbackDelegate;
+				uic.callbackPrefix = callbackPrefix;
+				uic.cycleAllThroughTracking = cycleAllThroughTracking;
+				uic.addListeners(obj);
+			}
+			
+			if(obj is BaseButton)
+			{
+				bb = new BaseButtonEventListenerDelegate();
+				bb.eventHandlerFunction = this.handleEvent;
+				bb.callbackDelegate = callbackDelegate;
+				bb.callbackPrefix = callbackPrefix;
+				bb.cycleAllThroughTracking = cycleAllThroughTracking;
+				bb.addListeners(obj);
+			}
+			
+			if(obj is LabelButton)
+			{
+				lbc = new LabelButtonEventListenerDelegate();
+				lbc.eventHandlerFunction = this.handleEvent;
+				lbc.addListeners(obj);
+			}
+			
+			//no events defined by Button. They're all from ancestors
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			if(uic) uic.dispose();
+			if(lbc) lbc.dispose();
+			if(bb) bb.dispose();
+			uic = null;
+			lbc = null;
+			bb = null;
+		}
+	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/CheckboxEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/CheckboxEventListenerDelegate.as
new file mode 100644
index 0000000..640a3e7
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/CheckboxEventListenerDelegate.as
@@ -0,0 +1,79 @@
+package net.guttershark.support.eventmanager
+{
+	import fl.controls.BaseButton;
+	import fl.controls.LabelButton;
+	import fl.core.UIComponent;
+	
+	/**
+	 * The CheckboxEventListenerDelegate Class implements event handling
+	 * logic for CheckBox components.
+	 */
+	final public class CheckboxEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * A composite object used for UIComponentEventsDelegation logic.
+		 */
+		private var uic:UIComponentEventListenerDelegate;
+
+		/**
+		 * A composite object used for LabelButton events.
+		 */
+		private var lbc:LabelButtonEventListenerDelegate;
+
+		/**
+		 * A composite object used for BaseButton events.
+		 */
+		private var bb:BaseButtonEventListenerDelegate;
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is UIComponent)
+			{
+				uic = new UIComponentEventListenerDelegate();
+				uic.eventHandlerFunction = this.handleEvent;
+				uic.callbackDelegate = callbackDelegate;
+				uic.callbackPrefix = callbackPrefix;
+				uic.cycleAllThroughTracking = cycleAllThroughTracking;
+				uic.addListeners(obj);
+			}
+			
+			if(obj is BaseButton)
+			{
+				bb = new BaseButtonEventListenerDelegate();
+				bb.eventHandlerFunction = this.handleEvent;
+				bb.callbackDelegate = callbackDelegate;
+				bb.callbackPrefix = callbackPrefix;
+				bb.cycleAllThroughTracking = cycleAllThroughTracking;
+				bb.addListeners(obj);
+			}
+			
+			if(obj is LabelButton)
+			{
+				lbc = new LabelButtonEventListenerDelegate();
+				lbc.eventHandlerFunction = this.handleEvent;
+				lbc.addListeners(obj);
+			}
+			
+			//no events defined by Button. They're all from ancestors
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			if(uic) uic.dispose();
+			if(lbc) lbc.dispose();
+			if(bb) bb.dispose();
+			uic = null;
+			lbc = null;
+			bb = null;
+		}
+	}
+}
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/ColorPickerEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/ColorPickerEventListenerDelegate.as
new file mode 100644
index 0000000..3fa46cf
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/ColorPickerEventListenerDelegate.as
@@ -0,0 +1,94 @@
+package net.guttershark.support.eventmanager
+{
+	import flash.events.Event;
+	
+	import fl.controls.ColorPicker;
+	import fl.core.UIComponent;
+	import fl.events.ColorPickerEvent;
+	
+	/**
+	 * The ColorPickerEventListenerDelegate Class implements event handling
+	 * logic for ColorPicker components.
+	 */
+	final public class ColorPickerEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * Composite object for UIComponent event delegation.
+		 */
+		private var uic:UIComponentEventListenerDelegate;
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is UIComponent)
+			{
+				uic = new UIComponentEventListenerDelegate();
+				uic.eventHandlerFunction = this.handleEvent;
+				uic.callbackDelegate = callbackDelegate;
+				uic.callbackPrefix = callbackPrefix;
+				uic.cycleAllThroughTracking = cycleAllThroughTracking;
+				uic.addListeners(obj);
+			}
+			
+			if(obj is ColorPicker)
+			{
+				obj.addEventListener(ColorPickerEvent.CHANGE, onChange,false,0,true);
+				obj.addEventListener(ColorPickerEvent.ENTER, onEnter,false,0,true);
+				obj.addEventListener(ColorPickerEvent.ITEM_ROLL_OUT, onItemRollOut,false,0,true);
+				obj.addEventListener(ColorPickerEvent.ITEM_ROLL_OVER, onItemRollOver,false,0,true);
+				obj.addEventListener(Event.OPEN, onOpen,false,0,true);
+			}
+		}
+		
+		private function onOpen(cp:ColorPickerEvent):void
+		{
+			handleEvent(cp,"Open");
+		}
+		
+		private function onEnter(cp:ColorPickerEvent):void
+		{
+			handleEvent(cp,"Enter");
+		}
+		
+		private function onItemRollOut(cp:ColorPickerEvent):void
+		{
+			handleEvent(cp,"ItemRollOut");
+		}
+		
+		private function onItemRollOver(cp:ColorPickerEvent):void
+		{
+			handleEvent(cp,"ItemRollOver");
+		}
+		
+		private function onChange(cp:ColorPickerEvent):void
+		{
+			handleEvent(cp,"Change",true);
+		}
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			if(uic) uic.dispose();
+			uic = null;
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			super.removeEventListeners();
+			obj.removeEventListener(ColorPickerEvent.CHANGE, onChange);
+			obj.removeEventListener(ColorPickerEvent.ENTER, onEnter);
+			obj.removeEventListener(ColorPickerEvent.ITEM_ROLL_OUT, onItemRollOut);
+			obj.removeEventListener(ColorPickerEvent.ITEM_ROLL_OVER, onItemRollOver);
+			obj.removeEventListener(Event.OPEN, onOpen);
+		}
+	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/ComboBoxEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/ComboBoxEventListenerDelegate.as
new file mode 100644
index 0000000..f352ec2
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/ComboBoxEventListenerDelegate.as
@@ -0,0 +1,111 @@
+package net.guttershark.support.eventmanager
+{
+	import flash.events.Event;
+	
+	import fl.controls.ComboBox;
+	import fl.core.UIComponent;
+	import fl.events.ComponentEvent;
+	import fl.events.ListEvent;
+	import fl.events.ScrollEvent;	
+
+	/**
+	 * The ComboBoxEventListenerDelegate Class implements event listener
+	 * logic for ComboBox components.
+	 */
+	final public class ComboBoxEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * Composite object for UIComponent event delegation.
+		 */
+		private var uic:UIComponentEventListenerDelegate;
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is UIComponent)
+			{
+				uic = new UIComponentEventListenerDelegate();
+				uic.cycleAllThroughTracking = cycleAllThroughTracking;
+				uic.callbackDelegate = callbackDelegate;
+				uic.callbackPrefix = callbackPrefix;
+				uic.eventHandlerFunction = this.handleEvent;
+				uic.addListeners(obj);
+			}
+			
+			if(obj is ComboBox)
+			{
+				if(callbackPrefix + "Change" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CHANGE, onChange, false, 0, true);
+				if(callbackPrefix + "Close" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CLOSE, onClose, false, 0, true);
+				if(callbackPrefix + "Open" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.OPEN, onOpen, false, 0, true);
+				if(callbackPrefix + "Enter" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ComponentEvent.ENTER, onEnter, false, 0, true);
+				if(callbackPrefix + "ItemRollOut" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ListEvent.ITEM_ROLL_OUT, onItemRollOut, false, 0, true);
+				if(callbackPrefix + "ItemRollOver" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ListEvent.ITEM_ROLL_OVER, onItemRollOver, false, 0, true);
+				if(callbackPrefix + "Scroll" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ScrollEvent.SCROLL, onScroll, false, 0, true);
+			}
+		}
+		
+		private function onScroll(se:ScrollEvent):void
+		{
+			handleEvent(se,"Scroll",true);
+		}
+
+		private function onClose(e:Event):void
+		{
+			handleEvent(e,"Close");
+		}
+
+		private function onOpen(cp:Event):void
+		{
+			handleEvent(cp,"Open");
+		}
+		
+		private function onEnter(cp:ComponentEvent):void
+		{
+			handleEvent(cp,"Enter");
+		}
+		
+		private function onItemRollOut(cp:ListEvent):void
+		{
+			handleEvent(cp,"ItemRollOut");
+		}
+		
+		private function onItemRollOver(cp:ListEvent):void
+		{
+			handleEvent(cp,"ItemRollOver");
+		}
+		
+		private function onChange(cp:Event):void
+		{
+			handleEvent(cp,"Change");
+		}
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			if(uic) uic.dispose();
+			uic = null;
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			super.removeEventListeners();
+			obj.removeEventListener(Event.CHANGE, onChange);
+			obj.removeEventListener(Event.CLOSE, onClose);
+			obj.removeEventListener(Event.OPEN, onOpen);
+			obj.removeEventListener(ComponentEvent.ENTER, onEnter);
+			obj.removeEventListener(ListEvent.ITEM_ROLL_OUT, onItemRollOut);
+			obj.removeEventListener(ListEvent.ITEM_ROLL_OVER, onItemRollOver);
+			obj.removeEventListener(ScrollEvent.SCROLL, onScroll);
+		}
+	}
+}
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/DataGridEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/DataGridEventListenerDelegate.as
new file mode 100644
index 0000000..8fab47e
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/DataGridEventListenerDelegate.as
@@ -0,0 +1,125 @@
+package net.guttershark.support.eventmanager
+{
+	import fl.controls.DataGrid;
+	import fl.controls.SelectableList;
+	import fl.core.UIComponent;
+	import fl.events.DataGridEvent;
+	
+	/**
+	 * The DataGridEventlistenerDelegate Class implements event listener
+	 * logic for DataGrid components.
+	 */
+	final public class DataGridEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * Composite object for UIComponent event delegation.
+		 */
+		private var uic:UIComponentEventListenerDelegate;
+		
+		/**
+		 * Composite object for SelectableList events.
+		 */
+		private var sl:SelectableListEventListenerDelegate;
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is UIComponent)
+			{
+				uic = new UIComponentEventListenerDelegate();
+				uic.eventHandlerFunction = this.handleEvent;
+				uic.callbackDelegate = callbackDelegate;
+				uic.callbackPrefix = callbackPrefix;
+				uic.cycleAllThroughTracking = cycleAllThroughTracking;
+				uic.addListeners(obj);
+			}
+			
+			if(obj is SelectableList)
+			{
+				sl = new SelectableListEventListenerDelegate();
+				sl.eventHandlerFunction = this.handleEvent;
+				sl.callbackDelegate = callbackDelegate;
+				sl.callbackPrefix = callbackPrefix;
+				sl.cycleAllThroughTracking = cycleAllThroughTracking;
+				sl.addListeners(obj);
+			}
+			
+			if(obj is DataGrid)
+			{
+				if(callbackPrefix + "ColumnStretch" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.COLUMN_STRETCH, onColumnStretch);
+				if(callbackPrefix + "HeaderRelease" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.HEADER_RELEASE, onHeaderRelease);
+				if(callbackPrefix + "ItemEditBegin" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.ITEM_EDIT_BEGIN, onItemEditBegin);
+				if(callbackPrefix + "ItemEditBeginning" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.ITEM_EDIT_BEGINNING, onItemEditBeginning);
+				if(callbackPrefix + "ItemEditEnd" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.ITEM_EDIT_END, onItemEditEnd);
+				if(callbackPrefix + "ItemFocusIn" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.ITEM_FOCUS_IN, onItemFocusIn);
+				if(callbackPrefix + "ItemFocusOut" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(DataGridEvent.ITEM_FOCUS_OUT, onItemFocusOut);
+			}
+		}
+		
+		private function onItemFocusOut(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"ItemFocusOut");
+		}
+		
+		private function onItemFocusIn(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"ItemFocusIn");
+		}
+		
+		private function onItemEditEnd(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"ItemEditEnd");
+		}
+		
+		private function onItemEditBeginning(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"ItemEditBeginning");
+		}
+		
+		private function onItemEditBegin(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"ItemEditBegin");
+		}
+		
+		private function onHeaderRelease(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"HeaderRelease");
+		}
+		
+		private function onColumnStretch(dge:DataGridEvent):void
+		{
+			handleEvent(dge,"ColumnStretch");
+		}
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			if(uic) uic.dispose();
+			if(sl) sl.dispose();
+			uic = null;
+			sl = null;
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			super.removeEventListeners();
+			obj.removeEventListener(DataGridEvent.COLUMN_STRETCH, onColumnStretch);
+			obj.removeEventListener(DataGridEvent.HEADER_RELEASE, onHeaderRelease);
+			obj.removeEventListener(DataGridEvent.ITEM_EDIT_BEGIN, onItemEditBegin);
+			obj.removeEventListener(DataGridEvent.ITEM_EDIT_BEGINNING, onItemEditBeginning);
+			obj.removeEventListener(DataGridEvent.ITEM_EDIT_END, onItemEditEnd);
+			obj.removeEventListener(DataGridEvent.ITEM_FOCUS_IN, onItemFocusIn);
+			obj.removeEventListener(DataGridEvent.ITEM_FOCUS_OUT, onItemFocusOut);
+		}
+	}
+}
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/EventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/EventListenerDelegate.as
new file mode 100644
index 0000000..d7280ff
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/EventListenerDelegate.as
@@ -0,0 +1,71 @@
+package net.guttershark.support.eventmanager
+{
+
+	/**
+	 * The EventListenerDelegate class is the base class for all event listener delegate
+	 * classes. This implements the base functionality needed - besides actually
+	 * adding any events to the objects.
+	 */
+	public class EventListenerDelegate
+	{
+		
+		/**
+		 * A reference to the obj that listeners were added too.
+		 */
+		protected var obj:*;
+		
+		/**
+		 * A function reference on EventManager. It references the
+		 * handleEvent function in EventManager.
+		 */
+		protected var handleEvent:Function;
+		
+		/**
+		 * The callback prefix on the target callbackDelegate;
+		 */
+		public var callbackPrefix:String;
+		
+		/**
+		 * The calbackDelegate.
+		 */
+		public var callbackDelegate:*;
+		
+		/**
+		 * Cycle all events through tracking framework.
+		 */
+		public var cycleAllThroughTracking:Boolean;
+		
+		/**
+		 * Add listeners to the target object.
+		 */
+		public function addListeners(obj:*):void
+		{
+			this.obj = obj;
+		}
+		
+		/**
+		 * Remove event listeners from the object that is being listened to.
+		 */
+		protected function removeEventListeners():void{}
+		
+		/**
+		 * Set's the event handler function which events get passed back
+		 * to in the EventManager.
+		 */
+		public function set eventHandlerFunction(func:Function):void
+		{
+			handleEvent = func;
+		}
+		
+		/**
+		 * Dispose of this event listener delegate.
+		 */
+		public function dispose():void
+		{
+			removeEventListeners();
+			handleEvent = null;
+			obj = null;
+			callbackDelegate = null;
+			callbackPrefix = null;
+			cycleAllThroughTracking = false;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/FLVPlaybackEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/FLVPlaybackEventListenerDelegate.as
new file mode 100644
index 0000000..cb2ee64
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/FLVPlaybackEventListenerDelegate.as
@@ -0,0 +1,150 @@
+package net.guttershark.support.eventmanager
+{
+	import fl.video.FLVPlayback;
+	import fl.video.VideoEvent;
+	
+	/**
+	 * The FLVPlaybackEventListenerDelegate class implements
+	 * listener logic for FLVPlayback components.
+	 * 
+	 * @example Setting up the FLVPlaybackEventListenersDelegate on EventManager:
+	 * &lt;listing>	
+	 * import net.guttershark.support.eventmanager.FLVPlaybackEventListenerDelegate.
+	 * EventManager.gi().addEventListenerDelegate(FLVPlayback,FLVPlaybackEventListenerDelegate);
+	 * &lt;/listing>
+	 * 
+	 * &lt;p>See the EventManager class for a list of supported events.&lt;/p>
+	 */
+	final public class FLVPlaybackEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is FLVPlayback)
+			{
+				if(callbackPrefix + "Pause" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.PAUSED_STATE_ENTERED, onFLVPause,false,0,true);
+				if(callbackPrefix + "Play" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.PLAYING_STATE_ENTERED, onFLVPlay,false,0,true);
+				if(callbackPrefix + "Stop" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.STOPPED_STATE_ENTERED, onFLVStopped,false,0,true);
+				if(callbackPrefix + "PlayheadUpdate" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.PLAYHEAD_UPDATE, onFLVPlayheadUpdate,false,0,true);
+				if(callbackPrefix + "AutoRewound" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.AUTO_REWOUND, onFLVAutoRewound,false,0,true);
+				if(callbackPrefix + "Buffering" in callbackDelegate || cycleAllThroughTracking)  obj.addEventListener(VideoEvent.BUFFERING_STATE_ENTERED, onFLVBufferState,false,0,true);
+				if(callbackPrefix + "Close" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.CLOSE, onFLVClose,false,0,true);
+				if(callbackPrefix + "Complete" in callbackDelegate || cycleAllThroughTracking)  obj.addEventListener(VideoEvent.COMPLETE, onFLVComplete,false,0,true);
+				if(callbackPrefix + "FastFoward" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.FAST_FORWARD, onFLVFastForward,false,0,true);
+				if(callbackPrefix + "Ready" in callbackDelegate || cycleAllThroughTracking)  obj.addEventListener(VideoEvent.READY, onFLVReady,false,0,true);
+				if(callbackPrefix + "Rewind" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.REWIND, onFLVRewind,false,0,true);
+				if(callbackPrefix + "ScrubFinish" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.SCRUB_FINISH, onFLVScrubFinish,false,0,true);
+				if(callbackPrefix + "ScrubStart" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.SCRUB_START, onFLVScrubStart,false,0,true);
+				if(callbackPrefix + "Seeked" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.SEEKED, onFLVSeeked,false,0,true);
+				if(callbackPrefix + "SkinLoaded" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.SKIN_LOADED, onFLVSkinLoaded,false,0,true);
+				if(callbackPrefix + "StateChange" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(VideoEvent.STATE_CHANGE, onFLVStateChange,false,0,true);
+			}
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			super.removeEventListeners();
+			obj.removeEventListener(VideoEvent.PAUSED_STATE_ENTERED,onFLVPause);
+			obj.removeEventListener(VideoEvent.PLAYING_STATE_ENTERED, onFLVPlay);
+			obj.removeEventListener(VideoEvent.STOPPED_STATE_ENTERED, onFLVStopped);
+			obj.removeEventListener(VideoEvent.PLAYHEAD_UPDATE, onFLVPlayheadUpdate);
+			obj.removeEventListener(VideoEvent.AUTO_REWOUND, onFLVAutoRewound);
+			obj.removeEventListener(VideoEvent.BUFFERING_STATE_ENTERED, onFLVBufferState);
+			obj.removeEventListener(VideoEvent.CLOSE, onFLVClose);
+			obj.removeEventListener(VideoEvent.COMPLETE, onFLVComplete);
+			obj.removeEventListener(VideoEvent.FAST_FORWARD, onFLVFastForward);
+			obj.removeEventListener(VideoEvent.READY, onFLVReady);
+			obj.removeEventListener(VideoEvent.REWIND, onFLVRewind);
+			obj.removeEventListener(VideoEvent.SCRUB_FINISH, onFLVScrubFinish);
+			obj.removeEventListener(VideoEvent.SCRUB_START, onFLVScrubStart);
+			obj.removeEventListener(VideoEvent.SEEKED, onFLVSeeked);
+			obj.removeEventListener(VideoEvent.SKIN_LOADED, onFLVSkinLoaded);
+			obj.removeEventListener(VideoEvent.STATE_CHANGE, onFLVStateChange);
+		}
+		
+		private function onFLVStateChange(ve:VideoEvent):void
+		{
+			handleEvent(ve,"StateChange");
+		}
+		
+		private function onFLVSkinLoaded(ve:VideoEvent):void
+		{
+			handleEvent(ve,"SkinLoaded");
+		}
+		
+		private function onFLVSeeked(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Seeked");
+		}
+		
+		private function onFLVScrubStart(ve:VideoEvent):void
+		{
+			handleEvent(ve,"ScrubStart");
+		}
+		
+		private function onFLVScrubFinish(ve:VideoEvent):void
+		{
+			handleEvent(ve,"ScrubFinish");
+		}
+		
+		private function onFLVRewind(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Rewind");
+		}
+		
+		private function onFLVReady(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Ready");
+		}
+		
+		private function onFLVFastForward(ve:VideoEvent):void
+		{
+			handleEvent(ve,"FastForward");
+		}
+		
+		private function onFLVBufferState(ve:VideoEvent):void
+		{
+			handleEvent(ve,"AutoRewound");
+		}
+
+		private function onFLVAutoRewound(ve:VideoEvent):void
+		{
+			handleEvent(ve,"BufferState");
+		}
+		
+		private function onFLVClose(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Close");
+		}
+		
+		private function onFLVComplete(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Complete");
+		}
+		
+		private function onFLVPlayheadUpdate(ve:VideoEvent):void
+		{
+			handleEvent(ve,"PlayheadUpdate",true);
+		}
+		
+		private function onFLVPlay(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Play");
+		}
+		
+		private function onFLVPause(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Pause");
+		}
+		
+		private function onFLVStopped(ve:VideoEvent):void
+		{
+			handleEvent(ve,"Stop");
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/LabelButtonEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/LabelButtonEventListenerDelegate.as
new file mode 100644
index 0000000..93a3f11
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/LabelButtonEventListenerDelegate.as
@@ -0,0 +1,45 @@
+package net.guttershark.support.eventmanager
+{
+	import fl.controls.LabelButton;
+	import fl.events.ComponentEvent;
+	
+	/**
+	 * The LabelButtonEventListenerDelegate implements event listener logic
+	 * for LabelButton instances.
+	 */
+	final public class LabelButtonEventListenerDelegate extends EventListenerDelegate 
+	{
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is LabelButton)
+			{
+				if(callbackPrefix + "LabelChange" in callbackDelegate || cycleAllThroughTracking)  obj.addEventListener(ComponentEvent.LABEL_CHANGE, onLabelChange);
+			}
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			super.removeEventListeners();
+			obj.removeEventListener(ComponentEvent.LABEL_CHANGE,onLabelChange);
+		}
+
+		private function onLabelChange(ce:ComponentEvent):void
+		{
+			handleEvent(ce,"LabelChange",true);
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/SelectableListEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/SelectableListEventListenerDelegate.as
new file mode 100644
index 0000000..c535c88
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/SelectableListEventListenerDelegate.as
@@ -0,0 +1,66 @@
+package net.guttershark.support.eventmanager
+{
+	import flash.events.Event;
+	
+	import fl.controls.SelectableList;
+	import fl.events.ListEvent;
+	
+	/**
+	 * The SelectableListEventListenerDelegate Class implements event listener
+	 * logic for SelectableList instances.
+	 */
+	final public class SelectableListEventListenerDelegate extends EventListenerDelegate 
+	{
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is SelectableList)
+			{
+				if(callbackPrefix + "Change" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(Event.CHANGE, onChange,false,0,true);
+				if(callbackPrefix + "Click" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ListEvent.ITEM_CLICK, onItemClick,false,0,true);
+				if(callbackPrefix + "DoubleClick" in callbackDelegate || cycleAllThroughTracking) obj.addEventlistener(ListEvent.ITEM_DOUBLE_CLICK, onItemDoubleClick,false,0,true);
+				if(callbackPrefix + "ItemRollOut" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ListEvent.ITEM_ROLL_OUT, onRollOut,false,0,true);
+				if(callbackPrefix + "ItemRollOver" in callbackDelegate || cycleAllThroughTracking) obj.addEventlistener(ListEvent.ITEM_ROLL_OVER, onRollOver,false,0,true);
+			}
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			obj.removeEventListener(Event.CHANGE, onChange);
+			obj.removeEventListener(ListEvent.ITEM_CLICK, onItemClick);
+			obj.removeEventListener(ListEvent.ITEM_DOUBLE_CLICK, onItemDoubleClick);
+			obj.removeEventListener(ListEvent.ITEM_ROLL_OUT, onRollOut);
+			obj.removeEventListener(ListEvent.ITEM_ROLL_OVER, onRollOver);
+		}
+		
+		private function onChange(e:Event):void
+		{
+			handleEvent(e,"Change");
+		}
+		
+		private function onItemClick(le:ListEvent):void
+		{
+			handleEvent(le,"ItemClick");
+		}
+		
+		private function onItemDoubleClick(le:ListEvent):void
+		{
+			handleEvent(le,"ItemDoubleClick");
+		}
+		
+		private function onRollOut(le:ListEvent):void
+		{
+			handleEvent(le,"ItemRollOut");
+		}
+		
+		private function onRollOver(le:ListEvent):void
+		{
+			handleEvent(le,"ItemRollOver");
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/old_eventmanager_support/eventmanager/UIComponentEventListenerDelegate.as b/src/as_not_implemented/old_eventmanager_support/eventmanager/UIComponentEventListenerDelegate.as
new file mode 100644
index 0000000..dc22943
--- /dev/null
+++ b/src/as_not_implemented/old_eventmanager_support/eventmanager/UIComponentEventListenerDelegate.as
@@ -0,0 +1,69 @@
+package net.guttershark.support.eventmanager
+{
+	import flash.events.Event;
+	
+	import fl.core.UIComponent;
+	import fl.events.ComponentEvent;
+	
+	/**
+	 * The UIComponentEventListenerDelegate implements event listener logic
+	 * for UIComponent instances.
+	 */
+	final public class UIComponentEventListenerDelegate extends EventListenerDelegate
+	{
+
+		/**
+		 * @inheritDoc
+		 */
+		override public function addListeners(obj:*):void
+		{
+			super.addListeners(obj);
+			if(obj is UIComponent)
+			{
+				if(callbackPrefix + "Move" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ComponentEvent.MOVE, onMove, false, 0, true);
+				if(callbackPrefix + "Resize" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ComponentEvent.RESIZE,onResize,false,0, true);
+				if(callbackPrefix + "Show" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ComponentEvent.SHOW,onShow,false,0,true);
+				if(callbackPrefix + "Hide" in callbackDelegate || cycleAllThroughTracking) obj.addEventListener(ComponentEvent.HIDE,onHide,false,0,true);
+			}
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+		}
+		
+		/**
+		 * @inheritDoc
+		 */
+		override protected function removeEventListeners():void
+		{
+			obj.removeEventListener(ComponentEvent.MOVE, onMove);
+			obj.removeEventListener(ComponentEvent.RESIZE,onResize);
+			obj.removeEventListener(ComponentEvent.SHOW,onShow);
+			obj.removeEventListener(ComponentEvent.HIDE,onHide);
+		}
+		
+		private function onMove(ce:ComponentEvent):void
+		{
+			handleEvent(ce,"Move");
+		}
+		
+		private function onResize(e:Event):void
+		{
+			handleEvent(e,"Resize");
+		}
+		
+		private function onHide(ce:ComponentEvent):void
+		{
+			handleEvent(ce,"Hide");
+		}
+		
+		private function onShow(ce:ComponentEvent):void
+		{
+			handleEvent(ce,"Show",true);
+		}
+		
+	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/text/TextLabel.as b/src/as_not_implemented/text/TextLabel.as
new file mode 100644
index 0000000..163f72f
--- /dev/null
+++ b/src/as_not_implemented/text/TextLabel.as
@@ -0,0 +1,5 @@
+package net.guttershark.display.text
{
	import flash.text.AntiAliasType;
+	import flash.text.TextField;
+	import flash.text.TextFieldAutoSize;
+	import flash.text.TextFormat;
	
+	/**
	 * The TextLabel class is a generic text label.
	 */
	public class TextLabel extends TextField
	{

		/**
		 * Constructor for TextLabel instances.
		 * 
		 * @param str The html text for this label.
		 * @param fontFace The font face.
		 * @param fontSize The font size.
		 * @param fontColor The color.
		 * @param embedFont Whether or not to embed fonts.
		 */
		public function TextLabel(str:String, fontFace:String = "Arial", fontSize:int = 22, fontColor:uint=0x000000, embedFont:Boolean = false)
		{
			embedFonts = embedFont;
			var labelFormat:TextFormat = new TextFormat(fontFace,fontSize,fontColor);
			defaultTextFormat = labelFormat;
			antiAliasType = AntiAliasType.ADVANCED;
			autoSize = TextFieldAutoSize.LEFT;
			htmlText = str;
			selectable = false;
			textColor = fontColor;
		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/Tree.as b/src/as_not_implemented/tree/Tree.as
new file mode 100644
index 0000000..1cbf4da
--- /dev/null
+++ b/src/as_not_implemented/tree/Tree.as
@@ -0,0 +1,70 @@
+package net.guttershark.ui.controls.tree
+{
+
+	import flash.display.MovieClip;
+	
+	import net.guttershark.core.IDataProviderConsumer;
+	import net.guttershark.util.FlashLibrary;
+	
+	public class Tree extends MovieClip implements IDataProviderConsumer
+	{
+
+		private var _dataProvider:*;
+		
+		private var rootTreeNode:TreeNode;
+		
+		private var defaultTreeRenderer:String;
+
+		public function Tree()
+		{
+			super();
+			rootTreeNode = new TreeNode();
+			addChild(rootTreeNode);
+		}
+
+		public function set dataProvider(data:*):void
+		{
+			_dataProvider = data;
+			if(data.@renderer == undefined) throw new Error("You must define the 'renderer' attribute on the root node.");
+			defaultTreeRenderer = data.@renderer;
+			createTree(rootTreeNode,new XMLList(_dataProvider),0);
+		}
+		
+		public function get dataProvider():*
+		{
+			return _dataProvider;
+		}
+		
+		private function createTree(holder:TreeNode, xml:XMLList, level:int):TreeNode
+		{
+			for each(var item:XML in xml)
+			{
+				//skip this item if it is a "data" item, it was already used
+				//in the previous recursion call.
+				if(item.name() == "data") continue;
+				
+				//create node
+				var tn:TreeNode = new TreeNode();
+				tn.previous = holder;
+				tn.level = level;
+				if(item.@collapseSiblings == "true") tn.collapseSiblings = true;
+				
+				//create renderer for this tree node
+				var renderer:TreeNodeRenderer;
+				if(item.@renderer == undefined) renderer = FlashLibrary.GetMovieClip(defaultTreeRenderer) as TreeNodeRenderer;
+				else renderer = FlashLibrary.GetMovieClip(item.@renderer) as TreeNodeRenderer;
+				if(item.data != undefined) renderer.dataProvider = item.data;
+				tn.renderer = renderer;
+				
+				level++;
+				var recurse:Boolean = (item.node != undefined) ? true : false;
+				if(recurse)
+				{
+					var n:TreeNode = createTree(tn, item.children(), level);
+					if(!holder.next) holder.next = n;
+				}
+				level--;
+				holder.addTreeNode(tn);
+			}
+			return holder;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/TreeEvent.as b/src/as_not_implemented/tree/TreeEvent.as
new file mode 100644
index 0000000..e4a2741
--- /dev/null
+++ b/src/as_not_implemented/tree/TreeEvent.as
@@ -0,0 +1,22 @@
+package net.guttershark.ui.controls.tree 
+{
+	
+	import flash.events.Event;
+	
+	public class TreeEvent extends Event
+	{
+
+		public static const SELECT:String = "select";
+		public static const OVER:String = "over";
+		
+		public var nodeType:String;
+		public var data:*;
+		public var state:String;
+		
+		public function TreeEvent(type:String, state:String, nodeType:String, data:*, bubbles:Boolean = true, cancelable:Boolean = false)
+		{
+			super(type,bubbles,cancelable);
+			this.data = data;
+			this.state = state;
+			this.nodeType = nodeType;
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/TreeNode.as b/src/as_not_implemented/tree/TreeNode.as
new file mode 100644
index 0000000..af97411
--- /dev/null
+++ b/src/as_not_implemented/tree/TreeNode.as
@@ -0,0 +1,265 @@
+package net.guttershark.ui.controls.tree
+{
+	
+	import fl.motion.easing.Quadratic;	
+	
+	import flash.events.MouseEvent;	
+	import flash.display.MovieClip;	
+	
+	import gs.TweenMax;
+	
+	public class TreeNode extends MovieClip
+	{
+		
+		/**
+		 * The level corresponds to the recursion level,
+		 * or branch level. 0 being the top most node,
+		 * 1 being a child of the top node, etc..
+		 */
+		private var _level:int;
+		
+		/**
+		 * The renderer for this TreeNode.
+		 */
+		private var _renderer:TreeNodeRenderer;
+		
+		/**
+		 * Indicates that when this node is toggled, it's siblings
+		 * should be collapsed.
+		 */
+		public var collapseSiblings:Boolean = false;
+		
+		/**
+		 * @private
+		 * The next TreeNode, if any.
+		 */
+		public var next:TreeNode;
+		
+		/**
+		 * @private
+		 * The parent TreeNext if any.
+		 */
+		public var previous:TreeNode;
+		
+		/**
+		 * The index of this TreeNode in the parent nodes
+		 * children array.
+		 */
+		public var index:int;
+		
+		/**
+		 * A locked flag for any tweening, so that the menu
+		 * is locked during tweens.
+		 */
+		private var locked:Boolean;
+		
+		/**
+		 * Flag to keep track of if this node is open.
+		 */
+		private var isOpen:Boolean;
+		
+		/**
+		 * Children TreeNodes
+		 */
+		private var children:Array;
+		
+		/**
+		 * A container for children TreeNodes
+		 */
+		private var childContainer:MovieClip;
+		
+		/**
+		 * THe total height for all children TreeNodes, of this TreeNode.
+		 */
+		private var childrenHeightTotal:Number;
+		
+		/**
+		 * Constructor for Tree instances.
+		 */
+		public function TreeNode()
+		{
+			super();
+			children = [];
+			childContainer = new MovieClip();
+			childrenHeightTotal = 0;
+		}
+		
+		/**
+		 * Set's the level that this TreeNode is at.
+		 */
+		public function set level(index:int):void
+		{
+			_level = index;
+			this.x = _level * 10;
+		}
+		
+		/**
+		 * Set's the renderer on this TreeNode.
+		 */
+		public function set renderer(ni:TreeNodeRenderer):void
+		{
+			_renderer = ni;
+			_renderer.addEventListener(MouseEvent.CLICK,onItemClick);
+			_renderer.addEventListener(MouseEvent.MOUSE_OVER,onItemOver);
+			addChild(_renderer);
+		}
+		
+		/**
+		 * Get the renderer
+		 */
+		public function get renderer():TreeNodeRenderer
+		{
+			return _renderer;
+		}
+		
+		/**
+		 * @private
+		 * Lock this node.. (for tweens)
+		 */
+		public function lock():void
+		{
+			locked = true;
+			//if(next) next.lock();
+		}
+		
+		/**
+		 * @private
+		 * Unlock this node.. (for tweens)
+		 */
+		public function unlock():void
+		{
+			locked = false;
+			//if(previous) previous.unlock();
+		}
+		
+		/**
+		 * On mouse over of the renderer
+		 */
+		private function onItemOver(me:MouseEvent):void
+		{
+			var nt:String;
+			if(children.length &lt; 1) nt = TreeNodeTypes.LEAF;
+			else nt = TreeNodeTypes.BRANCH;
+			var state:String = isOpen ? TreeNodeStates.OPEN : TreeNodeStates.CLOSED;
+			dispatchEvent(new TreeEvent(TreeEvent.OVER,state,nt,_renderer.dataProvider,true,false));
+		}
+		
+		/**
+		 * On click of the renderer
+		 */
+		private function onItemClick(me:MouseEvent):void
+		{
+			if(locked) return;
+			if(collapseSiblings) previous.closeSiblings(index);
+			var state:String = isOpen ? TreeNodeStates.CLOSED : TreeNodeStates.OPEN;
+			var nt:String = (children.length &lt; 1) ? TreeNodeTypes.LEAF : TreeNodeTypes.BRANCH;
+			dispatchEvent(new TreeEvent(TreeEvent.SELECT,state,nt,_renderer.dataProvider,true,false));
+			if(children.length &lt; 1) return;
+			if(!isOpen) openChildren(childrenHeightTotal);
+			else if(isOpen) closeChildren();
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * The logic that moves this node, up to the top root node
+		 * items down, that creates space for this nodes children
+		 * when opened.
+		 */
+		public function moveDown(amount:Number, inx:int):void
+		{
+			if(previous) previous.moveDown(amount, index);
+			if(inx >= children.length) return;
+			lock();
+			for(var i:int = (inx+1); i &lt; children.length; i++)
+			{
+				if(i == children.length-1) TweenMax.to(children[i],.2,{y:amount.toString(),ease:Quadratic.easeOut,onComplete:unlock});
+				else TweenMax.to(children[i],.2,{y:amount.toString(),ease:Quadratic.easeOut});
+			}
+		}
+		
+		/**
+		 * Open this nodes children.
+		 */
+		public function openChildren(amount:Number):void
+		{
+			isOpen = true;
+			if(!contains(childContainer)) addChild(childContainer);
+			if(previous) previous.moveDown(amount,index);
+			var prevItem:TreeNode = null;
+			var delay:int = .8;
+			lock();
+			for(var i:int = 0; i &lt; children.length; i++)
+			{
+				if(prevItem != null) children[i].y = prevItem.y + prevItem.height;
+				else children[i].y = _renderer.height;
+				children[i].alpha = 0;
+				if(i == (children.length - 1)) TweenMax.to(children[i],.3,{delay:(i * .07),autoAlpha:1,ease:Quadratic.easeOut,onComplete:unlock});
+				else TweenMax.to(children[i],.3,{delay:(i * .07),autoAlpha:1,ease:Quadratic.easeOut});
+				prevItem = children[i];
+				delay += .9;
+			}
+		}
+		
+		/**
+		 * @private
+		 * 
+		 * The logic that closes this child, and all of it's children
+		 * if opened.
+		 */
+		public function moveUp(inx:int):void
+		{
+			var prevItem:TreeNode = children[inx];
+			for(var i:int = inx; i &lt; children.length; i++)
+			{
+				var hm:Number = (i == inx) ? prevItem.y : (prevItem.y + prevItem.height);
+				children[i].y = hm;
+				prevItem = children[i];
+			}
+			if(previous) previous.moveUp(index);
+		}
+		
+		/**
+		 * Closes this nodes children.
+		 */
+		public function closeChildren():void
+		{
+			if(children.length &lt; 1) return;
+			if(!isOpen) return;
+			isOpen = false;
+			lock();
+			for(var i:int = children.length-1; i >= 0; i--)
+			{
+				children[i].closeChildren();
+				children[i].visible = false;
+			}
+			unlock();
+			if(contains(childContainer)) removeChild(childContainer);
+			if(previous) previous.moveUp(index);
+		}
+		
+		/**
+		 * Close this nodes sibling children.
+		 */
+		public function closeSiblings(inx:int):void
+		{
+			for(var i:int = 0; i &lt; children.length; i++)
+			{
+				if(i == inx) continue;
+				else children[i].closeChildren();
+			}
+		}
+		
+		/**
+		 * Add a TreeNode to this TreeNode.
+		 */
+		public function addTreeNode(treeNode:TreeNode):void
+		{
+			if(!contains(childContainer)) addChild(childContainer);
+			treeNode.index = children.length;
+			children.push(treeNode);
+			if(!previous) treeNode.y = this.height + this.y; //top level nodes.
+			else treeNode.visible = false; //all other nodes.
+			childrenHeightTotal += treeNode.height;
+			childContainer.addChild(treeNode);
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/TreeNodeRenderer.as b/src/as_not_implemented/tree/TreeNodeRenderer.as
new file mode 100644
index 0000000..0ccd738
--- /dev/null
+++ b/src/as_not_implemented/tree/TreeNodeRenderer.as
@@ -0,0 +1,36 @@
+package net.guttershark.ui.controls.tree
+{
+	
+	import flash.display.MovieClip;
+	
+	import net.guttershark.core.IDataProviderConsumer;
+	
+	/**
+	 * The TreeNodeRenderer class is used as the clip that renders
+	 * what you want to display for each tree node.
+	 */
+	public class TreeNodeRenderer extends MovieClip implements IDataProviderConsumer
+	{
+
+		private var _dataProvider:*;
+		
+		public function TreeNodeRenderer()
+		{
+			super();
+		}
+		
+		public function set dataProvider(data:*):void
+		{
+			_dataProvider = data;
+			invalidate();
+		}
+		
+		public function get dataProvider():*
+		{
+			return _dataProvider;
+		}
+		
+		protected function invalidate():void
+		{
+			
+		}
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/TreeNodeStates.as b/src/as_not_implemented/tree/TreeNodeStates.as
new file mode 100644
index 0000000..7b6368f
--- /dev/null
+++ b/src/as_not_implemented/tree/TreeNodeStates.as
@@ -0,0 +1,6 @@
+package net.guttershark.ui.controls.tree 
+{
+	public class TreeNodeStates 
+	{
+		public static const OPEN:String = "open";
+		public static const CLOSED:String = "closed";
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/TreeNodeTypes.as b/src/as_not_implemented/tree/TreeNodeTypes.as
new file mode 100644
index 0000000..36ac63e
--- /dev/null
+++ b/src/as_not_implemented/tree/TreeNodeTypes.as
@@ -0,0 +1,6 @@
+package net.guttershark.ui.controls.tree 
+{
+	public class TreeNodeTypes 
+	{
+		public static const LEAF:String = "leaf";
+		public static const BRANCH:String = "branch";
	}
}
\ No newline at end of file
diff --git a/src/as_not_implemented/tree/treeDataProviderExample.xml b/src/as_not_implemented/tree/treeDataProviderExample.xml
new file mode 100644
index 0000000..000bd10
--- /dev/null
+++ b/src/as_not_implemented/tree/treeDataProviderExample.xml
@@ -0,0 +1,30 @@
+&lt;!-- The 'globalRenderer' can be used so that you don't have to supply the renderer
+attribute for every node. You can supply a renderer attribute for specific nodes
+and it will override the globalRenderer to use that one. -->
+&lt;tree renderer="MyTreeNodeRenderer">
+	&lt;node collapseSiblings="true">
+		&lt;data>
+			&lt;!-- ...Anything in the data nodes is passed to a TreeNodeRenderer as the dataProvider -->
+		&lt;/data>
+		&lt;node collapseSiblings="false">
+			&lt;data>
+			&lt;/data>
+		&lt;/node>
+		&lt;node collapseSiblings="false" renderer="SomeOtherTreeNodeRenderer">
+			&lt;data>
+			&lt;/data>
+		&lt;/node>
+	&lt;/node>
+	&lt;node collapseSiblings="true">
+		&lt;data>
+		&lt;/data>
+		&lt;node collapseSiblings="false">
+			&lt;data>
+			&lt;/data>
+		&lt;/node>
+		&lt;node collapseSiblings="false" renderer="SomeOtherTreeNodeRenderer">
+			&lt;data>
+			&lt;/data>
+		&lt;/node>
+	&lt;/node>
+&lt;/tree>
diff --git a/src/as_not_implemented/views/AnimatedView.as b/src/as_not_implemented/views/AnimatedView.as
new file mode 100644
index 0000000..4191a40
--- /dev/null
+++ b/src/as_not_implemented/views/AnimatedView.as
@@ -0,0 +1,144 @@
+package net.guttershark.display.views 
+{
+	import flash.events.Event;
+	
+	import net.guttershark.util.FrameDelay;
+	import net.guttershark.util.FramePulse;	
+
+	/**
+	 * The AnimatedView class provides structure to a class
+	 * where views need to have animated timelines, rather
+	 * than all code tweens.
+	 */
+	public class AnimatedView extends BaseView
+	{
+
+		/**
+		 * Watch for last frame and call complete when done.
+		 */
+		private var _watchEndAndComplete:Boolean;
+		
+		/**
+		 * Flog var for listeners added.
+		 */
+		private var listenerAdded:Boolean;
+		
+		/**
+		 * Auto stop on last frame
+		 */
+		private var _autoStop:Boolean;
+		
+		/**
+		 * Constructor for AnimatedView instances.
+		 */
+		public function AnimatedView()
+		{
+			super();
+		}
+		
+		/**
+		 * This is a stub method that get's called on the last
+		 * frame of a movie clip, you can override this as
+		 * a hook.
+		 */
+		protected function animationComplete():void{}
+		
+		/**
+		 * This is a stub method that get's called when the
+		 * timeline starts playing from the first frame, you
+		 * can override this as a hook.
+		 */
+		protected function animationStart():void{}
+		
+		/**
+		 * Set this property to true to automatically call the &lt;code>animationComplete&lt;/code>
+		 * method when this movie clip hits it's last frame. 
+		 */
+		public function set watchForLastFrameAndCallComplete(value:Boolean):void
+		{
+			if(!value && listenerAdded)
+			{
+				listenerAdded = false;
+				FramePulse.RemoveEnterFrameListener(__onEnterFrame);
+			}
+			else if(value && !listenerAdded)
+			{
+				listenerAdded = true;
+				FramePulse.AddEnterFrameListener(__onEnterFrame);
+			}
+		}
+		
+		/**
+		 * Get the value of the watch for end frame and call complete flag.
+		 */
+		public function get watchForLastFrameAndCallComplete():Boolean
+		{
+			return _watchEndAndComplete;
+		}
+		
+		/**
+		 * Auto stop on the last frame of this movie clip.
+		 */
+		public function set autoStopOnLastFrame(value:Boolean):void
+		{
+			_autoStop = value;
+		}
+		
+		/**
+		 * Overrides the play method to add some logic for reverse playing
+		 * and the animationStart method.
+		 */
+		override public function play():void
+		{
+			if(!listenerAdded)
+			{
+				FramePulse.AddEnterFrameListener(__onEnterFrame);
+				listenerAdded = true;
+			}
+			var f:FrameDelay = new FrameDelay(animationStart,1);
+			super.play();
+			f.dispose();
+		}
+		
+		/**
+		 * Play this clip in reverse.
+		 */
+		public function playReverse():void
+		{
+			FramePulse.AddEnterFrameListener(eventForReverse);
+		}
+		
+		/**
+		 * on enter frame handler
+		 */
+		private function __onEnterFrame(e:Event):void
+		{
+			if(currentFrame == totalFrames)
+			{
+				if(_autoStop) stop();
+				listenerAdded = false;
+				FramePulse.RemoveEnterFrameListener(__onEnterFrame);
+				var f:FrameDelay = new FrameDelay(animationComplete,1);
+				f.dispose();
+			}
+		}
+		
+		/**
+		 * plays reverse.
+		 */
+		private function eventForReverse(e:Event):void
+		{
+			this.gotoAndStop(Math.max(1,currentFrame-1));
+			if(currentFrame == 1) FramePulse.RemoveEnterFrameListener(eventForReverse);
+		}
+
+		/**
+		 * Dispose of internal variables and event listeners.
+		 */
+		override public function dispose():void
+		{
+			if(listenerAdded) FramePulse.RemoveEnterFrameListener(__onEnterFrame);
+			listenerAdded = false;
+		}
+	}
+}
diff --git a/src/as_not_implemented/views/InOutView.as b/src/as_not_implemented/views/InOutView.as
new file mode 100644
index 0000000..591ae39
--- /dev/null
+++ b/src/as_not_implemented/views/InOutView.as
@@ -0,0 +1,50 @@
+package net.guttershark.display.views 
+{
+	
+	/**
+	 * The InOutView class is an AnimatedView with default
+	 * functionality setup so that you can use a timeline
+	 * to play forwards and backwards as the in transition
+	 * and reverse as the out transition.
+	 * 
+	 * &lt;p>Use the show() and hide() methods as the in and out.&lt;/p>
+	 */
+	public class InOutView extends AnimatedView
+	{
+		
+		/**
+		 * Constructor for InOutView instances.
+		 */
+		public function InOutView()
+		{
+			super();
+			stop();
+			watchForLastFrameAndCallComplete = true;
+			autoStopOnLastFrame = true;
+		}
+		
+		/**
+		 * Show the view - plays clip forward.
+		 */
+		override public function show():void
+		{
+			play();
+		}
+		
+		/**
+		 * Hide the view - plays clip in reverse.
+		 */
+		override public function hide():void
+		{
+			playReverse();
+		}
+		
+		/**
+		 * Dispose of this InOutView.
+		 */
+		override public function dispose():void
+		{
+			super.dispose();
+			watchForLastFrameAndCallComplete = false;
+			autoStopOnLastFrame  = false;
+		}
	}
}
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/classes/Main.as b/src/html/flashsites/fullscreen/classes/Main.as
new file mode 100644
index 0000000..c127a17
--- /dev/null
+++ b/src/html/flashsites/fullscreen/classes/Main.as
@@ -0,0 +1,24 @@
+package
+{
+	
+	import net.guttershark.control.DocumentController;	
+	
+	public class Main extends DocumentController 
+	{
+		
+		public function Main()
+		{
+			super();
+		}
+		
+		override protected function flashvarsForStandalone():Object
+		{
+			return {siteXML:"site.xml",sniffBandwidth:true,sniffCPU:true};
+		}
+		
+		override protected function setupComplete():void
+		{
+
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/bandwidth.jpg b/src/html/flashsites/fullscreen/deploy/bandwidth.jpg
new file mode 100755
index 0000000..130d889
Binary files /dev/null and b/src/html/flashsites/fullscreen/deploy/bandwidth.jpg differ
diff --git a/src/html/flashsites/fullscreen/deploy/css/reset.css b/src/html/flashsites/fullscreen/deploy/css/reset.css
new file mode 100644
index 0000000..13f8e0a
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/css/reset.css
@@ -0,0 +1,53 @@
+/* http://meyerweb.com/eric/tools/css/reset/ */
+/* v1.0 | 20080212 */
+
+html, body, div, span, applet, object, iframe,
+h1, h2, h3, h4, h5, h6, p, blockquote, pre,
+a, abbr, acronym, address, big, cite, code,
+del, dfn, em, font, img, ins, kbd, q, s, samp,
+small, strike, strong, sub, sup, tt, var,
+b, u, i, center,
+dl, dt, dd, ol, ul, li,
+fieldset, form, label, legend,
+table, caption, tbody, tfoot, thead, tr, th, td {
+	margin: 0;
+	padding: 0;
+	border: 0;
+	outline: 0;
+	font-size: 100%;
+	vertical-align: baseline;
+	background: transparent;
+}
+body {
+	line-height: 1;
+}
+ol, ul {
+	list-style: none;
+}
+blockquote, q {
+	quotes: none;
+}
+blockquote:before, blockquote:after,
+q:before, q:after {
+	content: '';
+	content: none;
+}
+
+/* remember to define focus styles! */
+:focus {
+	outline: 0;
+}
+
+/* remember to highlight inserts somehow! */
+ins {
+	text-decoration: none;
+}
+del {
+	text-decoration: line-through;
+}
+
+/* tables still need 'cellspacing="0"' in the markup */
+table {
+	border-collapse: collapse;
+	border-spacing: 0;
+}
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/index.html b/src/html/flashsites/fullscreen/deploy/index.html
new file mode 100644
index 0000000..d7e50e9
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/index.html
@@ -0,0 +1,40 @@
+&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+&lt;head>
+	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
+	&lt;title>&lt;/title>
+	&lt;script type="text/javascript" src="js/swfobject.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/swfmacmousewheel2.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/swffit.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/guttershark.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/tracking.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/wt.js">&lt;/script>
+	&lt;style type="text/css" media="all">@import "css/reset.css";&lt;/style>
+	&lt;style type="text/css">
+		/* hide from ie on mac \*/
+		html{height:100%;overflow:hidden;}
+		#flashcontent{height:100%;}
+		/* end hide */
+		body{height:100%;margin:0;padding:0;background-color:#000;}
+	&lt;/style>
+&lt;/head>
+&lt;body>
+&lt;div id="flashcontent">
+	&lt;h3>You need to upgrade your flash player.&lt;/h3>
+	&lt;p>&lt;a href="http://www.adobe.com/go/getflashplayer">&lt;img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />&lt;/a>&lt;/p>
+	&lt;noscript>
+		You need Javascript enabled to view this flash content.
+	&lt;/noscript>
+&lt;/div>
+&lt;script type="text/javascript">
+	var vars = {model:"model.xml"};
+	var params = {scale:'noScale',salign:'lt',menu:'false'};
+	var attributes = {id:'flaswf',name:'flaswf'};
+	swfobject.embedSWF("main.swf","flashcontent","100%","100%","9.0.0","js/expressInstall.swf",vars,params,attributes);
+	try{swfmacmousewheel.registerObject(attributes.id);}catch(e){}
+	setupTracking('tracking.xml');
+&lt;/script>
+&lt;noscript>&lt;img border="0" name="DCSIMG" width="1" height="1" src="http://" + gDomain + "/" + gDcsId + "/njs.gif?dcsuri=/nojavascript&WT.js=No" style="display:none"/>&lt;/noscript>
+&lt;img style="display:none" id="atlas_tag" src="" />
+&lt;/body>
+&lt;/html>
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/js/expressInstall.swf b/src/html/flashsites/fullscreen/deploy/js/expressInstall.swf
new file mode 100755
index 0000000..86958bf
Binary files /dev/null and b/src/html/flashsites/fullscreen/deploy/js/expressInstall.swf differ
diff --git a/src/html/flashsites/fullscreen/deploy/js/guttershark.js b/src/html/flashsites/fullscreen/deploy/js/guttershark.js
new file mode 100644
index 0000000..f8bece8
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/js/guttershark.js
@@ -0,0 +1 @@
+alert("Please grab the guttershark.js file from lib/js/guttershark.js. This is just a placeholder.");
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/js/swffit.js b/src/html/flashsites/fullscreen/deploy/js/swffit.js
new file mode 100644
index 0000000..4ee23ca
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/js/swffit.js
@@ -0,0 +1,5 @@
+/*	swffit v1.0 (03/25/2008) &lt;http://swffit.millermedeiros.com/>
+	Copyright (c) 2008 Miller Medeiros &lt;http://www.millermedeiros.com/>
+	This software is released under the MIT License &lt;http://www.opensource.org/licenses/mit-license.php>
+*/
+var NS=(navigator.appName=='Netscape')?true:false;var ft;var mw;var mh;var xw;var xh;var xc;function swffit(t,w,h,_w,_h,c){if(t&&w&&h){ft=t;mw=w;mh=h;xw=_w;xh=_h;xc=(c||c==null)?true:false;if(swfobject.isDomLoaded){startFit()}else{swfobject.addDomLoadEvent(startFit)}}}function gEBI(x){return x}function startFit(){document.getElementsByTagName('html')[0].style.height='100%';document.body.style.margin='0';document.body.style.padding='0';document.body.style.height='100%';if(swfobject.getObjectById(ft)){ft=swfobject.getObjectById(ft)}else{ft=(NS)?document.getElementById(ft).getElementsByTagName('object')[0]:document.getElementById(ft)}gEBI(ft).style.position='absolute';window.onresize=fit;fit()}function fit(){iw=(NS)?window.innerWidth:document.body.clientWidth;ih=(NS)?window.innerHeight:document.body.clientHeight;if(iw>xw&&xw){gEBI(ft).style.width=xw+'px';if(xc){gEBI(ft).style.left='50%';gEBI(ft).style.marginLeft=-(xw/2)+'px'}}else{if(iw>mw&&(iw&lt;xw||!xw)){gEBI(ft).style.width='100%'}else{gEBI(ft).style.width=mw+'px'}if(xc){gEBI(ft).style.left='auto';gEBI(ft).style.marginLeft='0'}}if(ih>xh&&xh){gEBI(ft).style.height=xh+'px';if(xc){gEBI(ft).style.top='50%';gEBI(ft).style.marginTop=-(xh/2)+'px'}}else{if(ih>mh&&(ih&lt;xh||!xh)){gEBI(ft).style.height='100%'}else{gEBI(ft).style.height=mh+'px'}if(xc){gEBI(ft).style.top='auto';gEBI(ft).style.marginTop='0'}}};
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/js/swfmacmousewheel2.js b/src/html/flashsites/fullscreen/deploy/js/swfmacmousewheel2.js
new file mode 100644
index 0000000..407a8da
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/js/swfmacmousewheel2.js
@@ -0,0 +1,4 @@
+/**
+ * SWFMacMouseWheel v2.0: Mac Mouse Wheel functionality in flash - http://blog.pixelbreaker.com/
+ */
+var swfmacmousewheel=function(){if(!swfobject)return null;var u=navigator.userAgent.toLowerCase();var p=navigator.platform.toLowerCase();var d=p?/mac/.test(p):/mac/.test(u);if(!d)return null;var k=[];var r=function(event){var o=0;if(event.wheelDelta){o=event.wheelDelta/120;if(window.opera)o= -o;}else if(event.detail){o= -event.detail;}if(event.preventDefault)event.preventDefault();return o;};var l=function(event){var o=r(event);var c;for(var i=0;i&lt;k.length;i++){c=swfobject.getObjectById(k[i]);if(typeof(c.externalMouseEvent)=='function')c.externalMouseEvent(o);}};if(window.addEventListener)window.addEventListener('DOMMouseScroll',l,false);window.onmousewheel=document.onmousewheel=l;return{registerObject:function(m){k[k.length]=m;}};}();
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/js/swfobject.js b/src/html/flashsites/fullscreen/deploy/js/swfobject.js
new file mode 100755
index 0000000..b243b2d
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/js/swfobject.js
@@ -0,0 +1,5 @@
+/*	SWFObject v2.0 rc2 &lt;http://code.google.com/p/swfobject/>
+	Copyright (c) 2007 Geoff Stearns, Michael Williams, and Bobby van der Sluis
+	This software is released under the MIT License &lt;http://www.opensource.org/licenses/mit-license.php>
+*/
+var swfobject=function(){var _1=[];var _2=[];var _3=null;var _4=null;var _5=false;var _6=false;var ua=function(){var _8=typeof document.getElementById!="undefined"&&typeof document.getElementsByTagName!="undefined"&&typeof document.createElement!="undefined"&&typeof document.appendChild!="undefined"&&typeof document.replaceChild!="undefined"&&typeof document.removeChild!="undefined"&&typeof document.cloneNode!="undefined";var _9=[0,0,0];var d=null;if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]=="object"){d=navigator.plugins["Shockwave Flash"].description;if(d){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");_9[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);_9[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);_9[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof window.ActiveXObject!="undefined"){var a=null;var _c=false;try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");_9=[6,0,21];a.AllowScriptAccess="always";}catch(e){if(_9[0]==6){_c=true;}}if(!_c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}}if(!_c&&a){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");_9=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e){}}}}var u=navigator.userAgent.toLowerCase();var p=navigator.platform.toLowerCase();var _f=/webkit/.test(u);var _10=_f?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):0;var ie=false;var win=p?/win/.test(p):/win/.test(u);var mac=p?/mac/.test(p):/mac/.test(u);/*@cc_on ie=true;@if(@_win32)win=true;@elif(@_mac)mac=true;@end@*/return {w3cdom:_8,playerVersion:_9,webkit:_f,webkitVersion:_10,ie:ie,win:win,mac:mac};}();var _14=function(){if(!ua.w3cdom){return;}addDomLoadEvent(main);if(ua.ie&&ua.win){try{document.write("&lt;scr"+"ipt id=__ie_ondomload defer=true src=//:>&lt;/scr"+"ipt>");var s=document.getElementById("__ie_ondomload");if(s){s.onreadystatechange=function(){if(this.readyState=="complete"){this.parentNode.removeChild(this);callDomLoadFunctions();}};}}catch(e){}}if(ua.webkit&&typeof document.readyState!="undefined"){_3=setInterval(function(){if(/loaded|complete/.test(document.readyState)){callDomLoadFunctions();}},10);}if(typeof document.addEventListener!="undefined"){document.addEventListener("DOMContentLoaded",callDomLoadFunctions,null);}addLoadEvent(callDomLoadFunctions);}();function callDomLoadFunctions(){if(_5){return;}if(ua.ie&&ua.win){var s=document.createElement("span");try{var t=document.getElementsByTagName("body")[0].appendChild(s);t.parentNode.removeChild(t);}catch(e){return;}}_5=true;if(_3){clearInterval(_3);_3=null;}var dl=_1.length;for(var i=0;i&lt;dl;i++){_1[i]();}}function addDomLoadEvent(fn){if(_5){fn();}else{_1[_1.length]=fn;}}function addLoadEvent(fn){if(typeof window.addEventListener!="undefined"){window.addEventListener("load",fn,false);}else{if(typeof document.addEventListener!="undefined"){document.addEventListener("load",fn,false);}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",fn);}else{if(typeof window.onload=="function"){var _1c=window.onload;window.onload=function(){_1c();fn();};}else{window.onload=fn;}}}}}function main(){var rl=_2.length;for(var i=0;i&lt;rl;i++){var id=_2[i].id;if(ua.playerVersion[0]>0){var obj=document.getElementById(id);if(obj){_2[i].width=obj.getAttribute("width")?obj.getAttribute("width"):"0";_2[i].height=obj.getAttribute("height")?obj.getAttribute("height"):"0";if(hasPlayerVersion(_2[i].swfVersion)){if(ua.webkit&&ua.webkitVersion&lt;312){fixParams(obj);}}else{if(_2[i].expressInstall&&!_6&&hasPlayerVersion([6,0,65])&&(ua.win||ua.mac)){showExpressInstall(_2[i]);}else{displayAltContent(obj);}}}}createCSS("#"+id,"visibility:visible");}}function fixParams(obj){var _22=obj.getElementsByTagName("object")[0];if(_22){var e=document.createElement("embed");var a=_22.attributes;if(a){var al=a.length;for(var i=0;i&lt;al;i++){if(a[i].nodeName.toLowerCase()=="data"){e.setAttribute("src",a[i].nodeValue);}else{e.setAttribute(a[i].nodeName,a[i].nodeValue);}}}var c=_22.childNodes;if(c){var cl=c.length;for(var j=0;j&lt;cl;j++){if(c[j].nodeType==1&&c[j].nodeName.toLowerCase()=="param"){e.setAttribute(c[j].getAttribute("name"),c[j].getAttribute("value"));}}}obj.parentNode.replaceChild(e,obj);}}function fixObjectLeaks(id){if(ua.ie&&ua.win&&hasPlayerVersion([8,0,0])){window.attachEvent("onunload",function(){var obj=document.getElementById(id);for(var i in obj){if(typeof obj[i]=="function"){obj[i]=function(){};}}obj.parentNode.removeChild(obj);});}}function showExpressInstall(_2d){_6=true;var obj=document.getElementById(_2d.id);if(obj){if(_2d.altContentId){var ac=document.getElementById(_2d.altContentId);if(ac){_4=ac;}}else{_4=abstractAltContent(obj);}if(!(/%$/.test(_2d.width))&&parseInt(_2d.width,10)&lt;310){_2d.width="310";}if(!(/%$/.test(_2d.height))&&parseInt(_2d.height,10)&lt;137){_2d.height="137";}var pt=ua.ie&&ua.win?"ActiveX":"PlugIn";document.title=document.title.slice(0,47)+" - Flash Player Installation";var dt=document.title;var fv="MMredirectURL="+window.location+"&MMplayerType="+pt+"&MMdoctitle="+dt;var _33=_2d.id;if(ua.ie&&ua.win&&obj.readyState!=4){var _34=document.createElement("div");_33+="SWFObjectNew";_34.setAttribute("id",_33);obj.parentNode.insertBefore(_34,obj);obj.style.display="none";window.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}createSWF({data:_2d.expressInstall,id:"SWFObjectExprInst",width:_2d.width,height:_2d.height},{flashvars:fv},_33);}}function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=document.createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";window.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}function abstractAltContent(obj){var ac=document.createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}else{var _39=obj.getElementsByTagName("object")[0];if(_39){var c=_39.childNodes;if(c){var cl=c.length;for(var i=0;i&lt;cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName.toLowerCase()=="param")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}return ac;}function createSWF(_3d,_3e,id){var r;var el=document.getElementById(id);if(typeof _3d.id=="undefined"){_3d.id=id;}if(ua.ie&&ua.win){var att="";for(var i in _3d){if(_3d[i]!=Object.prototype[i]){if(i=="data"){_3e.movie=_3d[i];}else{if(i.toLowerCase()=="styleclass"){att+=" class=\""+_3d[i]+"\"";}else{if(i!="classid"){att+=" "+i+"=\""+_3d[i]+"\"";}}}}}var par="";for(var j in _3e){if(_3e[j]!=Object.prototype[j]){par+="&lt;param name=\""+j+"\" value=\""+_3e[j]+"\" />";}}el.outerHTML="&lt;object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\""+att+">"+par+"&lt;/object>";fixObjectLeaks(_3d.id);r=document.getElementById(_3d.id);}else{if(ua.webkit&&ua.webkitVersion&lt;312){var e=document.createElement("embed");e.setAttribute("type","application/x-shockwave-flash");for(var k in _3d){if(_3d[k]!=Object.prototype[k]){if(k=="data"){e.setAttribute("src",_3d[k]);}else{if(k.toLowerCase()=="styleclass"){e.setAttribute("class",_3d[k]);}else{if(k!="classid"){e.setAttribute(k,_3d[k]);}}}}}for(var l in _3e){if(_3e[l]!=Object.prototype[l]){if(l!="movie"){e.setAttribute(l,_3e[l]);}}}el.parentNode.replaceChild(e,el);r=e;}else{var o=document.createElement("object");o.setAttribute("type","application/x-shockwave-flash");for(var m in _3d){if(_3d[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",_3d[m]);}else{if(m!="classid"){o.setAttribute(m,_3d[m]);}}}}for(var n in _3e){if(_3e[n]!=Object.prototype[n]&&n!="movie"){createObjParam(o,n,_3e[n]);}}el.parentNode.replaceChild(o,el);r=o;}}return r;}function createObjParam(el,_4d,_4e){var p=document.createElement("param");p.setAttribute("name",_4d);p.setAttribute("value",_4e);el.appendChild(p);}function hasPlayerVersion(rv){return (ua.playerVersion[0]>rv[0]||(ua.playerVersion[0]==rv[0]&&ua.playerVersion[1]>rv[1])||(ua.playerVersion[0]==rv[0]&&ua.playerVersion[1]==rv[1]&&ua.playerVersion[2]>=rv[2]))?true:false;}function createCSS(sel,_52){if(ua.ie&&ua.mac){return;}var h=document.getElementsByTagName("head")[0];var s=document.createElement("style");s.setAttribute("type","text/css");s.setAttribute("media","screen");if(!(ua.ie&&ua.win)&&typeof document.createTextNode!="undefined"){s.appendChild(document.createTextNode(sel+" {"+_52+"}"));}h.appendChild(s);if(ua.ie&&ua.win&&typeof document.styleSheets!="undefined"&&document.styleSheets.length>0){var ls=document.styleSheets[document.styleSheets.length-1];if(typeof ls.addRule=="object"){ls.addRule(sel,_52);}}}return {registerObject:function(_56,_57,_58){if(!ua.w3cdom||!_56||!_57){return;}var _59={};_59.id=_56;var v=_57.split(".");_59.swfVersion=[parseInt(v[0],10),parseInt(v[1],10),parseInt(v[2],10)];_59.expressInstall=_58?_58:false;_2[_2.length]=_59;createCSS("#"+_56,"visibility:hidden");},getObjectById:function(_5b){var r=null;if(ua.w3cdom&&_5){var o=document.getElementById(_5b);if(o){var n=o.getElementsByTagName("object")[0];if(!n||(n&&typeof o.SetVariable!="undefined")){r=o;}else{if(typeof n.SetVariable!="undefined"){r=n;}}}}return r;},embedSWF:function(_5f,_60,_61,_62,_63,_64,_65,_66,_67){if(!ua.w3cdom||!_5f||!_60||!_61||!_62||!_63){return;}_61+="";_62+="";if(hasPlayerVersion(_63.split("."))){createCSS("#"+_60,"visibility:hidden");var att=(typeof _67=="object")?_67:{};att.data=_5f;att.width=_61;att.height=_62;var par=(typeof _66=="object")?_66:{};if(typeof _65=="object"){for(var i in _65){if(_65[i]!=Object.prototype[i]){if(typeof par.flashvars!="undefined"){par.flashvars+="&"+i+"="+_65[i];}else{par.flashvars=i+"="+_65[i];}}}}addDomLoadEvent(function(){createSWF(att,par,_60);createCSS("#"+_60,"visibility:visible");});}else{if(_64&&!_6&&hasPlayerVersion([6,0,65])&&(ua.win||ua.mac)){createCSS("#"+_60,"visibility:hidden");addDomLoadEvent(function(){var _6b={};_6b.id=_6b.altContentId=_60;_6b.width=_61;_6b.height=_62;_6b.expressInstall=_64;showExpressInstall(_6b);createCSS("#"+_60,"visibility:visible");});}}},getFlashPlayerVersion:function(){return {major:ua.playerVersion[0],minor:ua.playerVersion[1],release:ua.playerVersion[2]};},hasFlashPlayerVersion:function(_6c){return hasPlayerVersion(_6c.split("."));},createSWF:function(_6d,_6e,_6f){if(ua.w3cdom&&_5){return createSWF(_6d,_6e,_6f);}else{return undefined;}},createCSS:function(sel,_71){if(ua.w3cdom){createCSS(sel,_71);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(_72){var q=document.location.search||document.location.hash;if(_72==null){return q;}if(q){var _74=q.substring(1).split("&");for(var i=0;i&lt;_74.length;i++){if(_74[i].substring(0,_74[i].indexOf("="))==_72){return _74[i].substring((_74[i].indexOf("=")+1));}}}return "";},expressInstallCallback:function(){if(_6&&_4){var obj=document.getElementById("SWFObjectExprInst");if(obj){obj.parentNode.replaceChild(_4,obj);_4=null;_6=false;}}}};}();
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/js/tracking.js b/src/html/flashsites/fullscreen/deploy/js/tracking.js
new file mode 100755
index 0000000..d623192
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/js/tracking.js
@@ -0,0 +1 @@
+alert("Please grab the tracking.js from guttershark/lib/js/tracking/js/tracking.js.");
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/js/wt.js b/src/html/flashsites/fullscreen/deploy/js/wt.js
new file mode 100755
index 0000000..dc3a634
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/js/wt.js
@@ -0,0 +1,742 @@
+//Tag Version: MNP 2.0/7-30-07
+var gTagVer = "MNP 2.0/7-30-07";
+var gService = true;
+var gTimeZone = -8;
+function dcsCookie(){
+	if (typeof(dcsOther)=="function"){
+		dcsOther();
+	}
+	else if (typeof(dcsPlugin)=="function"){
+		dcsPlugin();
+	}
+	else if (typeof(dcsFPC)=="function"){
+		dcsFPC(gTimeZone);
+	}
+}
+function dcsGetCookie(name){
+	var pos=document.cookie.indexOf(name+"=");
+	if (pos!=-1){
+		var start=pos+name.length+1;
+		var end=document.cookie.indexOf(";",start);
+		if (end==-1){
+			end=document.cookie.length;
+		}
+		return unescape(document.cookie.substring(start,end));
+	}
+	return null;
+}
+function dcsGetCrumb(name,crumb){
+	var aCookie=dcsGetCookie(name).split(":");
+	for (var i=0;i&lt;aCookie.length;i++){
+		var aCrumb=aCookie[i].split("=");
+		if (crumb==aCrumb[0]){
+			return aCrumb[1];
+		}
+	}
+	return null;
+}
+function dcsGetIdCrumb(name,crumb){
+	var cookie=dcsGetCookie(name);
+	var id=cookie.substring(0,cookie.indexOf(":lv="));
+	var aCrumb=id.split("=");
+	for (var i=0;i&lt;aCrumb.length;i++){
+		if (crumb==aCrumb[0]){
+			return aCrumb[1];
+		}
+	}
+	return null;
+}
+function dcsFPC(offset){
+	if (typeof(offset)=="undefined"){
+		return;
+	}
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var name=gFpc;
+	var dCur=new Date();
+	var adj=(dCur.getTimezoneOffset()*60000)+(offset*3600000);
+	dCur.setTime(dCur.getTime()+adj);
+	var dExp=new Date(dCur.getTime()+315360000000);
+	var dSes=new Date(dCur.getTime());
+	if (document.cookie.indexOf(name+"=")==-1){
+		if ((typeof(gWtId)!="undefined")&&(gWtId!="")){
+			WT.co_f=gWtId;
+		}
+		else if ((typeof(gTempWtId)!="undefined")&&(gTempWtId!="")){
+			WT.co_f=gTempWtId;
+			WT.vt_f="1";
+		}
+		else{
+			WT.co_f="2";
+			var cur=dCur.getTime().toString();
+			for (var i=2;i&lt;=(32-cur.length);i++){
+				WT.co_f+=Math.floor(Math.random()*16.0).toString(16);
+			}
+			WT.co_f+=cur;
+			WT.vt_f="1";
+		}
+		if (typeof(gWtAccountRollup)=="undefined"){
+			WT.vt_f_a="1";
+		}
+		WT.vt_f_s="1";
+		WT.vt_f_d="1";
+		WT.vt_f_tlh=WT.vt_f_tlv="0";
+	}
+	else{
+		var id=dcsGetIdCrumb(name,"id");
+		var lv=parseInt(dcsGetCrumb(name,"lv"));
+		var ss=parseInt(dcsGetCrumb(name,"ss"));
+		if ((id==null)||(id=="null")||isNaN(lv)||isNaN(ss)){
+			return;
+		}
+		WT.co_f=id;
+		var dLst=new Date(lv);
+		WT.vt_f_tlh=Math.floor((dLst.getTime()-adj)/1000);
+		dSes.setTime(ss);
+		if ((dCur.getTime()>(dLst.getTime()+1800000))||(dCur.getTime()>(dSes.getTime()+28800000))){
+			WT.vt_f_tlv=Math.floor((dSes.getTime()-adj)/1000);
+			dSes.setTime(dCur.getTime());
+			WT.vt_f_s="1";
+		}
+		if ((dCur.getDay()!=dLst.getDay())||(dCur.getMonth()!=dLst.getMonth())||(dCur.getYear()!=dLst.getYear())){
+			WT.vt_f_d="1";
+		}
+	}
+	WT.co_f=escape(WT.co_f);
+	WT.vt_sid=WT.co_f+"."+(dSes.getTime()-adj);
+	var expiry="; expires="+dExp.toGMTString();
+	document.cookie=name+"="+"id="+WT.co_f+":lv="+dCur.getTime().toString()+":ss="+dSes.getTime().toString()+expiry+"; path=/"+(((typeof(gFpcDom)!="undefined")&&(gFpcDom!=""))?("; domain="+gFpcDom):(""));
+	if (document.cookie.indexOf(name+"=")==-1){
+		WT.co_f=WT.vt_sid=WT.vt_f_s=WT.vt_f_d=WT.vt_f_tlh=WT.vt_f_tlv="";
+		WT.vt_f=WT.vt_f_a="2";
+	}
+}
+
+var gFpcDom=".microsoft.com";
+
+function dcsEvt(evt,tag){
+	var e=evt.target||evt.srcElement;
+	while (e.tagName&&(e.tagName!=tag)){
+		e=e.parentElement||e.parentNode;
+	}
+	return e;
+}
+function dcsBind(event,func){
+	if ((typeof(window[func])=="function")&&document.body){
+		if (document.body.addEventListener){
+			document.body.addEventListener(event, window[func], true);
+		}
+		else if(document.body.attachEvent){
+			document.body.attachEvent("on"+event, window[func]);
+		}
+	}
+}
+function dcsET(){
+	dcsBind("click","dcsDownload");
+	dcsBind("click","dcsFormButton");
+	dcsBind("keypress","dcsFormButton");
+	dcsBind("click","dcsImageMap");
+}
+// custom version
+function dcsMultiTrack(){
+	for (var i=0;i&lt;arguments.length;i++){
+		if (arguments[i].indexOf('WT.')==0){
+			WT[arguments[i].substring(3)]=
+			arguments[i+1];i++;
+		}
+		if (arguments[i].indexOf('DCS.')==0){
+			DCS[arguments[i].substring(4)]=
+			arguments[i+1];i++;
+		}
+		if (arguments[i].indexOf('DCSext.')==0){
+			DCSext[arguments[i].substring(7)]=
+			arguments[i+1];i++;
+		}
+	}
+	var dCurrent=new Date();
+	DCS.dcsdat=dCurrent.getTime();
+	dcsTag();
+}
+// function dcsMultiTrack(){
+// 	alert("dcsMultiTrack");
+// 	if (arguments.length%2==0){
+// 		for (var i=0;i&lt;arguments.length;i+=2){
+// 			if (arguments[i].indexOf('WT.')==0){
+// 				WT[arguments[i].substring(3)]=arguments[i+1];
+// 			}
+// 			else if (arguments[i].indexOf('DCS.')==0){
+// 				DCS[arguments[i].substring(4)]=arguments[i+1];
+// 			}
+// 			else if (arguments[i].indexOf('DCSext.')==0){
+// 				DCSext[arguments[i].substring(7)]=arguments[i+1];
+// 			}
+// 		}
+// 		var dCurrent=new Date();
+// 		DCS.dcsdat=dCurrent.getTime();
+// 		dcsTag();
+// 	}
+// }
+function dcsDownload(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var e=dcsEvt(evt,"A");
+		if(e){
+			if (e.hostname&&e.href&&e.protocol&&(e.protocol.indexOf("http")!=-1)){
+				dcsNavigation(e);
+				var gPath=e.pathname?((e.pathname.indexOf("/")!=0)?"/"+e.pathname:e.pathname):"/";				
+				if(document.all){var gTitle=e.innerText||e.innerHTML||"";}else{var gTitle=e.text||e.innerHTML||"";}
+				dcsMultiTrack("DCS.dcssip",e.hostname,"DCS.dcsuri",gPath,"DCS.dcsqry",e.search||"","WT.ti","Link:"+gTitle,"WT.dl","1","WT.ad","","WT.mc_id","","WT.sp","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl=gTitle=gPath="";
+			}
+		}
+	}
+}
+function dcsNavigation(wtnode){
+	try{
+	var wtCount=0;
+	while(wtCount!=1){
+		if(wtnode.parentNode.tagName!="DIV"){
+			wtnode=wtnode.parentNode;
+		}
+		if(wtnode.parentNode.tagName=="DIV"){
+			if((wtnode.parentNode.getAttribute('id'))||(wtnode.parentNode.className)){
+				DCSext.wtNavigation = wtnode.parentNode.getAttribute("id")||wtnode.parentNode.className;
+				wtCount=1;
+			}
+			else{
+				wtnode=wtnode.parentNode;
+			}		
+		}
+	}}
+	catch(error){}				
+}
+function dcsRightClick(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var btn=evt.which||evt.button;
+		if (btn!=1){
+			var e=dcsEvt(evt,"A");
+			if(e){
+			if (e.hostname&&e.href&&e.protocol&&(e.protocol.indexOf("http")!=-1)){
+				var gPath=e.pathname?((e.pathname.indexOf("/")!=0)?"/"+e.pathname:e.pathname):"/";				
+				if(document.all){var gTitle=e.innerText||e.innerHTML||"";}else{var gTitle=e.text||e.innerHTML||"";}
+				dcsMultiTrack("DCS.dcssip",e.hostname,"DCS.dcsuri",gPath,"DCS.dcsqry",e.search||"","WT.ti","Link:"+gTitle,"WT.dl","1","WT.rc","1","WT.ad","","WT.mc_id","","WT.sp","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl=gTitle=WT.rc=gPath="";
+			}
+		}
+		}
+	}
+}
+function dcsImageMap(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var f=dcsEvt(evt,"AREA");
+		if(f){
+			if (f.hostname&&f.href&&f.protocol&&(f.protocol.indexOf("http")!=-1)){
+				var path=f.pathname?((f.pathname.indexOf("/")!=0)?"/"+f.pathname:f.pathname):"/";
+				dcsMultiTrack("DCS.dcssip",f.hostname,"DCS.dcsuri",path,"DCS.dcsqry",f.search||"","WT.ti","Link:Image Map","WT.dl","1","WT.ad","","WT.mc_id","","WT.sp","","DCSext.wt_link_e","c","DCSext.wt_linkid","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl="";
+			}			
+		}
+	}
+}
+function dcsFormButton(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var e=dcsEvt(evt,"INPUT");
+		var type=e.type||"";
+		if (type&&((type=="submit")||(type=="image")||(type=="button")||(type=="reset"))||((type=="text")&&((evt.which||evt.keyCode)==13))){
+			var gUri=gTitle=gMethod=qry="";
+			if(e.form){
+				var elems=e.form.elements;
+				for (var i=0;i&lt;elems.length;i++){
+					var etype=elems[i].type;
+					if (etype=="text"){
+						qry+=((qry=="")?"":"&")+escape(elems[i].name)+"="+escape(elems[i].value);
+					}
+				}
+				gUri=e.form.action||window.location.pathname;
+				gTitle=e.form.id||e.form.className||e.form.name||"Unknown";
+				gMethod=e.form.method||"Unknown";
+			}
+			else{
+				gUri=window.location.pathname;
+				gTitle=e.name||e.id||"Unknown";
+				gMethod="Input";
+			}
+			if((gUri!="")&&(gTitle!="")&&(gMethod!="")&&(evt.keyCode!=9)){
+				dcsMultiTrack("DCS.dcsuri",gUri,"DCS.dcsqry",qry,"WT.ti","FormButton:"+gTitle,"WT.dl","2","WT.fm",gMethod,"WT.ad","","WT.mc_id","","WT.sp","");
+			}
+			DCS.dcsuri=DCS.dcsqry=qry=WT.ti=WT.dl=WT.fm=gUri=gTitle=gMethod="";
+		}
+	}
+}
+function dcsAdSearch(){
+	if (document.links){
+		for (var i=0;i&lt;document.links.length;i++){
+			var anch=document.links[i].href+"";
+			var pos=anch.toUpperCase().indexOf("WT.AC=");
+			if (pos!=-1){
+				var start=pos+6;
+				var end=anch.indexOf("&",start);
+				var value=anch.substring(start,(end!=-1)?end:anch.length);
+				WT.ad=WT.ad?(WT.ad+";"+value):value;
+			}
+		}
+	}
+}
+function dcsNvr(){
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var cur=new Date();
+	var exp=new Date(cur.getTime()+315360000000);
+	var cfields={name:"WT_NVR",value:"",expiry:"; expires="+exp.toGMTString(),path:"; path=/",domain:"; domain="+window.location.hostname};
+	var cdata=dcsNvrRead(cfields.name);
+	var isnew=dcsNvrProcess(cdata);
+	if (isnew||dcsNvrFind(cfields.name,",")){
+		var c=dcsNvrCompose(cdata,cfields);
+		for (var i=0;i&lt;c.length;i++){
+			document.cookie=c[i];
+		}
+	}
+	if (isnew){
+		var val=(document.cookie.indexOf(cfields.name+"=")!=-1)?"1":"2";
+		for (var i=0;i&lt;cdata.length;i++){
+			if (cdata[i][1]){
+				WT["vt_nvr"+(i+1)]=val;
+			}
+		}
+	}
+}
+
+function dcsNvrRead(name){
+	var data=new Array();
+	var num=0;
+	var re=/,/g;
+	var value=dcsNvrGetCookie(name);
+	while(value){
+		var levels=value.split(":");
+		for (var i=0;i&lt;levels.length;i++){
+			var crumbs=levels[i].split("=");
+			var level=parseInt(crumbs[0]);
+			var paths=crumbs[1].replace(re,"|").split("|");
+			if (typeof(data[level])!="object"){
+				data[level]=new Array(paths,false);
+			}
+			else{
+				data[level][0]=data[level][0].concat(paths);
+			}
+		}
+		num++;
+		value=dcsNvrGetCookie(name+num);
+	}
+	return data;
+}
+
+function dcsNvrFind(name,tofind){
+	var found=false;
+	var num=0;
+	var value=dcsNvrGetCookie(name);
+	while(value){
+		if (value.indexOf(tofind)!=-1){
+			found=true;
+			break;
+		}
+		num++;
+		value=dcsNvrGetCookie(name+num);
+	}
+	return found;
+}
+
+function dcsNvrGetCookie(name){
+	var pos=document.cookie.indexOf(name+"=");
+	if (pos!=-1){
+		var start=pos+name.length+1;
+		var end=document.cookie.indexOf(";",start);
+		if (end==-1){
+			end=document.cookie.length;
+		}
+		return document.cookie.substring(start,end);
+	}
+	return null;
+}
+
+function dcsNvrProcess(data){
+	var newv=false;
+	var maxlevel=3;
+	var curlevel=0;
+	var splitp=new Array();
+	var p=window.location.pathname;
+	var curpath=p.substring(p.indexOf("/")+1,p.lastIndexOf("/")).toLowerCase();
+	var badchars={"%09":/\t/g,"%20":/ /g,"%2C":/,/g,"%3B":/;/g};
+	var tmp=new String(curpath);
+	for (var ch in badchars){
+		tmp=tmp.replace(badchars[ch],ch);
+	}
+	curpath=tmp;
+
+	if (curpath.length>1){
+		splitp=curpath.split("/",maxlevel);
+		curlevel=splitp.length;
+		curpath=splitp.join("/");
+	}
+	if (data.length>0){
+		var found=false;
+		if (data.length>curlevel){
+			for (var i=0;i&lt;data[curlevel][0].length;i++){
+				if (data[curlevel][0][i]==curpath){
+					found=true;
+					break;
+				}
+			}
+			if (!found){
+				data[curlevel][0][data[curlevel][0].length]=curpath;
+				data[curlevel][1]=true;
+				newv=true;
+			}
+		}
+		else{
+			for (var i=0;i&lt;(curlevel+1);i++){
+				if (typeof(data[i])!="object"){
+					data[i]=new Array([(i==0)?"/":splitp.slice(0,i).join("/")],true);
+				}
+			}
+			newv=true;
+		}
+	}
+	else{
+		for (var i=0;i&lt;(curlevel+1);i++){
+			data[i]=new Array([(i==0)?"/":splitp.slice(0,i).join("/")],true);
+		}
+		newv=true;
+	}
+	return newv;
+}
+
+function dcsNvrCompose(data,fields){
+	var cookies=new Array();
+	var paths=new Array();
+	var num=0;
+	var maxnum=10;
+	var maxval=4000;
+	var maxed=false;
+	for (var i=0;(i&lt;data.length)&&!maxed;i++){
+		paths=data[i][0];
+		var newpath=i+"=";
+		for (var j=0;(j&lt;paths.length)&&!maxed;j++){
+			newpath+=((j==0)?"":"|")+paths[j];
+			if (((fields.name+num).length+fields.value.length+newpath.length+1)&lt;=maxval){
+				if ((fields.value.length>0)&&(j==0)){
+					fields.value+=":";
+				}
+				fields.value+=newpath;
+			}
+			else if (fields.value.length>0){
+				cookies[num]=fields.name+(num||"")+"="+fields.value+fields.expiry+fields.path+fields.domain;
+				fields.value=i+"="+paths[j];
+				if ((++num)>(maxnum-1)){
+					maxed=true;
+				}
+			}
+			newpath="";
+		}
+	}
+	if (!maxed){
+		cookies[num]=fields.name+(num||"")+"="+fields.value+fields.expiry+fields.path+fields.domain;
+	}
+	return cookies;
+}
+function dcsAdv(){
+	if ((typeof(gTrackEvents)!="undefined")&&gTrackEvents){
+		WT.wtsv=1;
+		if(typeof(WT.sp)!="undefined"){WT.sv_sp=WT.sp;}
+		dcsFunc("dcsET");
+	}
+	dcsFunc("dcsCookie");
+	dcsFunc("dcsAdSearch");
+	dcsFunc("dcsNvr");
+}
+
+var gImages=new Array;
+var gIndex=0;
+var DCS=new Object();
+var WT=new Object();
+var DCSext=new Object();
+var gQP=new Array();
+var gI18n=false;
+if (window.RegExp){
+	var RE={"%09":/\t/g,"%20":/ /g,"%23":/\#/g,"%26":/\&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g};
+	var I18NRE={"%25":/\%/g};
+}
+
+function dcsVar(){
+	var dCurrent=new Date();
+	WT.tz=dCurrent.getTimezoneOffset()/60*-1;
+	if (WT.tz==0){
+		WT.tz="0";
+	}
+	WT.bh=dCurrent.getHours();
+	WT.ul=navigator.appName=="Netscape"?navigator.language:navigator.userLanguage;
+	if (typeof(screen)=="object"){
+		WT.cd=navigator.appName=="Netscape"?screen.pixelDepth:screen.colorDepth;
+		WT.sr=screen.width+"x"+screen.height;
+	}
+	if (typeof(navigator.javaEnabled())=="boolean"){
+		WT.jo=navigator.javaEnabled()?"Yes":"No";
+	}
+	if (document.title){
+		WT.ti=gI18n?dcsEscape(dcsEncode(document.title),I18NRE):document.title;
+	}
+	WT.js="Yes";
+	WT.jv=dcsJV();
+	if (document.body&&document.body.addBehavior){
+		document.body.addBehavior("#default#clientCaps");
+		if (document.body.connectionType){
+			WT.ct=document.body.connectionType;
+		}
+		document.body.addBehavior("#default#homePage");
+		WT.hp=document.body.isHomePage(location.href)?"1":"0";
+	}
+	if (parseInt(navigator.appVersion)>3){
+		if ((navigator.appName=="Microsoft Internet Explorer")&&document.body){
+			WT.bs=document.body.offsetWidth+"x"+document.body.offsetHeight;
+		}
+		else if (navigator.appName=="Netscape"){
+			WT.bs=window.innerWidth+"x"+window.innerHeight;
+		}
+	}
+	WT.fi="No";
+	WT.fv=(function(){
+		var i,flash;
+		if (window.ActiveXObject){
+			for(i=10;i>0;i--){
+				try{
+					flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);
+					WT.fi="Yes";
+					return i+".0";
+				}
+				catch(e){
+				}
+			}
+		}
+		else if (navigator.plugins&&navigator.plugins.length){
+			for (i=0;i&lt;navigator.plugins.length;i++){
+				if (navigator.plugins[i].name.indexOf('Shockwave Flash')!=-1){
+					WT.fi="Yes";
+					return navigator.plugins[i].description.split(" ")[2];
+				}
+			}
+		}
+		return "";
+	})();
+	WT.sli=(function(){
+    try{        
+    	if(navigator.userAgent.indexOf('MSIE')!=-1){
+    		var wtsli = new ActiveXObject('AgControl.AgControl');
+      	if(wtsli){return "Installed";}
+      }
+      else{
+				if (navigator.plugins["Silverlight Plug-In"]){
+        	return "Installed";        
+        }
+      }
+ 		}
+    catch(e){}
+    return "Not Installed";
+	})();
+	WT.slv=(function(){
+		var i,j,slv;
+    if ((typeof(Silverlight)=="object")&&(typeof(Silverlight.isInstalled)=="function")){
+			for(j=0;j&lt;10;j++){
+				for(i=3;i>0;i--){
+					slv=i+"."+j;
+					if (Silverlight.isInstalled(slv)){
+						return slv;
+					}
+				}
+			}
+		}
+		return "Version Unavailable";
+	})();
+	if (gI18n){
+		WT.em=(typeof(encodeURIComponent)=="function")?"uri":"esc";
+		if (typeof(document.defaultCharset)=="string"){
+			WT.le=document.defaultCharset;
+		} 
+		else if (typeof(document.characterSet)=="string"){
+			WT.le=document.characterSet;
+		}
+	}
+	WT.dl="0";
+	WT.dcsvid=dcsGetCookie("MC1");
+	DCS.dcsdat=dCurrent.getTime();
+	DCS.dcssip=window.location.hostname;
+	DCS.dcsuri=window.location.pathname;
+	var currentTime = new Date();
+	DCSext.wt_date = currentTime.getFullYear() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getDate();
+	DCSext.wt_dos=1;
+	var gDirLevels = 5;
+	var gFpath = window.location.pathname.substring(window.location.pathname.indexOf('/')+1,window.location.pathname.lastIndexOf('/')+1).toLowerCase();
+	if(gFpath==''){gFpath="/";}	
+	else{	
+		var gSplit=gFpath.split("/");
+		gFpath="";
+		for(var i=1;i&lt;gSplit.length&&i&lt;=gDirLevels;i++){
+			gFpath+="/";
+			for(var b=0;b&lt;i;b++){
+					gFpath+=gSplit[b]+"/";
+			}
+			if(i!=gDirLevels&&i!=gSplit.length-1){
+				gFpath+=";";
+			}		
+		}
+	}
+	DCSext.wtDrillDir=gFpath;
+	DCSext.wtEvtSrc=window.location.hostname+window.location.pathname;
+	if (window.location.search){
+		DCS.dcsqry=window.location.search;
+		if (gQP.length>0){
+			for (var i=0;i&lt;gQP.length;i++){
+				var pos=DCS.dcsqry.indexOf(gQP[i]);
+				if (pos!=-1){
+					var front=DCS.dcsqry.substring(0,pos);
+					var end=DCS.dcsqry.substring(pos+gQP[i].length,DCS.dcsqry.length);
+					DCS.dcsqry=front+end;
+				}
+			}
+		}
+	}
+	if ((window.document.referrer!="")&&(window.document.referrer!="-")){
+		if (!(navigator.appName=="Microsoft Internet Explorer"&&parseInt(navigator.appVersion)&lt;4)){
+			DCS.dcsref=gI18n?dcsEscape(window.document.referrer, I18NRE):window.document.referrer;
+		}
+	}
+}
+function dcsA(N,V){
+	return "&"+N+"="+dcsEscape(V, RE);
+}
+function dcsEscape(S, REL){
+	if (typeof(REL)!="undefined"){
+		var retStr = new String(S);
+		for (R in REL){
+			retStr = retStr.replace(REL[R],R);
+		}
+		return retStr;
+	}
+	else{
+		return escape(S);
+	}
+}
+function dcsEncode(S){
+	return (typeof(encodeURIComponent)=="function")?encodeURIComponent(S):escape(S);
+}
+function dcsCreateImage(dcsSrc){
+	if (document.images){
+		gImages[gIndex]=new Image;
+		gImages[gIndex].src=dcsSrc;
+		gIndex++;
+	}
+	else{
+		document.write('&lt;IMG ALT="" BORDER="0" NAME="DCSIMG" WIDTH="1" HEIGHT="1" SRC="'+dcsSrc+'">');
+	}
+}
+function dcsMeta(){
+	var elems;
+	if (document.all){
+		elems=document.all.tags("meta");
+	}
+	else if (document.documentElement){
+		elems=document.getElementsByTagName("meta");
+	}
+	if (typeof(elems)!="undefined"){
+		for (var i=1;i&lt;=elems.length;i++){
+			var meta=elems.item(i-1);
+			if (meta.name){
+				if (meta.name.indexOf('WT.')==0){
+					WT[meta.name.substring(3)]=(gI18n&&(meta.name.indexOf('WT.ti')==0))?dcsEscape(dcsEncode(meta.content),I18NRE):meta.content;
+				}
+				else if (meta.name.indexOf('DCSext.')==0){
+					DCSext[meta.name.substring(7)]=meta.content;
+				}
+				else if (meta.name.indexOf('DCS.')==0){
+					DCS[meta.name.substring(4)]=(gI18n&&(meta.name.indexOf('DCS.dcsref')==0))?dcsEscape(meta.content,I18NRE):meta.content;
+				}
+			}
+		}
+	}
+}
+function dcsTag(){
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var P="http"+(window.location.protocol.indexOf('https:')==0?'s':'')+"://"+gDomain+(gDcsId==""?'':'/'+gDcsId)+"/dcs.gif?";
+	//alert("dcsTag, P = " + P);
+	for (N in DCS){
+		if (DCS[N]) {
+			P+=dcsA(N,DCS[N]);
+		}
+	}
+	for (N in WT){
+		if (WT[N]) {
+			P+=dcsA("WT."+N,WT[N]);
+		}
+	}
+	for (N in DCSext){
+		if (DCSext[N]) {
+			P+=dcsA(N,DCSext[N]);
+		}
+	}
+	if (P.length>2048&&navigator.userAgent.indexOf('MSIE')>=0){
+		P=P.substring(0,2040)+"&WT.tu=1";
+	}
+	//alert("dcsTag, P = " + P);
+	dcsCreateImage(P);
+}
+function dcsJV(){
+	var agt=navigator.userAgent.toLowerCase();
+	var major=parseInt(navigator.appVersion);
+	var mac=(agt.indexOf("mac")!=-1);
+	var nn=((agt.indexOf("mozilla")!=-1)&&(agt.indexOf("compatible")==-1));
+	var nn4=(nn&&(major==4));
+	var nn6up=(nn&&(major>=5));
+	var ie=((agt.indexOf("msie")!=-1)&&(agt.indexOf("opera")==-1));
+	var ie4=(ie&&(major==4)&&(agt.indexOf("msie 4")!=-1));
+	var ie5up=(ie&&!ie4);
+	var op=(agt.indexOf("opera")!=-1);
+	var op5=(agt.indexOf("opera 5")!=-1||agt.indexOf("opera/5")!=-1);
+	var op6=(agt.indexOf("opera 6")!=-1||agt.indexOf("opera/6")!=-1);
+	var op7up=(op&&!op5&&!op6);
+	var jv="1.1";
+	if (nn6up||op7up){
+		jv="1.5";
+	}
+	else if ((mac&&ie5up)||op6){
+		jv="1.4";
+	}
+	else if (ie5up||nn4||op5){
+		jv="1.3";
+	}
+	else if (ie4){
+		jv="1.2";
+	}
+	return jv;
+}
+function dcsFunc(func){
+	if (typeof(window[func])=="function"){
+		window[func]();
+	}
+}
+function dcsDebug()
+{
+	var wtVars="\nTag Version = "+gTagVer+"\nDomain = "+gDomain+"\nDCSId = "+gDcsId;
+	for(N in DCS){wtVars+="\nDCS."+N+" = "+DCS[N];}
+	for(N in WT){wtVars+="\nWT."+N+" = "+WT[N];}
+	for(N in DCSext){wtVars+="\nDCSext."+N+" = "+DCSext[N];}
+	alert(wtVars);
+}
+dcsVar();
+dcsMeta();
+dcsFunc("dcsAdv");
+dcsTag();
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/main.swf b/src/html/flashsites/fullscreen/deploy/main.swf
new file mode 100644
index 0000000..bc3acee
Binary files /dev/null and b/src/html/flashsites/fullscreen/deploy/main.swf differ
diff --git a/src/html/flashsites/fullscreen/deploy/model.xml b/src/html/flashsites/fullscreen/deploy/model.xml
new file mode 100644
index 0000000..4d94442
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/model.xml
@@ -0,0 +1,28 @@
+&lt;?xml version="1.0" encoding="utf-8"?>
+&lt;site>
+	&lt;assetPaths basePath="assets/">
+		&lt;bitmapPath>bmp/&lt;/bitmapPath>
+		&lt;soundPath>sounds/&lt;/soundPath>
+		&lt;swfPath>swf/&lt;/swfPath>
+		&lt;flvPath>flv/&lt;/flvPath>
+		&lt;xmlPath>xml/&lt;/xmlPath>
+	&lt;/assetPaths>
+	
+	&lt;assets>
+		&lt;asset libraryName="" source="*.jpg" />
+	&lt;/assets>
+	
+	&lt;preload>
+		&lt;asset libraryName="clayBanner1" />
+	&lt;/preload>
+	
+	&lt;!-- OPTIONAL ELEMENTS -->
+	&lt;services>
+		&lt;remoting>
+			&lt;endpoint id="amfphp" gateway="http://localhost/amfphp/gateway.php" useLimiter="true" maxRetries="5" callTimeout="5000" objectEncoding="3">
+				&lt;service id="service1" useCache="false" cacheExpireTimeout="-1">com.myphp.Service1&lt;/service>
+				&lt;service id="service2" useCache="false" cacheExpireTimeout="-1">com.myphp.Service2&lt;/service>
+			&lt;/endpoint>
+		&lt;/remoting>
+	&lt;/services>
+&lt;/site>
\ No newline at end of file
diff --git a/src/html/flashsites/fullscreen/deploy/ping.png b/src/html/flashsites/fullscreen/deploy/ping.png
new file mode 100644
index 0000000..b137fd3
Binary files /dev/null and b/src/html/flashsites/fullscreen/deploy/ping.png differ
diff --git a/src/html/flashsites/fullscreen/deploy/tracking.xml b/src/html/flashsites/fullscreen/deploy/tracking.xml
new file mode 100755
index 0000000..c4dc143
--- /dev/null
+++ b/src/html/flashsites/fullscreen/deploy/tracking.xml
@@ -0,0 +1,68 @@
+&lt;?xml version="1.0" encoding="utf-8"?>
+&lt;tracking>
+	&lt;!--
+		Define &lt;track id=""> nodes.
+		The track tag must have a unique ID to identify it.
+		
+		supported tags in a &lt;track> node:
+			webtrends
+			atlas
+			ganalytics
+			redirect
+		
+		#webtrends
+			The webtrends node is a comma seperated list of values.
+			0=dcsuri, 1=ti, 2=cg_n
+		
+		#atlas
+			An atlas tag. Is just a 1x1 gif.
+		
+		#ganalitycs
+			The ganalytics tag is for google analytics, it fires a
+			pagetrack with the value of whatever is in the tag.
+		
+		#redirect
+			The redirect tag supports these attributes:
+				target -> any valid HTML 4 target for an &lt;a> tag.
+				windowParameters -> any valid javascript window parameters
+			Examples:
+				normal redirect in _self (default) -> &lt;redirect>http://www.google.com&lt;/redirect>
+				popup with window parameters -> 
+					&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+				
+		If any nodes (webtrends,atlas,ganalytics,redirect) aren't in a target &lt;track>
+		node, that functionality is not attempted. So you could leave
+		out the webtrends tag for a track, and it will not attempt to fire
+		webtrends. Same for any other nodes, and you can mix and match how you like.
+	-->
+	&lt;track id="goToGoogle">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect>http://www.google.com&lt;/redirect>
+		&lt;ganalytics>/videos/play&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="goToGooglePopup">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+		&lt;ganalytics>/videos/play&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="noRedirectsOrPopups">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+	&lt;/track>
+	&lt;track id="atlasOnly">
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+	&lt;/track>
+	&lt;track id="webtrendsOnly">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+	&lt;/track>
+	&lt;track id="webtrendsOnlyAndPopup">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+	&lt;/track>
+	&lt;track id="atlasOnlyAndPopup">
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+	&lt;/track>
+&lt;/tracking>
\ No newline at end of file
diff --git a/src/html/flashsites/sized/classes/Main.as b/src/html/flashsites/sized/classes/Main.as
new file mode 100644
index 0000000..c127a17
--- /dev/null
+++ b/src/html/flashsites/sized/classes/Main.as
@@ -0,0 +1,24 @@
+package
+{
+	
+	import net.guttershark.control.DocumentController;	
+	
+	public class Main extends DocumentController 
+	{
+		
+		public function Main()
+		{
+			super();
+		}
+		
+		override protected function flashvarsForStandalone():Object
+		{
+			return {siteXML:"site.xml",sniffBandwidth:true,sniffCPU:true};
+		}
+		
+		override protected function setupComplete():void
+		{
+
+		}
+	}
+}
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/bandwidth.jpg b/src/html/flashsites/sized/deploy/bandwidth.jpg
new file mode 100755
index 0000000..130d889
Binary files /dev/null and b/src/html/flashsites/sized/deploy/bandwidth.jpg differ
diff --git a/src/html/flashsites/sized/deploy/css/reset.css b/src/html/flashsites/sized/deploy/css/reset.css
new file mode 100644
index 0000000..13f8e0a
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/css/reset.css
@@ -0,0 +1,53 @@
+/* http://meyerweb.com/eric/tools/css/reset/ */
+/* v1.0 | 20080212 */
+
+html, body, div, span, applet, object, iframe,
+h1, h2, h3, h4, h5, h6, p, blockquote, pre,
+a, abbr, acronym, address, big, cite, code,
+del, dfn, em, font, img, ins, kbd, q, s, samp,
+small, strike, strong, sub, sup, tt, var,
+b, u, i, center,
+dl, dt, dd, ol, ul, li,
+fieldset, form, label, legend,
+table, caption, tbody, tfoot, thead, tr, th, td {
+	margin: 0;
+	padding: 0;
+	border: 0;
+	outline: 0;
+	font-size: 100%;
+	vertical-align: baseline;
+	background: transparent;
+}
+body {
+	line-height: 1;
+}
+ol, ul {
+	list-style: none;
+}
+blockquote, q {
+	quotes: none;
+}
+blockquote:before, blockquote:after,
+q:before, q:after {
+	content: '';
+	content: none;
+}
+
+/* remember to define focus styles! */
+:focus {
+	outline: 0;
+}
+
+/* remember to highlight inserts somehow! */
+ins {
+	text-decoration: none;
+}
+del {
+	text-decoration: line-through;
+}
+
+/* tables still need 'cellspacing="0"' in the markup */
+table {
+	border-collapse: collapse;
+	border-spacing: 0;
+}
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/index.html b/src/html/flashsites/sized/deploy/index.html
new file mode 100644
index 0000000..399509e
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/index.html
@@ -0,0 +1,37 @@
+&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+&lt;head>
+	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
+	&lt;title>&lt;/title>
+	&lt;script type="text/javascript" src="js/swfobject.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/swfmacmousewheel2.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/swffit.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/guttershark.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/tracking.js">&lt;/script>
+	&lt;script type="text/javascript" src="js/wt.js">&lt;/script>
+	&lt;style type="text/css" media="all">@import "css/reset.css";&lt;/style>
+	&lt;style type="text/css">
+		#flashcontent{z-index:10;}
+	&lt;/style>
+&lt;/head>
+&lt;body>
+&lt;div id="flashcontent">
+	&lt;h3>You need to upgrade your flash player.&lt;/h3>
+	&lt;p>&lt;a href="http://www.adobe.com/go/getflashplayer">&lt;img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />&lt;/a>&lt;/p>
+	&lt;noscript>
+		You need Javascript enabled to view this flash content.
+	&lt;/noscript>
+&lt;/div>
+&lt;script type="text/javascript">
+	var vars = {model:"model.xml"};
+	var params = {scale:'noScale',salign:'lt',menu:'false'};
+	var attributes = {id:'flaswf',name:'flaswf'};
+	swfobject.embedSWF("main.swf","flashcontent","600","400","9.0.0","js/expressInstall.swf",vars,params,attributes);
+	swffit(attributes.id,550,450,550,450,true);
+	try{swfmacmousewheel.registerObject(attributes.id);}catch(e){}
+	setupTracking('tracking.xml');
+&lt;/script>
+&lt;noscript>&lt;img border="0" name="DCSIMG" width="1" height="1" src="http://" + gDomain + "/" + gDcsId + "/njs.gif?dcsuri=/nojavascript&WT.js=No" style="display:none"/>&lt;/noscript>
+&lt;img style="display:none" id="atlas_tag" src="" />
+&lt;/body>
+&lt;/html>
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/js/expressInstall.swf b/src/html/flashsites/sized/deploy/js/expressInstall.swf
new file mode 100755
index 0000000..86958bf
Binary files /dev/null and b/src/html/flashsites/sized/deploy/js/expressInstall.swf differ
diff --git a/src/html/flashsites/sized/deploy/js/guttershark.js b/src/html/flashsites/sized/deploy/js/guttershark.js
new file mode 100644
index 0000000..f8bece8
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/js/guttershark.js
@@ -0,0 +1 @@
+alert("Please grab the guttershark.js file from lib/js/guttershark.js. This is just a placeholder.");
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/js/swffit.js b/src/html/flashsites/sized/deploy/js/swffit.js
new file mode 100644
index 0000000..4ee23ca
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/js/swffit.js
@@ -0,0 +1,5 @@
+/*	swffit v1.0 (03/25/2008) &lt;http://swffit.millermedeiros.com/>
+	Copyright (c) 2008 Miller Medeiros &lt;http://www.millermedeiros.com/>
+	This software is released under the MIT License &lt;http://www.opensource.org/licenses/mit-license.php>
+*/
+var NS=(navigator.appName=='Netscape')?true:false;var ft;var mw;var mh;var xw;var xh;var xc;function swffit(t,w,h,_w,_h,c){if(t&&w&&h){ft=t;mw=w;mh=h;xw=_w;xh=_h;xc=(c||c==null)?true:false;if(swfobject.isDomLoaded){startFit()}else{swfobject.addDomLoadEvent(startFit)}}}function gEBI(x){return x}function startFit(){document.getElementsByTagName('html')[0].style.height='100%';document.body.style.margin='0';document.body.style.padding='0';document.body.style.height='100%';if(swfobject.getObjectById(ft)){ft=swfobject.getObjectById(ft)}else{ft=(NS)?document.getElementById(ft).getElementsByTagName('object')[0]:document.getElementById(ft)}gEBI(ft).style.position='absolute';window.onresize=fit;fit()}function fit(){iw=(NS)?window.innerWidth:document.body.clientWidth;ih=(NS)?window.innerHeight:document.body.clientHeight;if(iw>xw&&xw){gEBI(ft).style.width=xw+'px';if(xc){gEBI(ft).style.left='50%';gEBI(ft).style.marginLeft=-(xw/2)+'px'}}else{if(iw>mw&&(iw&lt;xw||!xw)){gEBI(ft).style.width='100%'}else{gEBI(ft).style.width=mw+'px'}if(xc){gEBI(ft).style.left='auto';gEBI(ft).style.marginLeft='0'}}if(ih>xh&&xh){gEBI(ft).style.height=xh+'px';if(xc){gEBI(ft).style.top='50%';gEBI(ft).style.marginTop=-(xh/2)+'px'}}else{if(ih>mh&&(ih&lt;xh||!xh)){gEBI(ft).style.height='100%'}else{gEBI(ft).style.height=mh+'px'}if(xc){gEBI(ft).style.top='auto';gEBI(ft).style.marginTop='0'}}};
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/js/swfmacmousewheel2.js b/src/html/flashsites/sized/deploy/js/swfmacmousewheel2.js
new file mode 100644
index 0000000..407a8da
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/js/swfmacmousewheel2.js
@@ -0,0 +1,4 @@
+/**
+ * SWFMacMouseWheel v2.0: Mac Mouse Wheel functionality in flash - http://blog.pixelbreaker.com/
+ */
+var swfmacmousewheel=function(){if(!swfobject)return null;var u=navigator.userAgent.toLowerCase();var p=navigator.platform.toLowerCase();var d=p?/mac/.test(p):/mac/.test(u);if(!d)return null;var k=[];var r=function(event){var o=0;if(event.wheelDelta){o=event.wheelDelta/120;if(window.opera)o= -o;}else if(event.detail){o= -event.detail;}if(event.preventDefault)event.preventDefault();return o;};var l=function(event){var o=r(event);var c;for(var i=0;i&lt;k.length;i++){c=swfobject.getObjectById(k[i]);if(typeof(c.externalMouseEvent)=='function')c.externalMouseEvent(o);}};if(window.addEventListener)window.addEventListener('DOMMouseScroll',l,false);window.onmousewheel=document.onmousewheel=l;return{registerObject:function(m){k[k.length]=m;}};}();
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/js/swfobject.js b/src/html/flashsites/sized/deploy/js/swfobject.js
new file mode 100755
index 0000000..b243b2d
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/js/swfobject.js
@@ -0,0 +1,5 @@
+/*	SWFObject v2.0 rc2 &lt;http://code.google.com/p/swfobject/>
+	Copyright (c) 2007 Geoff Stearns, Michael Williams, and Bobby van der Sluis
+	This software is released under the MIT License &lt;http://www.opensource.org/licenses/mit-license.php>
+*/
+var swfobject=function(){var _1=[];var _2=[];var _3=null;var _4=null;var _5=false;var _6=false;var ua=function(){var _8=typeof document.getElementById!="undefined"&&typeof document.getElementsByTagName!="undefined"&&typeof document.createElement!="undefined"&&typeof document.appendChild!="undefined"&&typeof document.replaceChild!="undefined"&&typeof document.removeChild!="undefined"&&typeof document.cloneNode!="undefined";var _9=[0,0,0];var d=null;if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]=="object"){d=navigator.plugins["Shockwave Flash"].description;if(d){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");_9[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);_9[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);_9[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof window.ActiveXObject!="undefined"){var a=null;var _c=false;try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");_9=[6,0,21];a.AllowScriptAccess="always";}catch(e){if(_9[0]==6){_c=true;}}if(!_c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}}if(!_c&&a){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");_9=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e){}}}}var u=navigator.userAgent.toLowerCase();var p=navigator.platform.toLowerCase();var _f=/webkit/.test(u);var _10=_f?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):0;var ie=false;var win=p?/win/.test(p):/win/.test(u);var mac=p?/mac/.test(p):/mac/.test(u);/*@cc_on ie=true;@if(@_win32)win=true;@elif(@_mac)mac=true;@end@*/return {w3cdom:_8,playerVersion:_9,webkit:_f,webkitVersion:_10,ie:ie,win:win,mac:mac};}();var _14=function(){if(!ua.w3cdom){return;}addDomLoadEvent(main);if(ua.ie&&ua.win){try{document.write("&lt;scr"+"ipt id=__ie_ondomload defer=true src=//:>&lt;/scr"+"ipt>");var s=document.getElementById("__ie_ondomload");if(s){s.onreadystatechange=function(){if(this.readyState=="complete"){this.parentNode.removeChild(this);callDomLoadFunctions();}};}}catch(e){}}if(ua.webkit&&typeof document.readyState!="undefined"){_3=setInterval(function(){if(/loaded|complete/.test(document.readyState)){callDomLoadFunctions();}},10);}if(typeof document.addEventListener!="undefined"){document.addEventListener("DOMContentLoaded",callDomLoadFunctions,null);}addLoadEvent(callDomLoadFunctions);}();function callDomLoadFunctions(){if(_5){return;}if(ua.ie&&ua.win){var s=document.createElement("span");try{var t=document.getElementsByTagName("body")[0].appendChild(s);t.parentNode.removeChild(t);}catch(e){return;}}_5=true;if(_3){clearInterval(_3);_3=null;}var dl=_1.length;for(var i=0;i&lt;dl;i++){_1[i]();}}function addDomLoadEvent(fn){if(_5){fn();}else{_1[_1.length]=fn;}}function addLoadEvent(fn){if(typeof window.addEventListener!="undefined"){window.addEventListener("load",fn,false);}else{if(typeof document.addEventListener!="undefined"){document.addEventListener("load",fn,false);}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",fn);}else{if(typeof window.onload=="function"){var _1c=window.onload;window.onload=function(){_1c();fn();};}else{window.onload=fn;}}}}}function main(){var rl=_2.length;for(var i=0;i&lt;rl;i++){var id=_2[i].id;if(ua.playerVersion[0]>0){var obj=document.getElementById(id);if(obj){_2[i].width=obj.getAttribute("width")?obj.getAttribute("width"):"0";_2[i].height=obj.getAttribute("height")?obj.getAttribute("height"):"0";if(hasPlayerVersion(_2[i].swfVersion)){if(ua.webkit&&ua.webkitVersion&lt;312){fixParams(obj);}}else{if(_2[i].expressInstall&&!_6&&hasPlayerVersion([6,0,65])&&(ua.win||ua.mac)){showExpressInstall(_2[i]);}else{displayAltContent(obj);}}}}createCSS("#"+id,"visibility:visible");}}function fixParams(obj){var _22=obj.getElementsByTagName("object")[0];if(_22){var e=document.createElement("embed");var a=_22.attributes;if(a){var al=a.length;for(var i=0;i&lt;al;i++){if(a[i].nodeName.toLowerCase()=="data"){e.setAttribute("src",a[i].nodeValue);}else{e.setAttribute(a[i].nodeName,a[i].nodeValue);}}}var c=_22.childNodes;if(c){var cl=c.length;for(var j=0;j&lt;cl;j++){if(c[j].nodeType==1&&c[j].nodeName.toLowerCase()=="param"){e.setAttribute(c[j].getAttribute("name"),c[j].getAttribute("value"));}}}obj.parentNode.replaceChild(e,obj);}}function fixObjectLeaks(id){if(ua.ie&&ua.win&&hasPlayerVersion([8,0,0])){window.attachEvent("onunload",function(){var obj=document.getElementById(id);for(var i in obj){if(typeof obj[i]=="function"){obj[i]=function(){};}}obj.parentNode.removeChild(obj);});}}function showExpressInstall(_2d){_6=true;var obj=document.getElementById(_2d.id);if(obj){if(_2d.altContentId){var ac=document.getElementById(_2d.altContentId);if(ac){_4=ac;}}else{_4=abstractAltContent(obj);}if(!(/%$/.test(_2d.width))&&parseInt(_2d.width,10)&lt;310){_2d.width="310";}if(!(/%$/.test(_2d.height))&&parseInt(_2d.height,10)&lt;137){_2d.height="137";}var pt=ua.ie&&ua.win?"ActiveX":"PlugIn";document.title=document.title.slice(0,47)+" - Flash Player Installation";var dt=document.title;var fv="MMredirectURL="+window.location+"&MMplayerType="+pt+"&MMdoctitle="+dt;var _33=_2d.id;if(ua.ie&&ua.win&&obj.readyState!=4){var _34=document.createElement("div");_33+="SWFObjectNew";_34.setAttribute("id",_33);obj.parentNode.insertBefore(_34,obj);obj.style.display="none";window.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}createSWF({data:_2d.expressInstall,id:"SWFObjectExprInst",width:_2d.width,height:_2d.height},{flashvars:fv},_33);}}function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=document.createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";window.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}function abstractAltContent(obj){var ac=document.createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}else{var _39=obj.getElementsByTagName("object")[0];if(_39){var c=_39.childNodes;if(c){var cl=c.length;for(var i=0;i&lt;cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName.toLowerCase()=="param")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}return ac;}function createSWF(_3d,_3e,id){var r;var el=document.getElementById(id);if(typeof _3d.id=="undefined"){_3d.id=id;}if(ua.ie&&ua.win){var att="";for(var i in _3d){if(_3d[i]!=Object.prototype[i]){if(i=="data"){_3e.movie=_3d[i];}else{if(i.toLowerCase()=="styleclass"){att+=" class=\""+_3d[i]+"\"";}else{if(i!="classid"){att+=" "+i+"=\""+_3d[i]+"\"";}}}}}var par="";for(var j in _3e){if(_3e[j]!=Object.prototype[j]){par+="&lt;param name=\""+j+"\" value=\""+_3e[j]+"\" />";}}el.outerHTML="&lt;object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\""+att+">"+par+"&lt;/object>";fixObjectLeaks(_3d.id);r=document.getElementById(_3d.id);}else{if(ua.webkit&&ua.webkitVersion&lt;312){var e=document.createElement("embed");e.setAttribute("type","application/x-shockwave-flash");for(var k in _3d){if(_3d[k]!=Object.prototype[k]){if(k=="data"){e.setAttribute("src",_3d[k]);}else{if(k.toLowerCase()=="styleclass"){e.setAttribute("class",_3d[k]);}else{if(k!="classid"){e.setAttribute(k,_3d[k]);}}}}}for(var l in _3e){if(_3e[l]!=Object.prototype[l]){if(l!="movie"){e.setAttribute(l,_3e[l]);}}}el.parentNode.replaceChild(e,el);r=e;}else{var o=document.createElement("object");o.setAttribute("type","application/x-shockwave-flash");for(var m in _3d){if(_3d[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",_3d[m]);}else{if(m!="classid"){o.setAttribute(m,_3d[m]);}}}}for(var n in _3e){if(_3e[n]!=Object.prototype[n]&&n!="movie"){createObjParam(o,n,_3e[n]);}}el.parentNode.replaceChild(o,el);r=o;}}return r;}function createObjParam(el,_4d,_4e){var p=document.createElement("param");p.setAttribute("name",_4d);p.setAttribute("value",_4e);el.appendChild(p);}function hasPlayerVersion(rv){return (ua.playerVersion[0]>rv[0]||(ua.playerVersion[0]==rv[0]&&ua.playerVersion[1]>rv[1])||(ua.playerVersion[0]==rv[0]&&ua.playerVersion[1]==rv[1]&&ua.playerVersion[2]>=rv[2]))?true:false;}function createCSS(sel,_52){if(ua.ie&&ua.mac){return;}var h=document.getElementsByTagName("head")[0];var s=document.createElement("style");s.setAttribute("type","text/css");s.setAttribute("media","screen");if(!(ua.ie&&ua.win)&&typeof document.createTextNode!="undefined"){s.appendChild(document.createTextNode(sel+" {"+_52+"}"));}h.appendChild(s);if(ua.ie&&ua.win&&typeof document.styleSheets!="undefined"&&document.styleSheets.length>0){var ls=document.styleSheets[document.styleSheets.length-1];if(typeof ls.addRule=="object"){ls.addRule(sel,_52);}}}return {registerObject:function(_56,_57,_58){if(!ua.w3cdom||!_56||!_57){return;}var _59={};_59.id=_56;var v=_57.split(".");_59.swfVersion=[parseInt(v[0],10),parseInt(v[1],10),parseInt(v[2],10)];_59.expressInstall=_58?_58:false;_2[_2.length]=_59;createCSS("#"+_56,"visibility:hidden");},getObjectById:function(_5b){var r=null;if(ua.w3cdom&&_5){var o=document.getElementById(_5b);if(o){var n=o.getElementsByTagName("object")[0];if(!n||(n&&typeof o.SetVariable!="undefined")){r=o;}else{if(typeof n.SetVariable!="undefined"){r=n;}}}}return r;},embedSWF:function(_5f,_60,_61,_62,_63,_64,_65,_66,_67){if(!ua.w3cdom||!_5f||!_60||!_61||!_62||!_63){return;}_61+="";_62+="";if(hasPlayerVersion(_63.split("."))){createCSS("#"+_60,"visibility:hidden");var att=(typeof _67=="object")?_67:{};att.data=_5f;att.width=_61;att.height=_62;var par=(typeof _66=="object")?_66:{};if(typeof _65=="object"){for(var i in _65){if(_65[i]!=Object.prototype[i]){if(typeof par.flashvars!="undefined"){par.flashvars+="&"+i+"="+_65[i];}else{par.flashvars=i+"="+_65[i];}}}}addDomLoadEvent(function(){createSWF(att,par,_60);createCSS("#"+_60,"visibility:visible");});}else{if(_64&&!_6&&hasPlayerVersion([6,0,65])&&(ua.win||ua.mac)){createCSS("#"+_60,"visibility:hidden");addDomLoadEvent(function(){var _6b={};_6b.id=_6b.altContentId=_60;_6b.width=_61;_6b.height=_62;_6b.expressInstall=_64;showExpressInstall(_6b);createCSS("#"+_60,"visibility:visible");});}}},getFlashPlayerVersion:function(){return {major:ua.playerVersion[0],minor:ua.playerVersion[1],release:ua.playerVersion[2]};},hasFlashPlayerVersion:function(_6c){return hasPlayerVersion(_6c.split("."));},createSWF:function(_6d,_6e,_6f){if(ua.w3cdom&&_5){return createSWF(_6d,_6e,_6f);}else{return undefined;}},createCSS:function(sel,_71){if(ua.w3cdom){createCSS(sel,_71);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(_72){var q=document.location.search||document.location.hash;if(_72==null){return q;}if(q){var _74=q.substring(1).split("&");for(var i=0;i&lt;_74.length;i++){if(_74[i].substring(0,_74[i].indexOf("="))==_72){return _74[i].substring((_74[i].indexOf("=")+1));}}}return "";},expressInstallCallback:function(){if(_6&&_4){var obj=document.getElementById("SWFObjectExprInst");if(obj){obj.parentNode.replaceChild(_4,obj);_4=null;_6=false;}}}};}();
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/js/tracking.js b/src/html/flashsites/sized/deploy/js/tracking.js
new file mode 100755
index 0000000..d623192
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/js/tracking.js
@@ -0,0 +1 @@
+alert("Please grab the tracking.js from guttershark/lib/js/tracking/js/tracking.js.");
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/js/wt.js b/src/html/flashsites/sized/deploy/js/wt.js
new file mode 100755
index 0000000..dc3a634
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/js/wt.js
@@ -0,0 +1,742 @@
+//Tag Version: MNP 2.0/7-30-07
+var gTagVer = "MNP 2.0/7-30-07";
+var gService = true;
+var gTimeZone = -8;
+function dcsCookie(){
+	if (typeof(dcsOther)=="function"){
+		dcsOther();
+	}
+	else if (typeof(dcsPlugin)=="function"){
+		dcsPlugin();
+	}
+	else if (typeof(dcsFPC)=="function"){
+		dcsFPC(gTimeZone);
+	}
+}
+function dcsGetCookie(name){
+	var pos=document.cookie.indexOf(name+"=");
+	if (pos!=-1){
+		var start=pos+name.length+1;
+		var end=document.cookie.indexOf(";",start);
+		if (end==-1){
+			end=document.cookie.length;
+		}
+		return unescape(document.cookie.substring(start,end));
+	}
+	return null;
+}
+function dcsGetCrumb(name,crumb){
+	var aCookie=dcsGetCookie(name).split(":");
+	for (var i=0;i&lt;aCookie.length;i++){
+		var aCrumb=aCookie[i].split("=");
+		if (crumb==aCrumb[0]){
+			return aCrumb[1];
+		}
+	}
+	return null;
+}
+function dcsGetIdCrumb(name,crumb){
+	var cookie=dcsGetCookie(name);
+	var id=cookie.substring(0,cookie.indexOf(":lv="));
+	var aCrumb=id.split("=");
+	for (var i=0;i&lt;aCrumb.length;i++){
+		if (crumb==aCrumb[0]){
+			return aCrumb[1];
+		}
+	}
+	return null;
+}
+function dcsFPC(offset){
+	if (typeof(offset)=="undefined"){
+		return;
+	}
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var name=gFpc;
+	var dCur=new Date();
+	var adj=(dCur.getTimezoneOffset()*60000)+(offset*3600000);
+	dCur.setTime(dCur.getTime()+adj);
+	var dExp=new Date(dCur.getTime()+315360000000);
+	var dSes=new Date(dCur.getTime());
+	if (document.cookie.indexOf(name+"=")==-1){
+		if ((typeof(gWtId)!="undefined")&&(gWtId!="")){
+			WT.co_f=gWtId;
+		}
+		else if ((typeof(gTempWtId)!="undefined")&&(gTempWtId!="")){
+			WT.co_f=gTempWtId;
+			WT.vt_f="1";
+		}
+		else{
+			WT.co_f="2";
+			var cur=dCur.getTime().toString();
+			for (var i=2;i&lt;=(32-cur.length);i++){
+				WT.co_f+=Math.floor(Math.random()*16.0).toString(16);
+			}
+			WT.co_f+=cur;
+			WT.vt_f="1";
+		}
+		if (typeof(gWtAccountRollup)=="undefined"){
+			WT.vt_f_a="1";
+		}
+		WT.vt_f_s="1";
+		WT.vt_f_d="1";
+		WT.vt_f_tlh=WT.vt_f_tlv="0";
+	}
+	else{
+		var id=dcsGetIdCrumb(name,"id");
+		var lv=parseInt(dcsGetCrumb(name,"lv"));
+		var ss=parseInt(dcsGetCrumb(name,"ss"));
+		if ((id==null)||(id=="null")||isNaN(lv)||isNaN(ss)){
+			return;
+		}
+		WT.co_f=id;
+		var dLst=new Date(lv);
+		WT.vt_f_tlh=Math.floor((dLst.getTime()-adj)/1000);
+		dSes.setTime(ss);
+		if ((dCur.getTime()>(dLst.getTime()+1800000))||(dCur.getTime()>(dSes.getTime()+28800000))){
+			WT.vt_f_tlv=Math.floor((dSes.getTime()-adj)/1000);
+			dSes.setTime(dCur.getTime());
+			WT.vt_f_s="1";
+		}
+		if ((dCur.getDay()!=dLst.getDay())||(dCur.getMonth()!=dLst.getMonth())||(dCur.getYear()!=dLst.getYear())){
+			WT.vt_f_d="1";
+		}
+	}
+	WT.co_f=escape(WT.co_f);
+	WT.vt_sid=WT.co_f+"."+(dSes.getTime()-adj);
+	var expiry="; expires="+dExp.toGMTString();
+	document.cookie=name+"="+"id="+WT.co_f+":lv="+dCur.getTime().toString()+":ss="+dSes.getTime().toString()+expiry+"; path=/"+(((typeof(gFpcDom)!="undefined")&&(gFpcDom!=""))?("; domain="+gFpcDom):(""));
+	if (document.cookie.indexOf(name+"=")==-1){
+		WT.co_f=WT.vt_sid=WT.vt_f_s=WT.vt_f_d=WT.vt_f_tlh=WT.vt_f_tlv="";
+		WT.vt_f=WT.vt_f_a="2";
+	}
+}
+
+var gFpcDom=".microsoft.com";
+
+function dcsEvt(evt,tag){
+	var e=evt.target||evt.srcElement;
+	while (e.tagName&&(e.tagName!=tag)){
+		e=e.parentElement||e.parentNode;
+	}
+	return e;
+}
+function dcsBind(event,func){
+	if ((typeof(window[func])=="function")&&document.body){
+		if (document.body.addEventListener){
+			document.body.addEventListener(event, window[func], true);
+		}
+		else if(document.body.attachEvent){
+			document.body.attachEvent("on"+event, window[func]);
+		}
+	}
+}
+function dcsET(){
+	dcsBind("click","dcsDownload");
+	dcsBind("click","dcsFormButton");
+	dcsBind("keypress","dcsFormButton");
+	dcsBind("click","dcsImageMap");
+}
+// custom version
+function dcsMultiTrack(){
+	for (var i=0;i&lt;arguments.length;i++){
+		if (arguments[i].indexOf('WT.')==0){
+			WT[arguments[i].substring(3)]=
+			arguments[i+1];i++;
+		}
+		if (arguments[i].indexOf('DCS.')==0){
+			DCS[arguments[i].substring(4)]=
+			arguments[i+1];i++;
+		}
+		if (arguments[i].indexOf('DCSext.')==0){
+			DCSext[arguments[i].substring(7)]=
+			arguments[i+1];i++;
+		}
+	}
+	var dCurrent=new Date();
+	DCS.dcsdat=dCurrent.getTime();
+	dcsTag();
+}
+// function dcsMultiTrack(){
+// 	alert("dcsMultiTrack");
+// 	if (arguments.length%2==0){
+// 		for (var i=0;i&lt;arguments.length;i+=2){
+// 			if (arguments[i].indexOf('WT.')==0){
+// 				WT[arguments[i].substring(3)]=arguments[i+1];
+// 			}
+// 			else if (arguments[i].indexOf('DCS.')==0){
+// 				DCS[arguments[i].substring(4)]=arguments[i+1];
+// 			}
+// 			else if (arguments[i].indexOf('DCSext.')==0){
+// 				DCSext[arguments[i].substring(7)]=arguments[i+1];
+// 			}
+// 		}
+// 		var dCurrent=new Date();
+// 		DCS.dcsdat=dCurrent.getTime();
+// 		dcsTag();
+// 	}
+// }
+function dcsDownload(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var e=dcsEvt(evt,"A");
+		if(e){
+			if (e.hostname&&e.href&&e.protocol&&(e.protocol.indexOf("http")!=-1)){
+				dcsNavigation(e);
+				var gPath=e.pathname?((e.pathname.indexOf("/")!=0)?"/"+e.pathname:e.pathname):"/";				
+				if(document.all){var gTitle=e.innerText||e.innerHTML||"";}else{var gTitle=e.text||e.innerHTML||"";}
+				dcsMultiTrack("DCS.dcssip",e.hostname,"DCS.dcsuri",gPath,"DCS.dcsqry",e.search||"","WT.ti","Link:"+gTitle,"WT.dl","1","WT.ad","","WT.mc_id","","WT.sp","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl=gTitle=gPath="";
+			}
+		}
+	}
+}
+function dcsNavigation(wtnode){
+	try{
+	var wtCount=0;
+	while(wtCount!=1){
+		if(wtnode.parentNode.tagName!="DIV"){
+			wtnode=wtnode.parentNode;
+		}
+		if(wtnode.parentNode.tagName=="DIV"){
+			if((wtnode.parentNode.getAttribute('id'))||(wtnode.parentNode.className)){
+				DCSext.wtNavigation = wtnode.parentNode.getAttribute("id")||wtnode.parentNode.className;
+				wtCount=1;
+			}
+			else{
+				wtnode=wtnode.parentNode;
+			}		
+		}
+	}}
+	catch(error){}				
+}
+function dcsRightClick(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var btn=evt.which||evt.button;
+		if (btn!=1){
+			var e=dcsEvt(evt,"A");
+			if(e){
+			if (e.hostname&&e.href&&e.protocol&&(e.protocol.indexOf("http")!=-1)){
+				var gPath=e.pathname?((e.pathname.indexOf("/")!=0)?"/"+e.pathname:e.pathname):"/";				
+				if(document.all){var gTitle=e.innerText||e.innerHTML||"";}else{var gTitle=e.text||e.innerHTML||"";}
+				dcsMultiTrack("DCS.dcssip",e.hostname,"DCS.dcsuri",gPath,"DCS.dcsqry",e.search||"","WT.ti","Link:"+gTitle,"WT.dl","1","WT.rc","1","WT.ad","","WT.mc_id","","WT.sp","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl=gTitle=WT.rc=gPath="";
+			}
+		}
+		}
+	}
+}
+function dcsImageMap(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var f=dcsEvt(evt,"AREA");
+		if(f){
+			if (f.hostname&&f.href&&f.protocol&&(f.protocol.indexOf("http")!=-1)){
+				var path=f.pathname?((f.pathname.indexOf("/")!=0)?"/"+f.pathname:f.pathname):"/";
+				dcsMultiTrack("DCS.dcssip",f.hostname,"DCS.dcsuri",path,"DCS.dcsqry",f.search||"","WT.ti","Link:Image Map","WT.dl","1","WT.ad","","WT.mc_id","","WT.sp","","DCSext.wt_link_e","c","DCSext.wt_linkid","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl="";
+			}			
+		}
+	}
+}
+function dcsFormButton(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var e=dcsEvt(evt,"INPUT");
+		var type=e.type||"";
+		if (type&&((type=="submit")||(type=="image")||(type=="button")||(type=="reset"))||((type=="text")&&((evt.which||evt.keyCode)==13))){
+			var gUri=gTitle=gMethod=qry="";
+			if(e.form){
+				var elems=e.form.elements;
+				for (var i=0;i&lt;elems.length;i++){
+					var etype=elems[i].type;
+					if (etype=="text"){
+						qry+=((qry=="")?"":"&")+escape(elems[i].name)+"="+escape(elems[i].value);
+					}
+				}
+				gUri=e.form.action||window.location.pathname;
+				gTitle=e.form.id||e.form.className||e.form.name||"Unknown";
+				gMethod=e.form.method||"Unknown";
+			}
+			else{
+				gUri=window.location.pathname;
+				gTitle=e.name||e.id||"Unknown";
+				gMethod="Input";
+			}
+			if((gUri!="")&&(gTitle!="")&&(gMethod!="")&&(evt.keyCode!=9)){
+				dcsMultiTrack("DCS.dcsuri",gUri,"DCS.dcsqry",qry,"WT.ti","FormButton:"+gTitle,"WT.dl","2","WT.fm",gMethod,"WT.ad","","WT.mc_id","","WT.sp","");
+			}
+			DCS.dcsuri=DCS.dcsqry=qry=WT.ti=WT.dl=WT.fm=gUri=gTitle=gMethod="";
+		}
+	}
+}
+function dcsAdSearch(){
+	if (document.links){
+		for (var i=0;i&lt;document.links.length;i++){
+			var anch=document.links[i].href+"";
+			var pos=anch.toUpperCase().indexOf("WT.AC=");
+			if (pos!=-1){
+				var start=pos+6;
+				var end=anch.indexOf("&",start);
+				var value=anch.substring(start,(end!=-1)?end:anch.length);
+				WT.ad=WT.ad?(WT.ad+";"+value):value;
+			}
+		}
+	}
+}
+function dcsNvr(){
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var cur=new Date();
+	var exp=new Date(cur.getTime()+315360000000);
+	var cfields={name:"WT_NVR",value:"",expiry:"; expires="+exp.toGMTString(),path:"; path=/",domain:"; domain="+window.location.hostname};
+	var cdata=dcsNvrRead(cfields.name);
+	var isnew=dcsNvrProcess(cdata);
+	if (isnew||dcsNvrFind(cfields.name,",")){
+		var c=dcsNvrCompose(cdata,cfields);
+		for (var i=0;i&lt;c.length;i++){
+			document.cookie=c[i];
+		}
+	}
+	if (isnew){
+		var val=(document.cookie.indexOf(cfields.name+"=")!=-1)?"1":"2";
+		for (var i=0;i&lt;cdata.length;i++){
+			if (cdata[i][1]){
+				WT["vt_nvr"+(i+1)]=val;
+			}
+		}
+	}
+}
+
+function dcsNvrRead(name){
+	var data=new Array();
+	var num=0;
+	var re=/,/g;
+	var value=dcsNvrGetCookie(name);
+	while(value){
+		var levels=value.split(":");
+		for (var i=0;i&lt;levels.length;i++){
+			var crumbs=levels[i].split("=");
+			var level=parseInt(crumbs[0]);
+			var paths=crumbs[1].replace(re,"|").split("|");
+			if (typeof(data[level])!="object"){
+				data[level]=new Array(paths,false);
+			}
+			else{
+				data[level][0]=data[level][0].concat(paths);
+			}
+		}
+		num++;
+		value=dcsNvrGetCookie(name+num);
+	}
+	return data;
+}
+
+function dcsNvrFind(name,tofind){
+	var found=false;
+	var num=0;
+	var value=dcsNvrGetCookie(name);
+	while(value){
+		if (value.indexOf(tofind)!=-1){
+			found=true;
+			break;
+		}
+		num++;
+		value=dcsNvrGetCookie(name+num);
+	}
+	return found;
+}
+
+function dcsNvrGetCookie(name){
+	var pos=document.cookie.indexOf(name+"=");
+	if (pos!=-1){
+		var start=pos+name.length+1;
+		var end=document.cookie.indexOf(";",start);
+		if (end==-1){
+			end=document.cookie.length;
+		}
+		return document.cookie.substring(start,end);
+	}
+	return null;
+}
+
+function dcsNvrProcess(data){
+	var newv=false;
+	var maxlevel=3;
+	var curlevel=0;
+	var splitp=new Array();
+	var p=window.location.pathname;
+	var curpath=p.substring(p.indexOf("/")+1,p.lastIndexOf("/")).toLowerCase();
+	var badchars={"%09":/\t/g,"%20":/ /g,"%2C":/,/g,"%3B":/;/g};
+	var tmp=new String(curpath);
+	for (var ch in badchars){
+		tmp=tmp.replace(badchars[ch],ch);
+	}
+	curpath=tmp;
+
+	if (curpath.length>1){
+		splitp=curpath.split("/",maxlevel);
+		curlevel=splitp.length;
+		curpath=splitp.join("/");
+	}
+	if (data.length>0){
+		var found=false;
+		if (data.length>curlevel){
+			for (var i=0;i&lt;data[curlevel][0].length;i++){
+				if (data[curlevel][0][i]==curpath){
+					found=true;
+					break;
+				}
+			}
+			if (!found){
+				data[curlevel][0][data[curlevel][0].length]=curpath;
+				data[curlevel][1]=true;
+				newv=true;
+			}
+		}
+		else{
+			for (var i=0;i&lt;(curlevel+1);i++){
+				if (typeof(data[i])!="object"){
+					data[i]=new Array([(i==0)?"/":splitp.slice(0,i).join("/")],true);
+				}
+			}
+			newv=true;
+		}
+	}
+	else{
+		for (var i=0;i&lt;(curlevel+1);i++){
+			data[i]=new Array([(i==0)?"/":splitp.slice(0,i).join("/")],true);
+		}
+		newv=true;
+	}
+	return newv;
+}
+
+function dcsNvrCompose(data,fields){
+	var cookies=new Array();
+	var paths=new Array();
+	var num=0;
+	var maxnum=10;
+	var maxval=4000;
+	var maxed=false;
+	for (var i=0;(i&lt;data.length)&&!maxed;i++){
+		paths=data[i][0];
+		var newpath=i+"=";
+		for (var j=0;(j&lt;paths.length)&&!maxed;j++){
+			newpath+=((j==0)?"":"|")+paths[j];
+			if (((fields.name+num).length+fields.value.length+newpath.length+1)&lt;=maxval){
+				if ((fields.value.length>0)&&(j==0)){
+					fields.value+=":";
+				}
+				fields.value+=newpath;
+			}
+			else if (fields.value.length>0){
+				cookies[num]=fields.name+(num||"")+"="+fields.value+fields.expiry+fields.path+fields.domain;
+				fields.value=i+"="+paths[j];
+				if ((++num)>(maxnum-1)){
+					maxed=true;
+				}
+			}
+			newpath="";
+		}
+	}
+	if (!maxed){
+		cookies[num]=fields.name+(num||"")+"="+fields.value+fields.expiry+fields.path+fields.domain;
+	}
+	return cookies;
+}
+function dcsAdv(){
+	if ((typeof(gTrackEvents)!="undefined")&&gTrackEvents){
+		WT.wtsv=1;
+		if(typeof(WT.sp)!="undefined"){WT.sv_sp=WT.sp;}
+		dcsFunc("dcsET");
+	}
+	dcsFunc("dcsCookie");
+	dcsFunc("dcsAdSearch");
+	dcsFunc("dcsNvr");
+}
+
+var gImages=new Array;
+var gIndex=0;
+var DCS=new Object();
+var WT=new Object();
+var DCSext=new Object();
+var gQP=new Array();
+var gI18n=false;
+if (window.RegExp){
+	var RE={"%09":/\t/g,"%20":/ /g,"%23":/\#/g,"%26":/\&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g};
+	var I18NRE={"%25":/\%/g};
+}
+
+function dcsVar(){
+	var dCurrent=new Date();
+	WT.tz=dCurrent.getTimezoneOffset()/60*-1;
+	if (WT.tz==0){
+		WT.tz="0";
+	}
+	WT.bh=dCurrent.getHours();
+	WT.ul=navigator.appName=="Netscape"?navigator.language:navigator.userLanguage;
+	if (typeof(screen)=="object"){
+		WT.cd=navigator.appName=="Netscape"?screen.pixelDepth:screen.colorDepth;
+		WT.sr=screen.width+"x"+screen.height;
+	}
+	if (typeof(navigator.javaEnabled())=="boolean"){
+		WT.jo=navigator.javaEnabled()?"Yes":"No";
+	}
+	if (document.title){
+		WT.ti=gI18n?dcsEscape(dcsEncode(document.title),I18NRE):document.title;
+	}
+	WT.js="Yes";
+	WT.jv=dcsJV();
+	if (document.body&&document.body.addBehavior){
+		document.body.addBehavior("#default#clientCaps");
+		if (document.body.connectionType){
+			WT.ct=document.body.connectionType;
+		}
+		document.body.addBehavior("#default#homePage");
+		WT.hp=document.body.isHomePage(location.href)?"1":"0";
+	}
+	if (parseInt(navigator.appVersion)>3){
+		if ((navigator.appName=="Microsoft Internet Explorer")&&document.body){
+			WT.bs=document.body.offsetWidth+"x"+document.body.offsetHeight;
+		}
+		else if (navigator.appName=="Netscape"){
+			WT.bs=window.innerWidth+"x"+window.innerHeight;
+		}
+	}
+	WT.fi="No";
+	WT.fv=(function(){
+		var i,flash;
+		if (window.ActiveXObject){
+			for(i=10;i>0;i--){
+				try{
+					flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);
+					WT.fi="Yes";
+					return i+".0";
+				}
+				catch(e){
+				}
+			}
+		}
+		else if (navigator.plugins&&navigator.plugins.length){
+			for (i=0;i&lt;navigator.plugins.length;i++){
+				if (navigator.plugins[i].name.indexOf('Shockwave Flash')!=-1){
+					WT.fi="Yes";
+					return navigator.plugins[i].description.split(" ")[2];
+				}
+			}
+		}
+		return "";
+	})();
+	WT.sli=(function(){
+    try{        
+    	if(navigator.userAgent.indexOf('MSIE')!=-1){
+    		var wtsli = new ActiveXObject('AgControl.AgControl');
+      	if(wtsli){return "Installed";}
+      }
+      else{
+				if (navigator.plugins["Silverlight Plug-In"]){
+        	return "Installed";        
+        }
+      }
+ 		}
+    catch(e){}
+    return "Not Installed";
+	})();
+	WT.slv=(function(){
+		var i,j,slv;
+    if ((typeof(Silverlight)=="object")&&(typeof(Silverlight.isInstalled)=="function")){
+			for(j=0;j&lt;10;j++){
+				for(i=3;i>0;i--){
+					slv=i+"."+j;
+					if (Silverlight.isInstalled(slv)){
+						return slv;
+					}
+				}
+			}
+		}
+		return "Version Unavailable";
+	})();
+	if (gI18n){
+		WT.em=(typeof(encodeURIComponent)=="function")?"uri":"esc";
+		if (typeof(document.defaultCharset)=="string"){
+			WT.le=document.defaultCharset;
+		} 
+		else if (typeof(document.characterSet)=="string"){
+			WT.le=document.characterSet;
+		}
+	}
+	WT.dl="0";
+	WT.dcsvid=dcsGetCookie("MC1");
+	DCS.dcsdat=dCurrent.getTime();
+	DCS.dcssip=window.location.hostname;
+	DCS.dcsuri=window.location.pathname;
+	var currentTime = new Date();
+	DCSext.wt_date = currentTime.getFullYear() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getDate();
+	DCSext.wt_dos=1;
+	var gDirLevels = 5;
+	var gFpath = window.location.pathname.substring(window.location.pathname.indexOf('/')+1,window.location.pathname.lastIndexOf('/')+1).toLowerCase();
+	if(gFpath==''){gFpath="/";}	
+	else{	
+		var gSplit=gFpath.split("/");
+		gFpath="";
+		for(var i=1;i&lt;gSplit.length&&i&lt;=gDirLevels;i++){
+			gFpath+="/";
+			for(var b=0;b&lt;i;b++){
+					gFpath+=gSplit[b]+"/";
+			}
+			if(i!=gDirLevels&&i!=gSplit.length-1){
+				gFpath+=";";
+			}		
+		}
+	}
+	DCSext.wtDrillDir=gFpath;
+	DCSext.wtEvtSrc=window.location.hostname+window.location.pathname;
+	if (window.location.search){
+		DCS.dcsqry=window.location.search;
+		if (gQP.length>0){
+			for (var i=0;i&lt;gQP.length;i++){
+				var pos=DCS.dcsqry.indexOf(gQP[i]);
+				if (pos!=-1){
+					var front=DCS.dcsqry.substring(0,pos);
+					var end=DCS.dcsqry.substring(pos+gQP[i].length,DCS.dcsqry.length);
+					DCS.dcsqry=front+end;
+				}
+			}
+		}
+	}
+	if ((window.document.referrer!="")&&(window.document.referrer!="-")){
+		if (!(navigator.appName=="Microsoft Internet Explorer"&&parseInt(navigator.appVersion)&lt;4)){
+			DCS.dcsref=gI18n?dcsEscape(window.document.referrer, I18NRE):window.document.referrer;
+		}
+	}
+}
+function dcsA(N,V){
+	return "&"+N+"="+dcsEscape(V, RE);
+}
+function dcsEscape(S, REL){
+	if (typeof(REL)!="undefined"){
+		var retStr = new String(S);
+		for (R in REL){
+			retStr = retStr.replace(REL[R],R);
+		}
+		return retStr;
+	}
+	else{
+		return escape(S);
+	}
+}
+function dcsEncode(S){
+	return (typeof(encodeURIComponent)=="function")?encodeURIComponent(S):escape(S);
+}
+function dcsCreateImage(dcsSrc){
+	if (document.images){
+		gImages[gIndex]=new Image;
+		gImages[gIndex].src=dcsSrc;
+		gIndex++;
+	}
+	else{
+		document.write('&lt;IMG ALT="" BORDER="0" NAME="DCSIMG" WIDTH="1" HEIGHT="1" SRC="'+dcsSrc+'">');
+	}
+}
+function dcsMeta(){
+	var elems;
+	if (document.all){
+		elems=document.all.tags("meta");
+	}
+	else if (document.documentElement){
+		elems=document.getElementsByTagName("meta");
+	}
+	if (typeof(elems)!="undefined"){
+		for (var i=1;i&lt;=elems.length;i++){
+			var meta=elems.item(i-1);
+			if (meta.name){
+				if (meta.name.indexOf('WT.')==0){
+					WT[meta.name.substring(3)]=(gI18n&&(meta.name.indexOf('WT.ti')==0))?dcsEscape(dcsEncode(meta.content),I18NRE):meta.content;
+				}
+				else if (meta.name.indexOf('DCSext.')==0){
+					DCSext[meta.name.substring(7)]=meta.content;
+				}
+				else if (meta.name.indexOf('DCS.')==0){
+					DCS[meta.name.substring(4)]=(gI18n&&(meta.name.indexOf('DCS.dcsref')==0))?dcsEscape(meta.content,I18NRE):meta.content;
+				}
+			}
+		}
+	}
+}
+function dcsTag(){
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var P="http"+(window.location.protocol.indexOf('https:')==0?'s':'')+"://"+gDomain+(gDcsId==""?'':'/'+gDcsId)+"/dcs.gif?";
+	//alert("dcsTag, P = " + P);
+	for (N in DCS){
+		if (DCS[N]) {
+			P+=dcsA(N,DCS[N]);
+		}
+	}
+	for (N in WT){
+		if (WT[N]) {
+			P+=dcsA("WT."+N,WT[N]);
+		}
+	}
+	for (N in DCSext){
+		if (DCSext[N]) {
+			P+=dcsA(N,DCSext[N]);
+		}
+	}
+	if (P.length>2048&&navigator.userAgent.indexOf('MSIE')>=0){
+		P=P.substring(0,2040)+"&WT.tu=1";
+	}
+	//alert("dcsTag, P = " + P);
+	dcsCreateImage(P);
+}
+function dcsJV(){
+	var agt=navigator.userAgent.toLowerCase();
+	var major=parseInt(navigator.appVersion);
+	var mac=(agt.indexOf("mac")!=-1);
+	var nn=((agt.indexOf("mozilla")!=-1)&&(agt.indexOf("compatible")==-1));
+	var nn4=(nn&&(major==4));
+	var nn6up=(nn&&(major>=5));
+	var ie=((agt.indexOf("msie")!=-1)&&(agt.indexOf("opera")==-1));
+	var ie4=(ie&&(major==4)&&(agt.indexOf("msie 4")!=-1));
+	var ie5up=(ie&&!ie4);
+	var op=(agt.indexOf("opera")!=-1);
+	var op5=(agt.indexOf("opera 5")!=-1||agt.indexOf("opera/5")!=-1);
+	var op6=(agt.indexOf("opera 6")!=-1||agt.indexOf("opera/6")!=-1);
+	var op7up=(op&&!op5&&!op6);
+	var jv="1.1";
+	if (nn6up||op7up){
+		jv="1.5";
+	}
+	else if ((mac&&ie5up)||op6){
+		jv="1.4";
+	}
+	else if (ie5up||nn4||op5){
+		jv="1.3";
+	}
+	else if (ie4){
+		jv="1.2";
+	}
+	return jv;
+}
+function dcsFunc(func){
+	if (typeof(window[func])=="function"){
+		window[func]();
+	}
+}
+function dcsDebug()
+{
+	var wtVars="\nTag Version = "+gTagVer+"\nDomain = "+gDomain+"\nDCSId = "+gDcsId;
+	for(N in DCS){wtVars+="\nDCS."+N+" = "+DCS[N];}
+	for(N in WT){wtVars+="\nWT."+N+" = "+WT[N];}
+	for(N in DCSext){wtVars+="\nDCSext."+N+" = "+DCSext[N];}
+	alert(wtVars);
+}
+dcsVar();
+dcsMeta();
+dcsFunc("dcsAdv");
+dcsTag();
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/main.swf b/src/html/flashsites/sized/deploy/main.swf
new file mode 100644
index 0000000..bc3acee
Binary files /dev/null and b/src/html/flashsites/sized/deploy/main.swf differ
diff --git a/src/html/flashsites/sized/deploy/model.xml b/src/html/flashsites/sized/deploy/model.xml
new file mode 100644
index 0000000..e8fac16
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/model.xml
@@ -0,0 +1,28 @@
+&lt;?xml version="1.0" encoding="utf-8"?>
+&lt;site>
+	&lt;assetPaths basePath="assets/">
+		&lt;bitmapPath>bmp/&lt;/bitmapPath>
+		&lt;soundPath>sounds/&lt;/soundPath>
+		&lt;swfPath>swf/&lt;/swfPath>
+		&lt;flvPath>flv/&lt;/flvPath>
+	&lt;/assetPaths>
+	&lt;assets>
+		&lt;asset libraryName="clayBanner1" source="clay_banners_1.jpg" />
+		&lt;asset libraryName="clayBanner2" source="clay_banners_2.jpg" />
+		&lt;asset libraryName="clayWebpage" source="clay_webpage.jpg" />
+	&lt;/assets>
+	&lt;preload>
+		&lt;asset libraryName="clayBanner1" />
+		&lt;asset libraryName="clayBanner2" />
+		&lt;asset libraryName="clayWebpage" />
+	&lt;/preload>
+	&lt;!-- OPTIONAL ELEMENTS -->
+	&lt;services>
+		&lt;remoting>
+			&lt;endpoint id="amfphp" gateway="http://localhost/amfphp/gateway.php" useLimiter="true" maxRetries="5" callTimeout="5000" objectEncoding="3">
+				&lt;service id="service1">com.myphp.Service1&lt;/service>
+				&lt;service id="service2">com.myphp.Service2&lt;/service>
+			&lt;/endpoint>
+		&lt;/remoting>
+	&lt;/services>
+&lt;/site>
\ No newline at end of file
diff --git a/src/html/flashsites/sized/deploy/ping.png b/src/html/flashsites/sized/deploy/ping.png
new file mode 100644
index 0000000..b137fd3
Binary files /dev/null and b/src/html/flashsites/sized/deploy/ping.png differ
diff --git a/src/html/flashsites/sized/deploy/tracking.xml b/src/html/flashsites/sized/deploy/tracking.xml
new file mode 100755
index 0000000..c4dc143
--- /dev/null
+++ b/src/html/flashsites/sized/deploy/tracking.xml
@@ -0,0 +1,68 @@
+&lt;?xml version="1.0" encoding="utf-8"?>
+&lt;tracking>
+	&lt;!--
+		Define &lt;track id=""> nodes.
+		The track tag must have a unique ID to identify it.
+		
+		supported tags in a &lt;track> node:
+			webtrends
+			atlas
+			ganalytics
+			redirect
+		
+		#webtrends
+			The webtrends node is a comma seperated list of values.
+			0=dcsuri, 1=ti, 2=cg_n
+		
+		#atlas
+			An atlas tag. Is just a 1x1 gif.
+		
+		#ganalitycs
+			The ganalytics tag is for google analytics, it fires a
+			pagetrack with the value of whatever is in the tag.
+		
+		#redirect
+			The redirect tag supports these attributes:
+				target -> any valid HTML 4 target for an &lt;a> tag.
+				windowParameters -> any valid javascript window parameters
+			Examples:
+				normal redirect in _self (default) -> &lt;redirect>http://www.google.com&lt;/redirect>
+				popup with window parameters -> 
+					&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+				
+		If any nodes (webtrends,atlas,ganalytics,redirect) aren't in a target &lt;track>
+		node, that functionality is not attempted. So you could leave
+		out the webtrends tag for a track, and it will not attempt to fire
+		webtrends. Same for any other nodes, and you can mix and match how you like.
+	-->
+	&lt;track id="goToGoogle">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect>http://www.google.com&lt;/redirect>
+		&lt;ganalytics>/videos/play&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="goToGooglePopup">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+		&lt;ganalytics>/videos/play&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="noRedirectsOrPopups">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+	&lt;/track>
+	&lt;track id="atlasOnly">
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+	&lt;/track>
+	&lt;track id="webtrendsOnly">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+	&lt;/track>
+	&lt;track id="webtrendsOnlyAndPopup">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92,2008&lt;/webtrends>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+	&lt;/track>
+	&lt;track id="atlasOnlyAndPopup">
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+	&lt;/track>
+&lt;/tracking>
\ No newline at end of file
diff --git a/src/js/guttershark.js b/src/js/guttershark.js
new file mode 100644
index 0000000..3afc323
--- /dev/null
+++ b/src/js/guttershark.js
@@ -0,0 +1,212 @@
+if(typeof net=="undefined")var net={};
+if(typeof net.guttershark=="undefined")net.guttershark={};
+
+/**
+ * Check if popup's are blocked.
+ */
+net.guttershark.arePopupsBlocked=function()
+{
+	var o;
+	var mine=window.open('','','width=1,height=1,left=0,top=0,scrollbars=no');
+	if(mine)o=false;
+	else o=true;
+	mine.close();
+	return o;
+}
+
+/**
+ * Add a window onload callback to the page load.
+ * @param func The function to call.
+ */
+net.guttershark.addLoadEvent=function(func)
+{
+	var oldonload=window.onload;
+	if(typeof window.onload!='function')window.onload=func;
+	else window.onload=function(){oldonload();func();}
+}
+
+/**
+ * Get the value of a query string parameter, preventing cross scripting.
+ * @param name The parameter name.
+ * @caseInsensitive Whether or not to search for the parameter case insensitively.
+ * @defaultValueIfNull A default value to return, if a parameter is not found, otherwise null will be returned.
+ */
+net.guttershark.qsSafeValue=function(name,caseInsensitive,defaultValueIfNull)
+{
+	name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
+	var r="[\\?&]"+name+"=([^&#]*)";
+	var rmod=""
+	if(caseInsensitive)rmod+="i";
+	var s=new RegExp(r,rmod);
+	var res=s.exec(window.location.href.toString());
+	if(!res&&defaultValueIfNull)return defaultValueIfNull;
+	else if(!res)return null;
+	else return res[1];
+}
+
+/**
+ * Finds a language code from the window location.
+ */
+net.guttershark.findLangCode=function()
+{
+	var l = window.location.toString().toLowerCase();
+	if(l.indexOf("en-us")>-1||l.indexOf("en_us")>-1) return "en-us"; //United States
+	if(l.indexOf("en-au")>-1||l.indexOf("en_au")>-1) return "en-au"; //Austrailia
+	if(l.indexOf("nl-be")>-1||l.indexOf("en_be")>-1) return "nl-be"; //Belgium
+	if(l.indexOf("fr-be")>-1||l.indexOf("fr_be")>-1) return "fr-be"; //Belgique
+	if(l.indexOf("pt-br")>-1||l.indexOf("pr_br")>-1) return "pt-br"; //Brazil
+	if(l.indexOf("en-ca")>-1||l.indexOf("en_ca")>-1) return "en-ca"; //English canada
+	if(l.indexOf("fr-ca")>-1||l.indexOf("fr_ca")>-1) return "fr-ca"; //French canada
+	if(l.indexOf("cs-cz")>-1||l.indexOf("cs_cz")>-1) return "cs-cz"; //Chek Republic
+	if(l.indexOf("es-cl")>-1||l.indexOf("es_cl")>-1) return "es-cl"; //Chile
+	if(l.indexOf("es-co")>-1||l.indexOf("es_co")>-1) return "es-co"; //Columbia
+	if(l.indexOf("da-dk")>-1||l.indexOf("da_dk")>-1) return "da-dk"; //Denmark
+	if(l.indexOf("de-de")>-1||l.indexOf("de_de")>-1) return "de-de"; //Germany
+	if(l.indexOf("el-gr")>-1||l.indexOf("el_gr")>-1) return "el-gr"; //Greece
+	if(l.indexOf("es-es")>-1||l.indexOf("es_es")>-1) return "es-es"; //Spain
+	if(l.indexOf("fr-fr")>-1||l.indexOf("fr_fr")>-1) return "fr-fr"; //France
+	if(l.indexOf("zh-hk")>-1||l.indexOf("zh_hk")>-1) return "zh-hk"; //Hong Kong
+	if(l.indexOf("hi-in")>-1||l.indexOf("hi_in")>-1) return "hi-in"; //India
+	if(l.indexOf("en-ie")>-1||l.indexOf("en_ie")>-1) return "en-ie"; //Ireland
+	if(l.indexOf("it-it")>-1||l.indexOf("it_it")>-1) return "it-it"; //Italy
+	if(l.indexOf("ja-jp")>-1||l.indexOf("ja_jp")>-1) return "ja-jp"; //Japan
+	if(l.indexOf("ko-kr")>-1||l.indexOf("ko_kr")>-1) return "ko-kr"; //Korea
+	if(l.indexOf("hu-hu")>-1||l.indexOf("hu_hu")>-1) return "hu-hu"; //Hungary
+	if(l.indexOf("es-mx")>-1||l.indexOf("es_mx")>-1) return "es-mx"; //Mexico
+	if(l.indexOf("nl-nl")>-1||l.indexOf("nl_nl")>-1) return "nl-nl"; //Netherlands
+	if(l.indexOf("en-nz")>-1||l.indexOf("en_nz")>-1) return "en-nz"; //New zealand
+	if(l.indexOf("nb-no")>-1||l.indexOf("nb_no")>-1) return "nb-no"; //Norway
+	if(l.indexOf("de-at")>-1||l.indexOf("de_at")>-1) return "de-at"; //Austria
+	if(l.indexOf("pl-pl")>-1||l.indexOf("pl_pl")>-1) return "pl-pl"; //Poland
+	if(l.indexOf("pt-pt")>-1||l.indexOf("pt_pt")>-1) return "pt-pt"; //Portugal
+	if(l.indexOf("ru-ru")>-1||l.indexOf("ru_ru")>-1) return "ru-ru"; //Russia
+	if(l.indexOf("zh-sg")>-1||l.indexOf("zh_sg")>-1) return "zh-sg"; //Singapore
+	if(l.indexOf("sk-sk")>-1||l.indexOf("sk_sk")>-1) return "sk-sk"; //Sweden
+	if(l.indexOf("en-za")>-1||l.indexOf("en_za")>-1) return "en-za"; //South Africa
+	if(l.indexOf("fr-ch")>-1||l.indexOf("fr_ch")>-1) return "fr-ch"; //Switzerland
+	if(l.indexOf("fi-fi")>-1||l.indexOf("fi_fi")>-1) return "fi-fi"; //Finland
+	if(l.indexOf("sv-se")>-1||l.indexOf("sv_se")>-1) return "sv-se"; //Sweden
+	if(l.indexOf("zh-tw")>-1||l.indexOf("zh_tw")>-1) return "zh-tw"; //Taiwan
+	if(l.indexOf("en-ae")>-1||l.indexOf("en_ae")>-1) return "en-ae"; //United Arab Emirates
+	if(l.indexOf("en-gb")>-1||l.indexOf("en_gb")>-1) return "en-gb"; //United Kingdom
+	return "NO_LANG_CODE";
+}
+
+/**
+ * The Paths class is used for all Path definitions in guttershark.
+ */
+net.guttershark.Paths=new function()
+{
+	var _paths={};
+	this.addPath=function(pathId,path)
+	{
+		if(!pathId)
+		{
+			alert("Parameter pathId required.");
+			return;
+		}
+		if(!path)
+		{
+			alert("Parameter path required.");
+			return;
+		}
+		_paths[pathId]=path;
+	}
+	this.getPath=function(pathIds)
+	{
+		if(!pathIds)
+		{
+			alert("Parameter pathIds required.");
+			return;
+		}
+		var fp = "";
+		for(var i = 0; i &lt; pathIds.length; i++)
+		{
+			if(!_paths[pathIds[i]])
+			{
+				alert("Path for id {"+pathIds[i]+"} not defined.")
+				return;
+			}
+			fp += _paths[pathIds[i]];
+		}
+		return fp;
+	}
+	this.isPathDefined=function(path)
+	{
+		return !(_paths[path]===false);
+	}
+}
+
+/**
+ * Class for Cookies.
+ */
+net.guttershark.Cookies=new function()
+{
+	this.writeSessionCookie=function(cookieName,cookieValue)
+	{
+		if(testSessionCookie())
+		{
+	    document.cookie=escape(cookieName)+"="+escape(cookieValue)+"; path=/";
+	    return true;
+	  }
+	  else return false;
+	}
+	this.getCookieValue=function(cookieName)
+	{
+	  var exp = new RegExp(escape(cookieName)+"=([^;]+)");
+	  if(exp.test(document.cookie + ";"))
+		{
+			exp.exec(document.cookie + ";");
+	    return unescape(RegExp.$1);
+	  }
+	  else return false;
+	}
+	this.testSessionCookie=function()
+	{
+		document.cookie="testSessionCookie=Enabled";
+		if(getCookieValue("testSessionCookie")=="Enabled") return true;
+	  else return false;
+	}
+	this.testPersistentCookie=function()
+	{
+		writePersistentCookie("testPersistentCookie","Enabled","minutes",1);
+	  if(getCookieValue("testPersistentCookie")=="Enabled") return true;
+		else return false;
+	}
+	this.writePersistentCookie=function(CookieName,CookieValue,periodType,offset)
+	{
+		var expireDate=new Date();
+		offset=offset/1;
+		var myPeriodType = periodType;
+	  switch(myPeriodType.toLowerCase())
+		{
+			case "years": 
+				var year = expireDate.getYear();
+	     	// Note some browsers give only the years since 1900, and some since 0.
+	     	if (year &lt; 1000) year = year + 1900;
+	     	expireDate.setYear(year + offset);
+	     	break;
+	    case "months":
+	      expireDate.setMonth(expireDate.getMonth() + offset);
+	      break;
+	    case "days":
+	      expireDate.setDate(expireDate.getDate() + offset);
+	      break;
+	    case "hours":
+	      expireDate.setHours(expireDate.getHours() + offset);
+	      break;
+	    case "minutes":
+	      expireDate.setMinutes(expireDate.getMinutes() + offset);
+	      break;
+	    default:
+	      alert("Invalid periodType parameter for writePersistentCookie()");
+	      break;
+	  } 
+	  document.cookie = escape(CookieName)+"="+escape(CookieValue)+"; expires="+expireDate.toGMTString()+"; path=/";
+	}
+	this.deleteCookie=function(cookieName)
+	{
+		if(getCookieValue(cookieName)) writePersistentCookie(cookieName,"Pending delete","years",-1);
+		return true;     
+	}
+}
\ No newline at end of file
diff --git a/src/js/tracking/as3.fla b/src/js/tracking/as3.fla
new file mode 100755
index 0000000..15113e2
Binary files /dev/null and b/src/js/tracking/as3.fla differ
diff --git a/src/js/tracking/as3.swf b/src/js/tracking/as3.swf
new file mode 100755
index 0000000..4a73dae
Binary files /dev/null and b/src/js/tracking/as3.swf differ
diff --git a/src/js/tracking/expressInstall.swf b/src/js/tracking/expressInstall.swf
new file mode 100755
index 0000000..86958bf
Binary files /dev/null and b/src/js/tracking/expressInstall.swf differ
diff --git a/src/js/tracking/flash9_example.html b/src/js/tracking/flash9_example.html
new file mode 100755
index 0000000..4669ae8
--- /dev/null
+++ b/src/js/tracking/flash9_example.html
@@ -0,0 +1,29 @@
+&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+&lt;head>
+	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
+	&lt;title>&lt;/title>
+	&lt;script type="text/javascript" src="tracking.js">&lt;/script>
+	&lt;script type="text/javascript" src="wt.js">&lt;/script>
+	&lt;script type="text/javascript" src="swfobject.js">&lt;/script>
+&lt;/head>
+&lt;body>
+&lt;div id="flashcontent">
+	&lt;noscript>
+		&lt;h1>You need to upgrade your flash player.&lt;/h1>
+		&lt;p>&lt;a href="http://www.adobe.com/go/getflashplayer">&lt;img src="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" />&lt;/a>&lt;/p>
+	&lt;/noscript>
+&lt;/div>
+&lt;script type="text/javascript">
+	setupTracking('tracking.xml');
+	var vars={};
+	var params={scale:'noScale',salign:'lt',menu:'false'};
+	var attributes={id:'flaswf',name:'flaswf'};
+	swfobject.embedSWF("as3.swf","flashcontent","200","270","9.0.0","expressInstall.swf",vars,params,attributes);
+&lt;/script>
+&lt;!--webtrends, no javascript tracking-->
+&lt;noscript>&lt;img border="0" name="DCSIMG" src="http://"+gDomain+"/"+gDcsId+"/njs.gif?dcsuri=/nojavascript&WT.js=No" style="display:none"/>&lt;/noscript>
+&lt;!--omniture no javascript tag-->
+&lt;noscript>&lt;img src="" style="display:none"/>&lt;/noscript>
+&lt;/body>
+&lt;/html>
\ No newline at end of file
diff --git a/src/js/tracking/html_example.html b/src/js/tracking/html_example.html
new file mode 100755
index 0000000..d491074
--- /dev/null
+++ b/src/js/tracking/html_example.html
@@ -0,0 +1,24 @@
+&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+&lt;head>
+	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
+	&lt;script type="text/javascript" src="tracking.js">&lt;/script>
+	&lt;script type="text/javascript" src="wt.js">&lt;/script>
+	&lt;script type="text/javascript">
+		setupTracking('tracking.xml');
+	&lt;/script>
+&lt;/head>
+&lt;body>
+&lt;a href="javascript:tracking.track('goToGooglePopup')">track - then popup&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="javascript:tracking.track('goToGoogle')">track - then redirect in self&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="javascript:tracking.track('noRedirectsOrPopups')">track - no redirects or popups, atlas and webtrends.&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="javascript:tracking.track('webtrendsOnly')">track - webtrends only&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="javascript:tracking.track('atlasOnly')">track - atlas only&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="javascript:tracking.track('webtrendsOnlyAndPopup')">track - webtrends only and popup&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="javascript:tracking.track('atlasOnlyAndPopup')">track - atlas only and popup&lt;/a>&lt;br/>&lt;br/>
+&lt;!--webtrends, no javascript tracking-->
+&lt;noscript>&lt;img border="0" name="DCSIMG" src="http://"+gDomain+"/"+gDcsId+"/njs.gif?dcsuri=/nojavascript&WT.js=No" style="display:none"/>&lt;/noscript>
+&lt;!--omniture no javascript tag-->
+&lt;noscript>&lt;img src="" style="display:none"/>&lt;/noscript>
+&lt;/body>
+&lt;/html>
\ No newline at end of file
diff --git a/src/js/tracking/html_example_better_seo.html b/src/js/tracking/html_example_better_seo.html
new file mode 100755
index 0000000..8157a38
--- /dev/null
+++ b/src/js/tracking/html_example_better_seo.html
@@ -0,0 +1,26 @@
+&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+&lt;head>
+	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
+	&lt;script type="text/javascript" src="tracking.js">&lt;/script>
+	&lt;script type="text/javascript" src="wt.js">&lt;/script>
+	&lt;script type="text/javascript">
+		setupTracking('tracking.xml');
+	&lt;/script>
+&lt;/head>
+&lt;body>
+&lt;a href="http://www.google.com" onclick="tracking.track('goToGooglePopup'); return false;">track - then popup&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('goToGoogle'); return false;">track - then redirect in self&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('noRedirectsOrPopups'); return false;">track - no redirects or popups, atlas and webtrends.&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('webtrendsOnly'); return false;">track - webtrends only&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('atlasOnly'); return false;">track - atlas only&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('webtrendsOnlyAndPopup'); return false;">track - webtrends only and popup&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('atlasOnlyAndPopup'); return false;">track - atlas only and popup&lt;/a>&lt;br/>&lt;br/>
+&lt;a href="http://www.google.com" onclick="tracking.track('omnitureTest'); return false;">track - omniture&lt;/a>&lt;br/>&lt;br/>
+
+&lt;!--webtrends, no javascript tracking-->
+&lt;noscript>&lt;img border="0" name="DCSIMG" src="http://"+gDomain+"/"+gDcsId+"/njs.gif?dcsuri=/nojavascript&WT.js=No" style="display:none"/>&lt;/noscript>
+&lt;!--omniture no javascript tag-->
+&lt;noscript>&lt;img src="" style="display:none"/>&lt;/noscript>
+&lt;/body>
+&lt;/html>
\ No newline at end of file
diff --git a/src/js/tracking/swffit.js b/src/js/tracking/swffit.js
new file mode 100644
index 0000000..1c7ac55
--- /dev/null
+++ b/src/js/tracking/swffit.js
@@ -0,0 +1,5 @@
+/*	swffit v1.0 (03/25/2008) &lt;http://swffit.millermedeiros.com/>
+	Copyright (c) 2008 Miller Medeiros &lt;http://www.millermedeiros.com/>
+	This software is released under the MIT License &lt;http://www.opensource.org/licenses/mit-license.php>
+*/
+Avar NS=(navigator.appName=='Netscape')?true:false;var ft;var mw;var mh;var xw;var xh;var xc;function swffit(t,w,h,_w,_h,c){if(t&&w&&h){ft=t;mw=w;mh=h;xw=_w;xh=_h;xc=(c||c==null)?true:false;if(swfobject.isDomLoaded){startFit()}else{swfobject.addDomLoadEvent(startFit)}}}function gEBI(x){return x}function startFit(){document.getElementsByTagName('html')[0].style.height='100%';document.body.style.margin='0';document.body.style.padding='0';document.body.style.height='100%';if(swfobject.getObjectById(ft)){ft=swfobject.getObjectById(ft)}else{ft=(NS)?document.getElementById(ft).getElementsByTagName('object')[0]:document.getElementById(ft)}gEBI(ft).style.position='absolute';window.onresize=fit;fit()}function fit(){iw=(NS)?window.innerWidth:document.body.clientWidth;ih=(NS)?window.innerHeight:document.body.clientHeight;if(iw>xw&&xw){gEBI(ft).style.width=xw+'px';if(xc){gEBI(ft).style.left='50%';gEBI(ft).style.marginLeft=-(xw/2)+'px'}}else{if(iw>mw&&(iw&lt;xw||!xw)){gEBI(ft).style.width='100%'}else{gEBI(ft).style.width=mw+'px'}if(xc){gEBI(ft).style.left='auto';gEBI(ft).style.marginLeft='0'}}if(ih>xh&&xh){gEBI(ft).style.height=xh+'px';if(xc){gEBI(ft).style.top='50%';gEBI(ft).style.marginTop=-(xh/2)+'px'}}else{if(ih>mh&&(ih&lt;xh||!xh)){gEBI(ft).style.height='100%'}else{gEBI(ft).style.height=mh+'px'}if(xc){gEBI(ft).style.top='auto';gEBI(ft).style.marginTop='0'}}};
\ No newline at end of file
diff --git a/src/js/tracking/swfobject.js b/src/js/tracking/swfobject.js
new file mode 100755
index 0000000..b243b2d
--- /dev/null
+++ b/src/js/tracking/swfobject.js
@@ -0,0 +1,5 @@
+/*	SWFObject v2.0 rc2 &lt;http://code.google.com/p/swfobject/>
+	Copyright (c) 2007 Geoff Stearns, Michael Williams, and Bobby van der Sluis
+	This software is released under the MIT License &lt;http://www.opensource.org/licenses/mit-license.php>
+*/
+var swfobject=function(){var _1=[];var _2=[];var _3=null;var _4=null;var _5=false;var _6=false;var ua=function(){var _8=typeof document.getElementById!="undefined"&&typeof document.getElementsByTagName!="undefined"&&typeof document.createElement!="undefined"&&typeof document.appendChild!="undefined"&&typeof document.replaceChild!="undefined"&&typeof document.removeChild!="undefined"&&typeof document.cloneNode!="undefined";var _9=[0,0,0];var d=null;if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]=="object"){d=navigator.plugins["Shockwave Flash"].description;if(d){d=d.replace(/^.*\s+(\S+\s+\S+$)/,"$1");_9[0]=parseInt(d.replace(/^(.*)\..*$/,"$1"),10);_9[1]=parseInt(d.replace(/^.*\.(.*)\s.*$/,"$1"),10);_9[2]=/r/.test(d)?parseInt(d.replace(/^.*r(.*)$/,"$1"),10):0;}}else{if(typeof window.ActiveXObject!="undefined"){var a=null;var _c=false;try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");_9=[6,0,21];a.AllowScriptAccess="always";}catch(e){if(_9[0]==6){_c=true;}}if(!_c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}}if(!_c&&a){try{d=a.GetVariable("$version");if(d){d=d.split(" ")[1].split(",");_9=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)];}}catch(e){}}}}var u=navigator.userAgent.toLowerCase();var p=navigator.platform.toLowerCase();var _f=/webkit/.test(u);var _10=_f?parseFloat(u.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):0;var ie=false;var win=p?/win/.test(p):/win/.test(u);var mac=p?/mac/.test(p):/mac/.test(u);/*@cc_on ie=true;@if(@_win32)win=true;@elif(@_mac)mac=true;@end@*/return {w3cdom:_8,playerVersion:_9,webkit:_f,webkitVersion:_10,ie:ie,win:win,mac:mac};}();var _14=function(){if(!ua.w3cdom){return;}addDomLoadEvent(main);if(ua.ie&&ua.win){try{document.write("&lt;scr"+"ipt id=__ie_ondomload defer=true src=//:>&lt;/scr"+"ipt>");var s=document.getElementById("__ie_ondomload");if(s){s.onreadystatechange=function(){if(this.readyState=="complete"){this.parentNode.removeChild(this);callDomLoadFunctions();}};}}catch(e){}}if(ua.webkit&&typeof document.readyState!="undefined"){_3=setInterval(function(){if(/loaded|complete/.test(document.readyState)){callDomLoadFunctions();}},10);}if(typeof document.addEventListener!="undefined"){document.addEventListener("DOMContentLoaded",callDomLoadFunctions,null);}addLoadEvent(callDomLoadFunctions);}();function callDomLoadFunctions(){if(_5){return;}if(ua.ie&&ua.win){var s=document.createElement("span");try{var t=document.getElementsByTagName("body")[0].appendChild(s);t.parentNode.removeChild(t);}catch(e){return;}}_5=true;if(_3){clearInterval(_3);_3=null;}var dl=_1.length;for(var i=0;i&lt;dl;i++){_1[i]();}}function addDomLoadEvent(fn){if(_5){fn();}else{_1[_1.length]=fn;}}function addLoadEvent(fn){if(typeof window.addEventListener!="undefined"){window.addEventListener("load",fn,false);}else{if(typeof document.addEventListener!="undefined"){document.addEventListener("load",fn,false);}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onload",fn);}else{if(typeof window.onload=="function"){var _1c=window.onload;window.onload=function(){_1c();fn();};}else{window.onload=fn;}}}}}function main(){var rl=_2.length;for(var i=0;i&lt;rl;i++){var id=_2[i].id;if(ua.playerVersion[0]>0){var obj=document.getElementById(id);if(obj){_2[i].width=obj.getAttribute("width")?obj.getAttribute("width"):"0";_2[i].height=obj.getAttribute("height")?obj.getAttribute("height"):"0";if(hasPlayerVersion(_2[i].swfVersion)){if(ua.webkit&&ua.webkitVersion&lt;312){fixParams(obj);}}else{if(_2[i].expressInstall&&!_6&&hasPlayerVersion([6,0,65])&&(ua.win||ua.mac)){showExpressInstall(_2[i]);}else{displayAltContent(obj);}}}}createCSS("#"+id,"visibility:visible");}}function fixParams(obj){var _22=obj.getElementsByTagName("object")[0];if(_22){var e=document.createElement("embed");var a=_22.attributes;if(a){var al=a.length;for(var i=0;i&lt;al;i++){if(a[i].nodeName.toLowerCase()=="data"){e.setAttribute("src",a[i].nodeValue);}else{e.setAttribute(a[i].nodeName,a[i].nodeValue);}}}var c=_22.childNodes;if(c){var cl=c.length;for(var j=0;j&lt;cl;j++){if(c[j].nodeType==1&&c[j].nodeName.toLowerCase()=="param"){e.setAttribute(c[j].getAttribute("name"),c[j].getAttribute("value"));}}}obj.parentNode.replaceChild(e,obj);}}function fixObjectLeaks(id){if(ua.ie&&ua.win&&hasPlayerVersion([8,0,0])){window.attachEvent("onunload",function(){var obj=document.getElementById(id);for(var i in obj){if(typeof obj[i]=="function"){obj[i]=function(){};}}obj.parentNode.removeChild(obj);});}}function showExpressInstall(_2d){_6=true;var obj=document.getElementById(_2d.id);if(obj){if(_2d.altContentId){var ac=document.getElementById(_2d.altContentId);if(ac){_4=ac;}}else{_4=abstractAltContent(obj);}if(!(/%$/.test(_2d.width))&&parseInt(_2d.width,10)&lt;310){_2d.width="310";}if(!(/%$/.test(_2d.height))&&parseInt(_2d.height,10)&lt;137){_2d.height="137";}var pt=ua.ie&&ua.win?"ActiveX":"PlugIn";document.title=document.title.slice(0,47)+" - Flash Player Installation";var dt=document.title;var fv="MMredirectURL="+window.location+"&MMplayerType="+pt+"&MMdoctitle="+dt;var _33=_2d.id;if(ua.ie&&ua.win&&obj.readyState!=4){var _34=document.createElement("div");_33+="SWFObjectNew";_34.setAttribute("id",_33);obj.parentNode.insertBefore(_34,obj);obj.style.display="none";window.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}createSWF({data:_2d.expressInstall,id:"SWFObjectExprInst",width:_2d.width,height:_2d.height},{flashvars:fv},_33);}}function displayAltContent(obj){if(ua.ie&&ua.win&&obj.readyState!=4){var el=document.createElement("div");obj.parentNode.insertBefore(el,obj);el.parentNode.replaceChild(abstractAltContent(obj),el);obj.style.display="none";window.attachEvent("onload",function(){obj.parentNode.removeChild(obj);});}else{obj.parentNode.replaceChild(abstractAltContent(obj),obj);}}function abstractAltContent(obj){var ac=document.createElement("div");if(ua.win&&ua.ie){ac.innerHTML=obj.innerHTML;}else{var _39=obj.getElementsByTagName("object")[0];if(_39){var c=_39.childNodes;if(c){var cl=c.length;for(var i=0;i&lt;cl;i++){if(!(c[i].nodeType==1&&c[i].nodeName.toLowerCase()=="param")&&!(c[i].nodeType==8)){ac.appendChild(c[i].cloneNode(true));}}}}}return ac;}function createSWF(_3d,_3e,id){var r;var el=document.getElementById(id);if(typeof _3d.id=="undefined"){_3d.id=id;}if(ua.ie&&ua.win){var att="";for(var i in _3d){if(_3d[i]!=Object.prototype[i]){if(i=="data"){_3e.movie=_3d[i];}else{if(i.toLowerCase()=="styleclass"){att+=" class=\""+_3d[i]+"\"";}else{if(i!="classid"){att+=" "+i+"=\""+_3d[i]+"\"";}}}}}var par="";for(var j in _3e){if(_3e[j]!=Object.prototype[j]){par+="&lt;param name=\""+j+"\" value=\""+_3e[j]+"\" />";}}el.outerHTML="&lt;object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\""+att+">"+par+"&lt;/object>";fixObjectLeaks(_3d.id);r=document.getElementById(_3d.id);}else{if(ua.webkit&&ua.webkitVersion&lt;312){var e=document.createElement("embed");e.setAttribute("type","application/x-shockwave-flash");for(var k in _3d){if(_3d[k]!=Object.prototype[k]){if(k=="data"){e.setAttribute("src",_3d[k]);}else{if(k.toLowerCase()=="styleclass"){e.setAttribute("class",_3d[k]);}else{if(k!="classid"){e.setAttribute(k,_3d[k]);}}}}}for(var l in _3e){if(_3e[l]!=Object.prototype[l]){if(l!="movie"){e.setAttribute(l,_3e[l]);}}}el.parentNode.replaceChild(e,el);r=e;}else{var o=document.createElement("object");o.setAttribute("type","application/x-shockwave-flash");for(var m in _3d){if(_3d[m]!=Object.prototype[m]){if(m.toLowerCase()=="styleclass"){o.setAttribute("class",_3d[m]);}else{if(m!="classid"){o.setAttribute(m,_3d[m]);}}}}for(var n in _3e){if(_3e[n]!=Object.prototype[n]&&n!="movie"){createObjParam(o,n,_3e[n]);}}el.parentNode.replaceChild(o,el);r=o;}}return r;}function createObjParam(el,_4d,_4e){var p=document.createElement("param");p.setAttribute("name",_4d);p.setAttribute("value",_4e);el.appendChild(p);}function hasPlayerVersion(rv){return (ua.playerVersion[0]>rv[0]||(ua.playerVersion[0]==rv[0]&&ua.playerVersion[1]>rv[1])||(ua.playerVersion[0]==rv[0]&&ua.playerVersion[1]==rv[1]&&ua.playerVersion[2]>=rv[2]))?true:false;}function createCSS(sel,_52){if(ua.ie&&ua.mac){return;}var h=document.getElementsByTagName("head")[0];var s=document.createElement("style");s.setAttribute("type","text/css");s.setAttribute("media","screen");if(!(ua.ie&&ua.win)&&typeof document.createTextNode!="undefined"){s.appendChild(document.createTextNode(sel+" {"+_52+"}"));}h.appendChild(s);if(ua.ie&&ua.win&&typeof document.styleSheets!="undefined"&&document.styleSheets.length>0){var ls=document.styleSheets[document.styleSheets.length-1];if(typeof ls.addRule=="object"){ls.addRule(sel,_52);}}}return {registerObject:function(_56,_57,_58){if(!ua.w3cdom||!_56||!_57){return;}var _59={};_59.id=_56;var v=_57.split(".");_59.swfVersion=[parseInt(v[0],10),parseInt(v[1],10),parseInt(v[2],10)];_59.expressInstall=_58?_58:false;_2[_2.length]=_59;createCSS("#"+_56,"visibility:hidden");},getObjectById:function(_5b){var r=null;if(ua.w3cdom&&_5){var o=document.getElementById(_5b);if(o){var n=o.getElementsByTagName("object")[0];if(!n||(n&&typeof o.SetVariable!="undefined")){r=o;}else{if(typeof n.SetVariable!="undefined"){r=n;}}}}return r;},embedSWF:function(_5f,_60,_61,_62,_63,_64,_65,_66,_67){if(!ua.w3cdom||!_5f||!_60||!_61||!_62||!_63){return;}_61+="";_62+="";if(hasPlayerVersion(_63.split("."))){createCSS("#"+_60,"visibility:hidden");var att=(typeof _67=="object")?_67:{};att.data=_5f;att.width=_61;att.height=_62;var par=(typeof _66=="object")?_66:{};if(typeof _65=="object"){for(var i in _65){if(_65[i]!=Object.prototype[i]){if(typeof par.flashvars!="undefined"){par.flashvars+="&"+i+"="+_65[i];}else{par.flashvars=i+"="+_65[i];}}}}addDomLoadEvent(function(){createSWF(att,par,_60);createCSS("#"+_60,"visibility:visible");});}else{if(_64&&!_6&&hasPlayerVersion([6,0,65])&&(ua.win||ua.mac)){createCSS("#"+_60,"visibility:hidden");addDomLoadEvent(function(){var _6b={};_6b.id=_6b.altContentId=_60;_6b.width=_61;_6b.height=_62;_6b.expressInstall=_64;showExpressInstall(_6b);createCSS("#"+_60,"visibility:visible");});}}},getFlashPlayerVersion:function(){return {major:ua.playerVersion[0],minor:ua.playerVersion[1],release:ua.playerVersion[2]};},hasFlashPlayerVersion:function(_6c){return hasPlayerVersion(_6c.split("."));},createSWF:function(_6d,_6e,_6f){if(ua.w3cdom&&_5){return createSWF(_6d,_6e,_6f);}else{return undefined;}},createCSS:function(sel,_71){if(ua.w3cdom){createCSS(sel,_71);}},addDomLoadEvent:addDomLoadEvent,addLoadEvent:addLoadEvent,getQueryParamValue:function(_72){var q=document.location.search||document.location.hash;if(_72==null){return q;}if(q){var _74=q.substring(1).split("&");for(var i=0;i&lt;_74.length;i++){if(_74[i].substring(0,_74[i].indexOf("="))==_72){return _74[i].substring((_74[i].indexOf("=")+1));}}}return "";},expressInstallCallback:function(){if(_6&&_4){var obj=document.getElementById("SWFObjectExprInst");if(obj){obj.parentNode.replaceChild(_4,obj);_4=null;_6=false;}}}};}();
\ No newline at end of file
diff --git a/src/js/tracking/tracking.js b/src/js/tracking/tracking.js
new file mode 100755
index 0000000..1431412
--- /dev/null
+++ b/src/js/tracking/tracking.js
@@ -0,0 +1,194 @@
+var tracking;
+var gDomain="m.webtrends.com";
+var gDcsId="";
+var gFpc="WT_FPC";
+var gaJsHost=(("https:"==document.location.protocol)?"https://ssl.":"http://www.");
+var ganalyticsUA="UA-xxxxxx-x";
+var pageTracker;
+var atlasimg;
+
+//webtrends setup
+if(document.cookie.indexOf(gFpc+"=")==-1)document.write("&lt;script type='text/javascript' src='http"+(window.location.protocol.indexOf('https:')==0?'s':'')+"://"+gDomain+"/"+gDcsId+"/wtid.js"+"'>&lt;\/script>");
+
+//ganalytics setup
+document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
+if(ganalyticsUA!="UA-xxxxxx-x")
+{
+	pageTracker=_gat._getTracker(ganalyticsUA);
+	pageTracker._initData();
+	pageTracker._trackPageview();
+}
+
+//atlas setup
+atlasimg=new Image();
+
+//tracking
+function Tracking(){this.xmlDoc=null;}
+
+//public function for tracking call, from flash,silverlight,or html
+function track(xmlid,extra)
+{
+	var target;
+	var wp;
+	var redirect;
+	var info=getTrackingInfo(xmlid);
+	trackForId(xmlid,extra);
+	target="_self";
+	try{if(info.target)target=info.target;}catch(e){}
+	try{wp=info.windowParameters;}catch(e){}
+	try{redirect=info.redirect;}catch(e){}
+	if(!redirect)return;
+	if(wp)window.open(info.redirect,target,wp);
+	else window.open(info.redirect,target);
+}
+
+//public function for flash/silverlight tracking calls.
+//this is not part of the Tracking object, just a
+//function defined in the page.
+function flashTrack(xmlid,extra)
+{
+	tracking.track(xmlid,extra);
+}
+
+//prepare the tracking framework by loading xml.
+function setupTracking(xmlFile)
+{
+	tracking=new Tracking();
+	tracking.loadXML(xmlFile);
+}
+
+//executes the atlas,webtrends,and ganalytics calls.
+function trackForId(xmlid,extra)
+{
+	atlas(xmlid);
+	webtrends(xmlid,extra);
+	_ganalytics(xmlid);
+	omniture(xmlid,extra);
+}
+
+//google analytics
+function _ganalytics(xmlid)
+{
+	var info=this.getTrackingInfo(xmlid);
+	if(!info.ganalytics)return;
+	try{pageTracker._trackPageview(info.ganalytics.toString());}catch(e){}
+}
+
+//omniture
+function omniture(xmlid,extra)
+{
+	var info=getTrackingInfo(xmlid);
+	if(!info.omniture)return;
+	var i=0;
+	var l=info.omniture.length;
+	var om=info.omniture;
+	var nn,nv;
+	//if(s==undefined)alert("word");
+	//for(i;i&lt;l;i++)s[nn]=nv;
+	/*var s_code=s.t();if(s_code)document.write(s_code);*/
+}
+
+//webtrends
+function webtrends(xmlid,extra)
+{
+	var info=this.getTrackingInfo(xmlid);
+	if(!info.webtrends) return;
+	var webtrends=info.webtrends;
+	var parts=xmlid.split(",");
+	var dcsuri=parts[0];
+	var ti=parts[1];
+	var cg_n=parts[2];
+	if(!ti)ti="undefined";
+	if(!cg_n)cg_n="undefined";
+	if(extra)
+	{
+		if(extra[0])dcsuri+=extra[0];
+		if(extra[1])ti+=extra[1];
+		if(extra[2])cg_n+=extra[2];
+	}
+	try
+	{
+		//dcsMultiTrack accepts "pairs" of parameters.
+		//alert('DCS.dcsuri: ' + dcsuri + ' WT.ti: ' + ti + ' WT_cg_n: ' + cg_n);
+		dcsMultiTrack('DCS.dcsuri',dcsuri,'WT.ti',ti,'WT_cg_n',cg_n);
+	}
+	catch(e){}
+}
+
+//atlas
+function atlas(xmlid)
+{
+	var info=getTrackingInfo(xmlid);
+	if(!info.atlas)return;
+	var timestamp=new Date();
+	var qs="?qstr=random="+Math.ceil(Math.random()*99999999)+timestamp.getUTCFullYear()+timestamp.getUTCMonth()+timestamp.getUTCDate()+timestamp.getUTCHours()+timestamp.getUTCMinutes()+timestamp.getUTCSeconds()+timestamp.getUTCMilliseconds();
+	atlasimg.src=info.atlas+qs;
+}
+
+//create an xml http request
+function createXMLHttpRequest()
+{
+	if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest();
+	else if (typeof ActiveXObject!="undefined")return new ActiveXObject("Microsoft.XMLHTTP");
+	else throw new Error("XMLHttpRequest not supported");
+}
+
+//load a tracking.xml file.
+function loadXML(file)
+{
+ 	var request=this.createXMLHttpRequest();
+	request.open("GET",file,true);
+	request.onreadystatechange=function(){if(request.readyState==4)xmlready(request.responseXML);}
+	request.send(null);
+}
+
+//when xml ready
+function xmlready(xml)
+{
+	xmlDoc=xml;
+}
+
+//get tracking information from the xml file.
+function getTrackingInfo(xmlid)
+{
+	var trackNodes=xmlDoc.getElementsByTagName("track");
+	var index;
+	var i=0;
+	var results={};
+	for(i=0;i&lt;trackNodes.length;i++)if(xmlid==trackNodes[i].attributes.getNamedItem("id").value)index=i;
+	if(null==index)return index;
+	try{results.webtrends=trackNodes[index].getElementsByTagName("webtrends").item(0).firstChild.nodeValue;}catch(e){}
+	try{results.atlas=trackNodes[index].getElementsByTagName("atlas").item(0).firstChild.nodeValue;}catch(e){}
+	try{results.ganalytics=trackNodes[index].getElementsByTagName("ganalytics").item(0).firstChild.nodeValue;}catch(e){}
+	try{results.redirect=trackNodes[index].getElementsByTagName("redirect").item(0).firstChild.nodeValue;}catch(e){}
+	try{results.target=trackNodes[index].getElementsByTagName("redirect").item(0).attributes.getNamedItem("target").value;}catch(e){}
+	try{results.windowParameters=trackNodes[index].getElementsByTagName("redirect").item(0).attributes.getNamedItem("windowParameters").value;}catch(e){}
+	try
+	{
+		var om=[];
+		var o=trackNodes[index].getElementsByTagName("omniture").item(0);
+		var i=0;
+		var l=o.childNodes.length;
+		var s=""
+		var nn;
+		var nv;
+		for(i;i&lt;l;i++)
+		{
+			if(o.childNodes[i].nodeName.toString()=="#text")continue;
+			nn=o.childNodes[i].nodeName;
+			nv=o.childNodes[i].firstChild.nodeValue;
+			om.push(nn,nv);
+		}
+		results.omniture=om;
+	}
+	catch(e){}
+	return results;
+}
+
+Tracking.prototype.createXMLHttpRequest=createXMLHttpRequest;
+Tracking.prototype.loadXML=loadXML;
+Tracking.prototype.track=track;
+Tracking.prototype.trackForId=trackForId;
+Tracking.prototype.webtrends=webtrends;
+Tracking.prototype.atlas=atlas;
+Tracking.prototype.getTrackingInfo=getTrackingInfo;
\ No newline at end of file
diff --git a/src/js/tracking/tracking.xml b/src/js/tracking/tracking.xml
new file mode 100755
index 0000000..914589c
--- /dev/null
+++ b/src/js/tracking/tracking.xml
@@ -0,0 +1,104 @@
+&lt;?xml version="1.0" encoding="utf-8"?>
+&lt;tracking>
+	&lt;!--
+		Define &lt;track id=""> nodes.
+		The track tag must have a unique ID to identify it.
+		
+		supported tags in a &lt;track> node:
+			webtrends
+			atlas
+			ganalytics
+			omniture
+			redirect
+		
+		#webtrends
+			The webtrends node is a comma seperated list of values.
+			0=dcsuri, 1=ti, 2=cg_n
+			(IE: &lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92&lt;/webtrends>)
+		
+		#atlas
+			An atlas tag - is generally just a 1x1 gif. Any URL can be placed
+			here (IE: &lt;atlas>http://www.google.com/g.jpg&lt;/atlas>)
+		
+		#ganalitycs
+			The ganalytics tag is for google analytics, it fires a
+			pagetrack with the value of whatever is in the tag.
+			Anything can be placed here as well, which will be 
+			handed to _pageTracker (IE: &lt;ganalytics>/coolwhip/whip&lt;/ganalytics>)
+		
+		#ominture (not complete yet, doesn't work.)
+			Omniture has two categories, basic, and commerce. Both are
+			supported. The omniture notation is slightly different,
+			as custom tags can be introduced any point. Here's how
+			you define one:
+			&lt;omniture>
+				&lt;channel>SomeValue&lt;/channel>
+				&lt;campaign>SomeValue&lt;/campaign>
+				&lt;products>SomeValue&lt;/products>
+				&lt;pageName>SomeValue&lt;/pageName>
+				&lt;prop1>SomeValue&lt;/prop1>
+				&lt;hier1>SomeValue&lt;/hier1>
+				&lt;eVar1>SomeValue&lt;/eVar1>
+				&lt;/events>SomeValue&lt;/events>
+				&lt;myCustomVariable>MyCustomValue&lt;/myCustomVariable>
+			&lt;/omniture>
+		
+		#redirect
+			The redirect tag supports these attributes:
+				target -> any valid "target" for an &lt;a> tag.
+				windowParameters -> any valid javascript window parameters ("width=200,height=200")
+			Examples:
+				#->Redirects to google in _self.
+					&lt;redirect>http://www.google.com&lt;/redirect>
+				#->Redirects to google in a popup window.
+					&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+		
+		You can mix and match any node types - to call, or not call tracking types.
+	-->
+	&lt;track id="omnitureTest">
+		&lt;omniture>
+			&lt;channel>SomeValue&lt;/channel>
+			&lt;campaign>SomeValue&lt;/campaign>
+			&lt;products>SomeValue&lt;/products>
+			&lt;pageName>SomeValue&lt;/pageName>
+			&lt;prop1>SomeValue&lt;/prop1>
+			&lt;hier1>SomeValue&lt;/hier1>
+			&lt;eVar1>SomeValue&lt;/eVar1>
+			&lt;events>SomeValue&lt;/events>
+			&lt;myCustomVariable>MyCustomValue&lt;/myCustomVariable>
+		&lt;/omniture>
+	&lt;/track>
+	&lt;track id="ganalyticsTest">
+		&lt;ganalytics>/coolwhip/whip&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="goToGoogle">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect>http://www.google.com&lt;/redirect>
+		&lt;ganalytics>/asdf/asdf&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="goToGooglePopup">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+		&lt;ganalytics>/asdf/asdf&lt;/ganalytics>
+	&lt;/track>
+	&lt;track id="noRedirectsOrPopups">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92&lt;/webtrends>
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+	&lt;/track>
+	&lt;track id="atlasOnly">
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+	&lt;/track>
+	&lt;track id="webtrendsOnly">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92&lt;/webtrends>
+	&lt;/track>
+	&lt;track id="webtrendsOnlyAndPopup">
+		&lt;webtrends>/ws2008/videos/product/command/play,ddddd,ad92&lt;/webtrends>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+	&lt;/track>
+	&lt;track id="atlasOnlyAndPopup">
+		&lt;atlas>http://www.google.com/g.jpg&lt;/atlas>
+		&lt;redirect target="_blank" windowParameters="width=200,height=200">http://www.google.com&lt;/redirect>
+	&lt;/track>
+&lt;/tracking>
\ No newline at end of file
diff --git a/src/js/tracking/wt.js b/src/js/tracking/wt.js
new file mode 100755
index 0000000..dc3a634
--- /dev/null
+++ b/src/js/tracking/wt.js
@@ -0,0 +1,742 @@
+//Tag Version: MNP 2.0/7-30-07
+var gTagVer = "MNP 2.0/7-30-07";
+var gService = true;
+var gTimeZone = -8;
+function dcsCookie(){
+	if (typeof(dcsOther)=="function"){
+		dcsOther();
+	}
+	else if (typeof(dcsPlugin)=="function"){
+		dcsPlugin();
+	}
+	else if (typeof(dcsFPC)=="function"){
+		dcsFPC(gTimeZone);
+	}
+}
+function dcsGetCookie(name){
+	var pos=document.cookie.indexOf(name+"=");
+	if (pos!=-1){
+		var start=pos+name.length+1;
+		var end=document.cookie.indexOf(";",start);
+		if (end==-1){
+			end=document.cookie.length;
+		}
+		return unescape(document.cookie.substring(start,end));
+	}
+	return null;
+}
+function dcsGetCrumb(name,crumb){
+	var aCookie=dcsGetCookie(name).split(":");
+	for (var i=0;i&lt;aCookie.length;i++){
+		var aCrumb=aCookie[i].split("=");
+		if (crumb==aCrumb[0]){
+			return aCrumb[1];
+		}
+	}
+	return null;
+}
+function dcsGetIdCrumb(name,crumb){
+	var cookie=dcsGetCookie(name);
+	var id=cookie.substring(0,cookie.indexOf(":lv="));
+	var aCrumb=id.split("=");
+	for (var i=0;i&lt;aCrumb.length;i++){
+		if (crumb==aCrumb[0]){
+			return aCrumb[1];
+		}
+	}
+	return null;
+}
+function dcsFPC(offset){
+	if (typeof(offset)=="undefined"){
+		return;
+	}
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var name=gFpc;
+	var dCur=new Date();
+	var adj=(dCur.getTimezoneOffset()*60000)+(offset*3600000);
+	dCur.setTime(dCur.getTime()+adj);
+	var dExp=new Date(dCur.getTime()+315360000000);
+	var dSes=new Date(dCur.getTime());
+	if (document.cookie.indexOf(name+"=")==-1){
+		if ((typeof(gWtId)!="undefined")&&(gWtId!="")){
+			WT.co_f=gWtId;
+		}
+		else if ((typeof(gTempWtId)!="undefined")&&(gTempWtId!="")){
+			WT.co_f=gTempWtId;
+			WT.vt_f="1";
+		}
+		else{
+			WT.co_f="2";
+			var cur=dCur.getTime().toString();
+			for (var i=2;i&lt;=(32-cur.length);i++){
+				WT.co_f+=Math.floor(Math.random()*16.0).toString(16);
+			}
+			WT.co_f+=cur;
+			WT.vt_f="1";
+		}
+		if (typeof(gWtAccountRollup)=="undefined"){
+			WT.vt_f_a="1";
+		}
+		WT.vt_f_s="1";
+		WT.vt_f_d="1";
+		WT.vt_f_tlh=WT.vt_f_tlv="0";
+	}
+	else{
+		var id=dcsGetIdCrumb(name,"id");
+		var lv=parseInt(dcsGetCrumb(name,"lv"));
+		var ss=parseInt(dcsGetCrumb(name,"ss"));
+		if ((id==null)||(id=="null")||isNaN(lv)||isNaN(ss)){
+			return;
+		}
+		WT.co_f=id;
+		var dLst=new Date(lv);
+		WT.vt_f_tlh=Math.floor((dLst.getTime()-adj)/1000);
+		dSes.setTime(ss);
+		if ((dCur.getTime()>(dLst.getTime()+1800000))||(dCur.getTime()>(dSes.getTime()+28800000))){
+			WT.vt_f_tlv=Math.floor((dSes.getTime()-adj)/1000);
+			dSes.setTime(dCur.getTime());
+			WT.vt_f_s="1";
+		}
+		if ((dCur.getDay()!=dLst.getDay())||(dCur.getMonth()!=dLst.getMonth())||(dCur.getYear()!=dLst.getYear())){
+			WT.vt_f_d="1";
+		}
+	}
+	WT.co_f=escape(WT.co_f);
+	WT.vt_sid=WT.co_f+"."+(dSes.getTime()-adj);
+	var expiry="; expires="+dExp.toGMTString();
+	document.cookie=name+"="+"id="+WT.co_f+":lv="+dCur.getTime().toString()+":ss="+dSes.getTime().toString()+expiry+"; path=/"+(((typeof(gFpcDom)!="undefined")&&(gFpcDom!=""))?("; domain="+gFpcDom):(""));
+	if (document.cookie.indexOf(name+"=")==-1){
+		WT.co_f=WT.vt_sid=WT.vt_f_s=WT.vt_f_d=WT.vt_f_tlh=WT.vt_f_tlv="";
+		WT.vt_f=WT.vt_f_a="2";
+	}
+}
+
+var gFpcDom=".microsoft.com";
+
+function dcsEvt(evt,tag){
+	var e=evt.target||evt.srcElement;
+	while (e.tagName&&(e.tagName!=tag)){
+		e=e.parentElement||e.parentNode;
+	}
+	return e;
+}
+function dcsBind(event,func){
+	if ((typeof(window[func])=="function")&&document.body){
+		if (document.body.addEventListener){
+			document.body.addEventListener(event, window[func], true);
+		}
+		else if(document.body.attachEvent){
+			document.body.attachEvent("on"+event, window[func]);
+		}
+	}
+}
+function dcsET(){
+	dcsBind("click","dcsDownload");
+	dcsBind("click","dcsFormButton");
+	dcsBind("keypress","dcsFormButton");
+	dcsBind("click","dcsImageMap");
+}
+// custom version
+function dcsMultiTrack(){
+	for (var i=0;i&lt;arguments.length;i++){
+		if (arguments[i].indexOf('WT.')==0){
+			WT[arguments[i].substring(3)]=
+			arguments[i+1];i++;
+		}
+		if (arguments[i].indexOf('DCS.')==0){
+			DCS[arguments[i].substring(4)]=
+			arguments[i+1];i++;
+		}
+		if (arguments[i].indexOf('DCSext.')==0){
+			DCSext[arguments[i].substring(7)]=
+			arguments[i+1];i++;
+		}
+	}
+	var dCurrent=new Date();
+	DCS.dcsdat=dCurrent.getTime();
+	dcsTag();
+}
+// function dcsMultiTrack(){
+// 	alert("dcsMultiTrack");
+// 	if (arguments.length%2==0){
+// 		for (var i=0;i&lt;arguments.length;i+=2){
+// 			if (arguments[i].indexOf('WT.')==0){
+// 				WT[arguments[i].substring(3)]=arguments[i+1];
+// 			}
+// 			else if (arguments[i].indexOf('DCS.')==0){
+// 				DCS[arguments[i].substring(4)]=arguments[i+1];
+// 			}
+// 			else if (arguments[i].indexOf('DCSext.')==0){
+// 				DCSext[arguments[i].substring(7)]=arguments[i+1];
+// 			}
+// 		}
+// 		var dCurrent=new Date();
+// 		DCS.dcsdat=dCurrent.getTime();
+// 		dcsTag();
+// 	}
+// }
+function dcsDownload(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var e=dcsEvt(evt,"A");
+		if(e){
+			if (e.hostname&&e.href&&e.protocol&&(e.protocol.indexOf("http")!=-1)){
+				dcsNavigation(e);
+				var gPath=e.pathname?((e.pathname.indexOf("/")!=0)?"/"+e.pathname:e.pathname):"/";				
+				if(document.all){var gTitle=e.innerText||e.innerHTML||"";}else{var gTitle=e.text||e.innerHTML||"";}
+				dcsMultiTrack("DCS.dcssip",e.hostname,"DCS.dcsuri",gPath,"DCS.dcsqry",e.search||"","WT.ti","Link:"+gTitle,"WT.dl","1","WT.ad","","WT.mc_id","","WT.sp","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl=gTitle=gPath="";
+			}
+		}
+	}
+}
+function dcsNavigation(wtnode){
+	try{
+	var wtCount=0;
+	while(wtCount!=1){
+		if(wtnode.parentNode.tagName!="DIV"){
+			wtnode=wtnode.parentNode;
+		}
+		if(wtnode.parentNode.tagName=="DIV"){
+			if((wtnode.parentNode.getAttribute('id'))||(wtnode.parentNode.className)){
+				DCSext.wtNavigation = wtnode.parentNode.getAttribute("id")||wtnode.parentNode.className;
+				wtCount=1;
+			}
+			else{
+				wtnode=wtnode.parentNode;
+			}		
+		}
+	}}
+	catch(error){}				
+}
+function dcsRightClick(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var btn=evt.which||evt.button;
+		if (btn!=1){
+			var e=dcsEvt(evt,"A");
+			if(e){
+			if (e.hostname&&e.href&&e.protocol&&(e.protocol.indexOf("http")!=-1)){
+				var gPath=e.pathname?((e.pathname.indexOf("/")!=0)?"/"+e.pathname:e.pathname):"/";				
+				if(document.all){var gTitle=e.innerText||e.innerHTML||"";}else{var gTitle=e.text||e.innerHTML||"";}
+				dcsMultiTrack("DCS.dcssip",e.hostname,"DCS.dcsuri",gPath,"DCS.dcsqry",e.search||"","WT.ti","Link:"+gTitle,"WT.dl","1","WT.rc","1","WT.ad","","WT.mc_id","","WT.sp","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl=gTitle=WT.rc=gPath="";
+			}
+		}
+		}
+	}
+}
+function dcsImageMap(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var f=dcsEvt(evt,"AREA");
+		if(f){
+			if (f.hostname&&f.href&&f.protocol&&(f.protocol.indexOf("http")!=-1)){
+				var path=f.pathname?((f.pathname.indexOf("/")!=0)?"/"+f.pathname:f.pathname):"/";
+				dcsMultiTrack("DCS.dcssip",f.hostname,"DCS.dcsuri",path,"DCS.dcsqry",f.search||"","WT.ti","Link:Image Map","WT.dl","1","WT.ad","","WT.mc_id","","WT.sp","","DCSext.wt_link_e","c","DCSext.wt_linkid","");
+				DCS.dcssip=DCS.dcsuri=DCS.dcsqry=WT.ti=WT.dl="";
+			}			
+		}
+	}
+}
+function dcsFormButton(evt){
+	evt=evt||(window.event||"");
+	if (evt){
+		var e=dcsEvt(evt,"INPUT");
+		var type=e.type||"";
+		if (type&&((type=="submit")||(type=="image")||(type=="button")||(type=="reset"))||((type=="text")&&((evt.which||evt.keyCode)==13))){
+			var gUri=gTitle=gMethod=qry="";
+			if(e.form){
+				var elems=e.form.elements;
+				for (var i=0;i&lt;elems.length;i++){
+					var etype=elems[i].type;
+					if (etype=="text"){
+						qry+=((qry=="")?"":"&")+escape(elems[i].name)+"="+escape(elems[i].value);
+					}
+				}
+				gUri=e.form.action||window.location.pathname;
+				gTitle=e.form.id||e.form.className||e.form.name||"Unknown";
+				gMethod=e.form.method||"Unknown";
+			}
+			else{
+				gUri=window.location.pathname;
+				gTitle=e.name||e.id||"Unknown";
+				gMethod="Input";
+			}
+			if((gUri!="")&&(gTitle!="")&&(gMethod!="")&&(evt.keyCode!=9)){
+				dcsMultiTrack("DCS.dcsuri",gUri,"DCS.dcsqry",qry,"WT.ti","FormButton:"+gTitle,"WT.dl","2","WT.fm",gMethod,"WT.ad","","WT.mc_id","","WT.sp","");
+			}
+			DCS.dcsuri=DCS.dcsqry=qry=WT.ti=WT.dl=WT.fm=gUri=gTitle=gMethod="";
+		}
+	}
+}
+function dcsAdSearch(){
+	if (document.links){
+		for (var i=0;i&lt;document.links.length;i++){
+			var anch=document.links[i].href+"";
+			var pos=anch.toUpperCase().indexOf("WT.AC=");
+			if (pos!=-1){
+				var start=pos+6;
+				var end=anch.indexOf("&",start);
+				var value=anch.substring(start,(end!=-1)?end:anch.length);
+				WT.ad=WT.ad?(WT.ad+";"+value):value;
+			}
+		}
+	}
+}
+function dcsNvr(){
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var cur=new Date();
+	var exp=new Date(cur.getTime()+315360000000);
+	var cfields={name:"WT_NVR",value:"",expiry:"; expires="+exp.toGMTString(),path:"; path=/",domain:"; domain="+window.location.hostname};
+	var cdata=dcsNvrRead(cfields.name);
+	var isnew=dcsNvrProcess(cdata);
+	if (isnew||dcsNvrFind(cfields.name,",")){
+		var c=dcsNvrCompose(cdata,cfields);
+		for (var i=0;i&lt;c.length;i++){
+			document.cookie=c[i];
+		}
+	}
+	if (isnew){
+		var val=(document.cookie.indexOf(cfields.name+"=")!=-1)?"1":"2";
+		for (var i=0;i&lt;cdata.length;i++){
+			if (cdata[i][1]){
+				WT["vt_nvr"+(i+1)]=val;
+			}
+		}
+	}
+}
+
+function dcsNvrRead(name){
+	var data=new Array();
+	var num=0;
+	var re=/,/g;
+	var value=dcsNvrGetCookie(name);
+	while(value){
+		var levels=value.split(":");
+		for (var i=0;i&lt;levels.length;i++){
+			var crumbs=levels[i].split("=");
+			var level=parseInt(crumbs[0]);
+			var paths=crumbs[1].replace(re,"|").split("|");
+			if (typeof(data[level])!="object"){
+				data[level]=new Array(paths,false);
+			}
+			else{
+				data[level][0]=data[level][0].concat(paths);
+			}
+		}
+		num++;
+		value=dcsNvrGetCookie(name+num);
+	}
+	return data;
+}
+
+function dcsNvrFind(name,tofind){
+	var found=false;
+	var num=0;
+	var value=dcsNvrGetCookie(name);
+	while(value){
+		if (value.indexOf(tofind)!=-1){
+			found=true;
+			break;
+		}
+		num++;
+		value=dcsNvrGetCookie(name+num);
+	}
+	return found;
+}
+
+function dcsNvrGetCookie(name){
+	var pos=document.cookie.indexOf(name+"=");
+	if (pos!=-1){
+		var start=pos+name.length+1;
+		var end=document.cookie.indexOf(";",start);
+		if (end==-1){
+			end=document.cookie.length;
+		}
+		return document.cookie.substring(start,end);
+	}
+	return null;
+}
+
+function dcsNvrProcess(data){
+	var newv=false;
+	var maxlevel=3;
+	var curlevel=0;
+	var splitp=new Array();
+	var p=window.location.pathname;
+	var curpath=p.substring(p.indexOf("/")+1,p.lastIndexOf("/")).toLowerCase();
+	var badchars={"%09":/\t/g,"%20":/ /g,"%2C":/,/g,"%3B":/;/g};
+	var tmp=new String(curpath);
+	for (var ch in badchars){
+		tmp=tmp.replace(badchars[ch],ch);
+	}
+	curpath=tmp;
+
+	if (curpath.length>1){
+		splitp=curpath.split("/",maxlevel);
+		curlevel=splitp.length;
+		curpath=splitp.join("/");
+	}
+	if (data.length>0){
+		var found=false;
+		if (data.length>curlevel){
+			for (var i=0;i&lt;data[curlevel][0].length;i++){
+				if (data[curlevel][0][i]==curpath){
+					found=true;
+					break;
+				}
+			}
+			if (!found){
+				data[curlevel][0][data[curlevel][0].length]=curpath;
+				data[curlevel][1]=true;
+				newv=true;
+			}
+		}
+		else{
+			for (var i=0;i&lt;(curlevel+1);i++){
+				if (typeof(data[i])!="object"){
+					data[i]=new Array([(i==0)?"/":splitp.slice(0,i).join("/")],true);
+				}
+			}
+			newv=true;
+		}
+	}
+	else{
+		for (var i=0;i&lt;(curlevel+1);i++){
+			data[i]=new Array([(i==0)?"/":splitp.slice(0,i).join("/")],true);
+		}
+		newv=true;
+	}
+	return newv;
+}
+
+function dcsNvrCompose(data,fields){
+	var cookies=new Array();
+	var paths=new Array();
+	var num=0;
+	var maxnum=10;
+	var maxval=4000;
+	var maxed=false;
+	for (var i=0;(i&lt;data.length)&&!maxed;i++){
+		paths=data[i][0];
+		var newpath=i+"=";
+		for (var j=0;(j&lt;paths.length)&&!maxed;j++){
+			newpath+=((j==0)?"":"|")+paths[j];
+			if (((fields.name+num).length+fields.value.length+newpath.length+1)&lt;=maxval){
+				if ((fields.value.length>0)&&(j==0)){
+					fields.value+=":";
+				}
+				fields.value+=newpath;
+			}
+			else if (fields.value.length>0){
+				cookies[num]=fields.name+(num||"")+"="+fields.value+fields.expiry+fields.path+fields.domain;
+				fields.value=i+"="+paths[j];
+				if ((++num)>(maxnum-1)){
+					maxed=true;
+				}
+			}
+			newpath="";
+		}
+	}
+	if (!maxed){
+		cookies[num]=fields.name+(num||"")+"="+fields.value+fields.expiry+fields.path+fields.domain;
+	}
+	return cookies;
+}
+function dcsAdv(){
+	if ((typeof(gTrackEvents)!="undefined")&&gTrackEvents){
+		WT.wtsv=1;
+		if(typeof(WT.sp)!="undefined"){WT.sv_sp=WT.sp;}
+		dcsFunc("dcsET");
+	}
+	dcsFunc("dcsCookie");
+	dcsFunc("dcsAdSearch");
+	dcsFunc("dcsNvr");
+}
+
+var gImages=new Array;
+var gIndex=0;
+var DCS=new Object();
+var WT=new Object();
+var DCSext=new Object();
+var gQP=new Array();
+var gI18n=false;
+if (window.RegExp){
+	var RE={"%09":/\t/g,"%20":/ /g,"%23":/\#/g,"%26":/\&/g,"%2B":/\+/g,"%3F":/\?/g,"%5C":/\\/g};
+	var I18NRE={"%25":/\%/g};
+}
+
+function dcsVar(){
+	var dCurrent=new Date();
+	WT.tz=dCurrent.getTimezoneOffset()/60*-1;
+	if (WT.tz==0){
+		WT.tz="0";
+	}
+	WT.bh=dCurrent.getHours();
+	WT.ul=navigator.appName=="Netscape"?navigator.language:navigator.userLanguage;
+	if (typeof(screen)=="object"){
+		WT.cd=navigator.appName=="Netscape"?screen.pixelDepth:screen.colorDepth;
+		WT.sr=screen.width+"x"+screen.height;
+	}
+	if (typeof(navigator.javaEnabled())=="boolean"){
+		WT.jo=navigator.javaEnabled()?"Yes":"No";
+	}
+	if (document.title){
+		WT.ti=gI18n?dcsEscape(dcsEncode(document.title),I18NRE):document.title;
+	}
+	WT.js="Yes";
+	WT.jv=dcsJV();
+	if (document.body&&document.body.addBehavior){
+		document.body.addBehavior("#default#clientCaps");
+		if (document.body.connectionType){
+			WT.ct=document.body.connectionType;
+		}
+		document.body.addBehavior("#default#homePage");
+		WT.hp=document.body.isHomePage(location.href)?"1":"0";
+	}
+	if (parseInt(navigator.appVersion)>3){
+		if ((navigator.appName=="Microsoft Internet Explorer")&&document.body){
+			WT.bs=document.body.offsetWidth+"x"+document.body.offsetHeight;
+		}
+		else if (navigator.appName=="Netscape"){
+			WT.bs=window.innerWidth+"x"+window.innerHeight;
+		}
+	}
+	WT.fi="No";
+	WT.fv=(function(){
+		var i,flash;
+		if (window.ActiveXObject){
+			for(i=10;i>0;i--){
+				try{
+					flash=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+i);
+					WT.fi="Yes";
+					return i+".0";
+				}
+				catch(e){
+				}
+			}
+		}
+		else if (navigator.plugins&&navigator.plugins.length){
+			for (i=0;i&lt;navigator.plugins.length;i++){
+				if (navigator.plugins[i].name.indexOf('Shockwave Flash')!=-1){
+					WT.fi="Yes";
+					return navigator.plugins[i].description.split(" ")[2];
+				}
+			}
+		}
+		return "";
+	})();
+	WT.sli=(function(){
+    try{        
+    	if(navigator.userAgent.indexOf('MSIE')!=-1){
+    		var wtsli = new ActiveXObject('AgControl.AgControl');
+      	if(wtsli){return "Installed";}
+      }
+      else{
+				if (navigator.plugins["Silverlight Plug-In"]){
+        	return "Installed";        
+        }
+      }
+ 		}
+    catch(e){}
+    return "Not Installed";
+	})();
+	WT.slv=(function(){
+		var i,j,slv;
+    if ((typeof(Silverlight)=="object")&&(typeof(Silverlight.isInstalled)=="function")){
+			for(j=0;j&lt;10;j++){
+				for(i=3;i>0;i--){
+					slv=i+"."+j;
+					if (Silverlight.isInstalled(slv)){
+						return slv;
+					}
+				}
+			}
+		}
+		return "Version Unavailable";
+	})();
+	if (gI18n){
+		WT.em=(typeof(encodeURIComponent)=="function")?"uri":"esc";
+		if (typeof(document.defaultCharset)=="string"){
+			WT.le=document.defaultCharset;
+		} 
+		else if (typeof(document.characterSet)=="string"){
+			WT.le=document.characterSet;
+		}
+	}
+	WT.dl="0";
+	WT.dcsvid=dcsGetCookie("MC1");
+	DCS.dcsdat=dCurrent.getTime();
+	DCS.dcssip=window.location.hostname;
+	DCS.dcsuri=window.location.pathname;
+	var currentTime = new Date();
+	DCSext.wt_date = currentTime.getFullYear() + "/" + (currentTime.getMonth() + 1) + "/" + currentTime.getDate();
+	DCSext.wt_dos=1;
+	var gDirLevels = 5;
+	var gFpath = window.location.pathname.substring(window.location.pathname.indexOf('/')+1,window.location.pathname.lastIndexOf('/')+1).toLowerCase();
+	if(gFpath==''){gFpath="/";}	
+	else{	
+		var gSplit=gFpath.split("/");
+		gFpath="";
+		for(var i=1;i&lt;gSplit.length&&i&lt;=gDirLevels;i++){
+			gFpath+="/";
+			for(var b=0;b&lt;i;b++){
+					gFpath+=gSplit[b]+"/";
+			}
+			if(i!=gDirLevels&&i!=gSplit.length-1){
+				gFpath+=";";
+			}		
+		}
+	}
+	DCSext.wtDrillDir=gFpath;
+	DCSext.wtEvtSrc=window.location.hostname+window.location.pathname;
+	if (window.location.search){
+		DCS.dcsqry=window.location.search;
+		if (gQP.length>0){
+			for (var i=0;i&lt;gQP.length;i++){
+				var pos=DCS.dcsqry.indexOf(gQP[i]);
+				if (pos!=-1){
+					var front=DCS.dcsqry.substring(0,pos);
+					var end=DCS.dcsqry.substring(pos+gQP[i].length,DCS.dcsqry.length);
+					DCS.dcsqry=front+end;
+				}
+			}
+		}
+	}
+	if ((window.document.referrer!="")&&(window.document.referrer!="-")){
+		if (!(navigator.appName=="Microsoft Internet Explorer"&&parseInt(navigator.appVersion)&lt;4)){
+			DCS.dcsref=gI18n?dcsEscape(window.document.referrer, I18NRE):window.document.referrer;
+		}
+	}
+}
+function dcsA(N,V){
+	return "&"+N+"="+dcsEscape(V, RE);
+}
+function dcsEscape(S, REL){
+	if (typeof(REL)!="undefined"){
+		var retStr = new String(S);
+		for (R in REL){
+			retStr = retStr.replace(REL[R],R);
+		}
+		return retStr;
+	}
+	else{
+		return escape(S);
+	}
+}
+function dcsEncode(S){
+	return (typeof(encodeURIComponent)=="function")?encodeURIComponent(S):escape(S);
+}
+function dcsCreateImage(dcsSrc){
+	if (document.images){
+		gImages[gIndex]=new Image;
+		gImages[gIndex].src=dcsSrc;
+		gIndex++;
+	}
+	else{
+		document.write('&lt;IMG ALT="" BORDER="0" NAME="DCSIMG" WIDTH="1" HEIGHT="1" SRC="'+dcsSrc+'">');
+	}
+}
+function dcsMeta(){
+	var elems;
+	if (document.all){
+		elems=document.all.tags("meta");
+	}
+	else if (document.documentElement){
+		elems=document.getElementsByTagName("meta");
+	}
+	if (typeof(elems)!="undefined"){
+		for (var i=1;i&lt;=elems.length;i++){
+			var meta=elems.item(i-1);
+			if (meta.name){
+				if (meta.name.indexOf('WT.')==0){
+					WT[meta.name.substring(3)]=(gI18n&&(meta.name.indexOf('WT.ti')==0))?dcsEscape(dcsEncode(meta.content),I18NRE):meta.content;
+				}
+				else if (meta.name.indexOf('DCSext.')==0){
+					DCSext[meta.name.substring(7)]=meta.content;
+				}
+				else if (meta.name.indexOf('DCS.')==0){
+					DCS[meta.name.substring(4)]=(gI18n&&(meta.name.indexOf('DCS.dcsref')==0))?dcsEscape(meta.content,I18NRE):meta.content;
+				}
+			}
+		}
+	}
+}
+function dcsTag(){
+	if (document.cookie.indexOf("WTLOPTOUT=")!=-1){
+		return;
+	}
+	var P="http"+(window.location.protocol.indexOf('https:')==0?'s':'')+"://"+gDomain+(gDcsId==""?'':'/'+gDcsId)+"/dcs.gif?";
+	//alert("dcsTag, P = " + P);
+	for (N in DCS){
+		if (DCS[N]) {
+			P+=dcsA(N,DCS[N]);
+		}
+	}
+	for (N in WT){
+		if (WT[N]) {
+			P+=dcsA("WT."+N,WT[N]);
+		}
+	}
+	for (N in DCSext){
+		if (DCSext[N]) {
+			P+=dcsA(N,DCSext[N]);
+		}
+	}
+	if (P.length>2048&&navigator.userAgent.indexOf('MSIE')>=0){
+		P=P.substring(0,2040)+"&WT.tu=1";
+	}
+	//alert("dcsTag, P = " + P);
+	dcsCreateImage(P);
+}
+function dcsJV(){
+	var agt=navigator.userAgent.toLowerCase();
+	var major=parseInt(navigator.appVersion);
+	var mac=(agt.indexOf("mac")!=-1);
+	var nn=((agt.indexOf("mozilla")!=-1)&&(agt.indexOf("compatible")==-1));
+	var nn4=(nn&&(major==4));
+	var nn6up=(nn&&(major>=5));
+	var ie=((agt.indexOf("msie")!=-1)&&(agt.indexOf("opera")==-1));
+	var ie4=(ie&&(major==4)&&(agt.indexOf("msie 4")!=-1));
+	var ie5up=(ie&&!ie4);
+	var op=(agt.indexOf("opera")!=-1);
+	var op5=(agt.indexOf("opera 5")!=-1||agt.indexOf("opera/5")!=-1);
+	var op6=(agt.indexOf("opera 6")!=-1||agt.indexOf("opera/6")!=-1);
+	var op7up=(op&&!op5&&!op6);
+	var jv="1.1";
+	if (nn6up||op7up){
+		jv="1.5";
+	}
+	else if ((mac&&ie5up)||op6){
+		jv="1.4";
+	}
+	else if (ie5up||nn4||op5){
+		jv="1.3";
+	}
+	else if (ie4){
+		jv="1.2";
+	}
+	return jv;
+}
+function dcsFunc(func){
+	if (typeof(window[func])=="function"){
+		window[func]();
+	}
+}
+function dcsDebug()
+{
+	var wtVars="\nTag Version = "+gTagVer+"\nDomain = "+gDomain+"\nDCSId = "+gDcsId;
+	for(N in DCS){wtVars+="\nDCS."+N+" = "+DCS[N];}
+	for(N in WT){wtVars+="\nWT."+N+" = "+WT[N];}
+	for(N in DCSext){wtVars+="\nDCSext."+N+" = "+DCSext[N];}
+	alert(wtVars);
+}
+dcsVar();
+dcsMeta();
+dcsFunc("dcsAdv");
+dcsTag();
\ No newline at end of file
diff --git a/src/js/xml2array.js b/src/js/xml2array.js
new file mode 100644
index 0000000..26c6fd9
--- /dev/null
+++ b/src/js/xml2array.js
@@ -0,0 +1,131 @@
+//See http://www.openjs.com/scripts/xml_parser/
+//This can be given inside the funciton - I made it a global variable to make the scipt a little bit faster.
+var not_whitespace=new RegExp(/[^\s]/);
+var parent_count;
+function xml2array(xmlDoc,parent_count)
+{
+	var arr;
+	var parent="";
+	parent_count=parent_count||new Object;
+  
+	/* CONFIG: Value - 1 or 0
+	 * If 1, Value and Attribute will be shown inside the tag - like this...
+	 * For the XML string...
+	 * &lt;guid isPermaLink="true">http://www.bin-co.com/&lt;/guid>
+	 * The resulting array will be...
+	 * array['guid']['value'] = "http://www.bin-co.com/";
+	 * array['guid']['attribute_isPermaLink'] = "true";
+	 * 
+	 * If 0, the value will be inside the tag but the attribute will be outside - like this...	
+	 * For the same XML String the resulting array will be...
+	 * array['guid'] = "http://www.bin-co.com/";
+	 * array['attribute_guid_isPermaLink'] = "true";
+	 */
+	var attribute_inside=0;
+	
+	if(xmlDoc.nodeName&&xmlDoc.nodeName.charAt(0)!="#")
+	{
+		if(xmlDoc.childNodes.length>1)
+		{
+			arr=new Object;
+			parent=xmlDoc.nodeName;
+		}
+	}
+	var value=xmlDoc.nodeValue;
+	if(xmlDoc.parentNode && xmlDoc.parentNode.nodeName && value)
+	{
+		//If its a child
+		if(not_whitespace.test(value))
+		{
+			arr=new Object;
+			arr[xmlDoc.parentNode.nodeName]=value;
+		}
+	}
+	if(xmlDoc.childNodes.length)
+	{
+		if(xmlDoc.childNodes.length==1)
+		{
+			//Just one item in this tag.
+			arr=xml2array(xmlDoc.childNodes[0],parent_count); //recurse
+		}
+		else
+		{ 
+			//If there is more than one childNodes, go thru them one by one and get their results.
+			var index=0;
+			for(var i=0; i&lt;xmlDoc.childNodes.length; i++)
+			{
+				//Go thru all the child nodes.
+				var temp=xml2array(xmlDoc.childNodes[i],parent_count);//recurse
+				if(temp)
+				{
+					var assoc=false;
+					var arr_count=0;
+					for(key in temp)
+					{
+						if(isNaN(key))assoc=true;
+						arr_count++;
+						if(arr_count>2)break;//We just need to know wether it is a single value array or not
+					}
+					if(assoc && arr_count == 1)
+					{
+						if(arr[key])
+						{
+							//if another element exists with the same tag name before,
+							//put it in a numeric array.
+							//find out how many time this parent made its appearance
+							if(!parent_count||!parent_count[key])
+							{
+								parent_count[key]=0;
+								var temp_arr=arr[key];
+								arr[key]=new Object;
+								arr[key][0]=temp_arr;
+							}
+							parent_count[key]++;
+							arr[key][parent_count[key]]=temp[key]; //Members of of a numeric array
+						}
+						else
+						{
+							parent_count[key]=0;
+							arr[key]=temp[key];
+							if(xmlDoc.childNodes[i].attributes && xmlDoc.childNodes[i].attributes.length)
+							{
+								for(var j=0;j&lt;xmlDoc.childNodes[i].attributes.length;j++)
+								{
+									var nname=xmlDoc.childNodes[i].attributes[j].nodeName;
+									if(nname)
+									{
+										/*value and attribute inside the tag */
+										if(attribute_inside)
+										{
+											var temp_arr=arr[key];
+											arr[key]=new Object;
+											arr[key]['value']=temp_arr;
+											arr[key]['attribute_'+nname]=xmlDoc.childNodes[i].attributes[j].nodeValue;
+										}
+										else
+										{
+										  /*value in the tag and Attribute otside the tag(in parent)*/
+											arr['attribute_' + key + '_' + nname]=xmlDoc.childNodes[i].attributes[j].nodeValue;
+										}
+									}
+								} //End of 'for(var j=0; j&lt;xmlDoc. ...'
+							} //End of 'if(xmlDoc.childNodes[i] ...'
+						}
+					}
+					else
+					{
+						arr[index]=temp;
+						index++;
+					}
+				} //End of 'if(temp) {'
+			} //End of 'for(var i=0; i&lt;xmlDoc. ...'
+		}
+	}
+	if(parent&&arr)
+	{
+		var temp=arr;
+		arr=new Object;
+		arr[parent]=temp;
+	}
+	return arr;
+}
\ No newline at end of file
diff --git a/src/jsfl/allow smoothing.jsfl b/src/jsfl/allow smoothing.jsfl
new file mode 100644
index 0000000..b181f18
--- /dev/null
+++ b/src/jsfl/allow smoothing.jsfl	
@@ -0,0 +1,7 @@
+/**
+ * Sets allow smoothing to true on all bitmaps.
+ */
+var libItems=fl.getDocumentDOM().library.items;
+var i=0;
+var l=libItems.length;
+for(i;i&lt;l;i++){if(libItems[i].itemType=="bitmap")libItems[i].allowSmoothing=true;}
\ No newline at end of file
diff --git a/src/jsfl/create swc from package.jsfl b/src/jsfl/create swc from package.jsfl
new file mode 100644
index 0000000..e69de29
diff --git a/src/jsfl/delete all graphic symbols.jsfl b/src/jsfl/delete all graphic symbols.jsfl
new file mode 100644
index 0000000..a583341
--- /dev/null
+++ b/src/jsfl/delete all graphic symbols.jsfl	
@@ -0,0 +1,7 @@
+/**
+ * Deletes all graphic symbols from the library.
+ */
+var dom = fl.getDocumentDOM();
+var items = dom.library.items;
+var lib= dom.library;
+for(var i=0;i&lt;items.length;i++) if(items[i].itemType=="graphic") lib.deleteItem(items[i].name);
\ No newline at end of file
diff --git a/src/jsfl/distribute to layers and name instances.jsfl b/src/jsfl/distribute to layers and name instances.jsfl
new file mode 100644
index 0000000..e69de29
diff --git a/src/jsfl/guide all layers.jsfl b/src/jsfl/guide all layers.jsfl
new file mode 100644
index 0000000..75d323a
--- /dev/null
+++ b/src/jsfl/guide all layers.jsfl	
@@ -0,0 +1,11 @@
+/**
+ * Guide all layers except masks.
+ */
+var doc=fl.getDocumentDOM();
+var tl=doc.getTimeline();
+var layers=tl.layers;
+for(var i=0;i&lt;layers.length;i++)
+{
+	if(layers[i].layerType=="mask")continue;
+	else layers[i].layerType="guide";
+}
\ No newline at end of file
diff --git a/src/jsfl/guide layers of selected instances.jsfl b/src/jsfl/guide layers of selected instances.jsfl
new file mode 100644
index 0000000..58980f3
--- /dev/null
+++ b/src/jsfl/guide layers of selected instances.jsfl	
@@ -0,0 +1,8 @@
+/**
+ * Guide's all layers from the selected items on the stage.
+ */
+var dom=fl.getDocumentDOM();
+var selection=dom.selection;
+var i=0;
+var l=selection.length;
+for(i;i&lt;l;i++)selection[i].layer.layerType="guide";
\ No newline at end of file
diff --git a/src/jsfl/guide selected layers.jsfl b/src/jsfl/guide selected layers.jsfl
new file mode 100644
index 0000000..67afe76
--- /dev/null
+++ b/src/jsfl/guide selected layers.jsfl	
@@ -0,0 +1,11 @@
+/**
+ * Turn's all selected layers into guides.
+ */
+var layerArray=fl.getDocumentDOM().getTimeline().getSelectedLayers();
+var a=0;
+for(a;a&lt;layerArray.length;a++)
+{
+	var numLayer=layerArray[a];
+	var thisLayer=fl.getDocumentDOM().getTimeline().layers[numLayer];
+	thisLayer.layerType="guide";
+}
\ No newline at end of file
diff --git a/src/jsfl/instance names for selected items.jsfl b/src/jsfl/instance names for selected items.jsfl
new file mode 100644
index 0000000..40d4d13
--- /dev/null
+++ b/src/jsfl/instance names for selected items.jsfl	
@@ -0,0 +1,9 @@
+var items = fl.getDocumentDOM().selection;
+for(var i=0;i&lt;items.length;i++)
+{
+//	fl.trace(items[i].name);
+	//fl.trace("TEST");
+	//fl.trace(items[i].libraryItem.name.split("/").pop().toString())
+	//items[i].name=items[i].libraryItem.name.split("/").pop().toString();
+	items[i].name = "burt_"+i.toString();
+}
\ No newline at end of file
diff --git a/src/jsfl/lock all masks.jsfl b/src/jsfl/lock all masks.jsfl
new file mode 100755
index 0000000..31b5475
--- /dev/null
+++ b/src/jsfl/lock all masks.jsfl	
@@ -0,0 +1,15 @@
+﻿/**
+ * Lock's all mask layers.
+ */
+var doc=fl.getDocumentDOM();
+var tl=doc.getTimeline();
+var layers=tl.layers;
+for(var i=0;i&lt;layers.length;i++)
+{
+	if(layers[i].layerType=="mask")
+	{
+		tl.setSelectedLayers(i,i);
+		tl.setLayerProperty("locked",true,"selected");
+		tl.setLayerProperty("visible",false,"selected");
+	}
+}
\ No newline at end of file
diff --git a/src/jsfl/lock selected layers.jsfl b/src/jsfl/lock selected layers.jsfl
new file mode 100644
index 0000000..69a126c
--- /dev/null
+++ b/src/jsfl/lock selected layers.jsfl	
@@ -0,0 +1,11 @@
+/**
+ * Toggle the lock option on selected layers.
+ */
+var layers = fl.getDocumentDOM().getTimeline().getSelectedLayers();
+var i=0;
+var l=layers.length;
+for(i;i&lt;l;i++)
+{
+	var layer = fl.getDocumentDOM().getTimeline().layers[i];
+	layer.locked = !layer.locked;
+}
\ No newline at end of file
diff --git a/src/jsfl/movieclip to swf.jsfl b/src/jsfl/movieclip to swf.jsfl
new file mode 100644
index 0000000..3a1250b
--- /dev/null
+++ b/src/jsfl/movieclip to swf.jsfl	
@@ -0,0 +1,20 @@
+/**
+ * Recursively exports selected movie clips in the library as swf's.
+ */
+function MovieClipToSWF()
+{
+	var docPath=document.path.replace(/\\/g,'/').split('/').slice(0,-1).join('/')+"/";
+	var exportPath=docPath='file:///'+docPath;
+	var dom=fl.getDocumentDOM();
+	var si=dom.library.getSelectedItems();
+	var publishProfileSource=docPath+document.name.toString().replace(/\.fla/i,"")+'_publishProfile.xml';
+	dom.exportPublishProfile(publishProfileSource);
+	var publishProfile=FLfile.read(publishProfileSource);
+	var exportval=publishProfile.match(/&lt;flashFileName>(.*)&lt;\/flashFileName>/)[1].replace(/\\/g,"/");
+	exportPath=((docPath.indexOf("/")>-1)?docPath+exportval.split("/").slice(0,-1).join("/")+"/":docPath).replace("file:////","");
+	while(exportPath.match(/\/$/))exportPath=exportPath.replace(/\/$/,"");
+	if(si.length==0)alert('ERROR: No Library items are selected.');
+	else for(var i=0;i&lt;si.length;i++)if(si[i].itemType=='movie clip')(si[i].name.indexOf("/")>-1)?si[i].exportSWF("file:///"+exportPath+"/"+(si[i].name.split("/").slice(-1))+".swf"):si[i].exportSWF("file:///"+exportPath+"/"+si[i].name+".swf");
+	FLfile.remove(publishProfileSource);
+}
+MovieClipToSWF();
\ No newline at end of file
diff --git a/src/jsfl/open linkage settings.jsfl b/src/jsfl/open linkage settings.jsfl
new file mode 100644
index 0000000..bdef0aa
--- /dev/null
+++ b/src/jsfl/open linkage settings.jsfl	
@@ -0,0 +1,2 @@
+var lib=fl.getDocumentDOM().library;
+var items=lib.getSelectedItems();
\ No newline at end of file
diff --git a/src/jsfl/organize library.jsfl b/src/jsfl/organize library.jsfl
new file mode 100644
index 0000000..9ef4f40
--- /dev/null
+++ b/src/jsfl/organize library.jsfl	
@@ -0,0 +1,83 @@
+/**
+ * Organizes all library items - folders get 
+ * created for each item type and items get moved into those folders.
+ */
+
+//possible item types:
+//undefined,component,movie clip,
+//graphic,button,folder,font,
+//sound,bitmap,compiled clip,screen,video
+
+var lib = fl.getDocumentDOM().library;
+function makeFolders()
+{
+	lib.newFolder("movieclips");
+	lib.newFolder("fonts");
+	lib.newFolder("sounds");
+	lib.newFolder("graphics");
+	lib.newFolder("bitmaps");
+	lib.newFolder("components");
+	lib.newFolder("videos");
+	lib.newFolder("buttons");
+}
+makeFolders();
+function moveMovieClip(item){lib.moveToFolder("movieclips",item.name,false);}
+function moveBitmap(item){lib.moveToFolder("bitmaps",item.name,false);}
+function moveSound(item){lib.moveToFolder("sounds",item.name,false);}
+function moveGraphic(item){lib.moveToFolder("graphics",item.name,false);}
+function moveButton(item){lib.moveToFolder("buttons",item.name,false);}
+function moveFont(item){lib.moveToFolder("fonts",item.name,false);}
+function moveVideo(item){lib.moveToFolder("videos",item.name,false);}
+function moveComponent(item){lib.moveToFolder("components",item.name,false);}
+var items = fl.getDocumentDOM().library.items;
+var i=0;
+var l=items.length;
+var missed = false;
+for(i;i&lt;l;i++)
+{
+	var item = items[i];
+	if(item.name.indexOf("Component Assets")>-1) continue;
+	if(item.name.indexOf("FLV Playback Skins")>-1) continue;
+	if(item.name.indexOf("movieclips")>-1) continue;
+	if(item.name.indexOf("bitmaps")>-1) continue;
+	if(item.name.indexOf("buttons")>-1) continue;
+	if(item.name.indexOf("components")>-1) continue;
+	if(item.name.indexOf("fonts")>-1) continue;
+	if(item.name.indexOf("graphics")>-1) continue;
+	if(item.name.indexOf("sounds")>-1) continue;
+	if(item.name.indexOf("videos")>-1) continue;
+	switch(items[i].itemType)
+	{
+		case "undefined":
+			continue;
+		case "movie clip":
+			moveMovieClip(item);
+			break;
+		case "bitmap":
+			moveBitmap(item);
+			break;
+		case "sound":
+			moveSound(item);
+			break;
+		case "graphic":
+			moveGraphic(item);
+			break;	
+		case "button":
+			moveButton(item);
+			break;
+		case "font":
+			moveFont(item);
+			break;
+		case "video":
+			moveVideo(item);
+			break;
+		case "component":
+			moveComponent(item);
+			break;
+		case "folder":
+			continue;
+	}
+}
+lib.selectNone();
+lib.editItem();
+if(missed) alert("Some items could not be organized.");
\ No newline at end of file
diff --git a/src/jsfl/publish all.jsfl b/src/jsfl/publish all.jsfl
new file mode 100644
index 0000000..10948bc
--- /dev/null
+++ b/src/jsfl/publish all.jsfl	
@@ -0,0 +1,16 @@
+/**
+ * Publishes all open documents, and closes all swf
+ * windows, except the last published SWF.
+ */
+var l = fl.documents.length;
+var count = -1;
+function publishNext()
+{
+	count++;
+	if(count == l) return;
+	else if(count == l - 1) fl.closeAllPlayerDocuments();
+	fl.setActiveWindow(fl.documents[count]);
+	fl.getDocumentDOM().testMovie();
+	publishNext();
+}
+publishNext();
\ No newline at end of file
diff --git a/src/jsfl/publish here to right.jsfl b/src/jsfl/publish here to right.jsfl
new file mode 100644
index 0000000..dc99015
--- /dev/null
+++ b/src/jsfl/publish here to right.jsfl	
@@ -0,0 +1,19 @@
+/**
+ * Publishes the current document, plus all
+ * the documents to the right of the current tab, and
+ * closes all swf windows, except the last published swf.
+ */
+var l = fl.documents.length;
+var firstIndex = fl.findDocumentIndex(fl.getDocumentDOM().name);
+var count = firstIndex - 1;
+function publishNext()
+{
+	count++;
+	if(count == l) return;
+	else if(count == l - 1) fl.closeAllPlayerDocuments();
+	fl.setActiveWindow(fl.documents[count]);
+	fl.getDocumentDOM().testMovie();
+	publishNext();
+}
+publishNext();
+fl.setActiveWindow(fl.documents[firstIndex]);
\ No newline at end of file
diff --git a/src/jsfl/publish with excludes.jsfl b/src/jsfl/publish with excludes.jsfl
new file mode 100644
index 0000000..608bf05
--- /dev/null
+++ b/src/jsfl/publish with excludes.jsfl	
@@ -0,0 +1,192 @@
+/**
+ * Publish the current document. Excluding any classes 
+ * found in a {fla_name}_exclude.xml file.
+ */
+function publishWithExcludes(traces,throwOnFail)
+{
+	var docName = document.name.toString().replace(/\.fla/i,"");
+	var dom = fl.getDocumentDOM();
+	var modifiedLibraryItems=[];
+	var renamedClasses=[];
+	var tmp,tmp2,i,j,res,os,items,item,publish;
+	var as3PackagePaths,publishProfileSource,libPublishProfileSource;
+	var failErrorMessage,traceMessage;
+	var docPath=getDocumentPath();
+	var isSaved=(document.path)?true:false;
+	var cu=unescape(fl.configURI).toLowerCase();
+	if(cu.indexOf("macintosh hd")>-1)os="mac";
+	else if(cu.indexOf("c|")>-1)os="win";
+	items = dom.library.items;
+	publish = true;//publish flag,set to false to debug (runs the script without any publishing).
+	if(!publish) fl.trace("OS: "+os);
+	
+	//get document path, for win/mac
+	function getDocumentPath()
+	{
+		var path = document.path.replace(/\\/g, '/').split('/').slice(0,-1).join('/');
+		path = path.replace(/\\/g, '/');
+		if((path.indexOf(':/') != -1) || (path.charAt(0) == '/')) while(path.charAt(0) == '/') path = path.substr(1);
+		if(path.indexOf('file:///') != 0) path = 'file:///' + path;
+		path += '/';
+		return path;
+	}
+
+	//cleans up all the temp files
+	function cleanup()
+	{
+		if(publishProfileSource) dom.importPublishProfile(publishProfileSource);
+		FLfile.remove(libPublishProfileSource);
+		FLfile.remove(publishProfileSource);
+		FLfile.remove(docPath + docName + '_lib____.swf');
+		FLfile.remove(docPath + docName + '_lib____.swc');
+		for(i=0;i&lt;renamedClasses.length;i++) //un-rename renamed classes.
+		{
+			if(FLfile.copy(renamedClasses[i]+'.bkup',renamedClasses[i]))
+			{
+				if(!FLfile.remove(renamedClasses[i]+'.bkup')) fl.trace('Warning: unable to delete temporary file ' + renamedClasses[i] + '.bkup');
+			}
+			else fl.trace('Warning: unable to restore file ' + renamedClasses[i]);
+		}
+		for(i=0;i&lt;modifiedLibraryItems.length;i++) modifiedLibraryItems[i].linkageExportInFirstFrame=true; //un-modify modified library items.
+	}
+	
+	if(isSaved) //must be saved.
+	{
+		var xcontents,xfile,filepath;
+		var contents = FLfile.read(getDocumentPath() + docName + '_exclude.xml'); //reads exclude xml
+		var xpattern = /name="([^"]+)"/g;
+		if(contents)
+		{
+			contents = contents.replace(/\n/g, ' ').replace(/&lt;!--.*?-->/g, ''); //comments
+			var pattern = /name="([^"]+)"/g;
+			var excludedClasses = [];
+			while(tmp = pattern.exec(contents)) excludedClasses.push(tmp[1]);
+			pattern = /file="([^"]+)"/g;
+			while(tmp=pattern.exec(contents))
+			{
+				xfile = tmp[1];
+				if(os=="mac")
+				{
+					if(xfile.substr(0,1)=="/") filepath = "Macintosh HD/"+xfile.substr(1,xfile.length); //file="/Users/aaronsmith"
+					else if(xfile.toLowerCase().indexOf("macintosh hd")>-1) filepath = xfile; // file="Macintosh HD/xxxx"
+					else filepath = getDocumentPath() + xfile; //file="./xxx" ||  file="../../xxx" || file="someexcludes.xml"
+				}
+				else if(os=="win")
+				{
+					xfile = xfile.replace(/\//,"/");
+					if(xfile.substr(0,2).match(/^[a-z]\:/i)) filepath = xfile;//file="c:/xxx"
+					else filepath = getDocumentPath() + xfile;
+				}
+				filepath = filepath.replace(/file\:\/\/\//,"");
+				filepath = filepath.replace(/\/{2,}/g,"/");
+				filepath = "file:///"+filepath;
+				xcontents = FLfile.read(filepath);
+				xcontents = xcontents.replace(/\n/g, ' ').replace(/&lt;!--.*?-->/g, ''); //comments
+				while(xtmp=xpattern.exec(xcontents)) excludedClasses.push(xtmp[1]);
+			}
+			if(excludedClasses.length)
+			{
+				publishProfileSource = getDocumentPath() + docName + '_publishProfile.xml'; //the file name to write the current publish profile to.
+				dom.exportPublishProfile(publishProfileSource);
+				var publishProfile = FLfile.read(publishProfileSource);
+				as3PackagePaths = (/&lt;AS3PackagePaths>(.*?)&lt;\/AS3PackagePaths>/.exec(publishProfile)[1] + ';' + fl.as3PackagePaths).replace(/\$\(AppConfig\)/g, fl.configURI).split(';');
+				//create a new publish profile for creating the library swc.
+				var libPublishFormatProperties='&lt;PublishFormatProperties enabled="true">\n&lt;defaultNames>0&lt;/defaultNames>\n&lt;flash>1&lt;/flash>\n&lt;generator>0&lt;/generator>\n&lt;projectorWin>0&lt;/projectorWin>\n&lt;projectorMac>0&lt;/projectorMac>\n&lt;html>0&lt;/html>\n&lt;gif>0&lt;/gif>\n&lt;jpeg>0&lt;/jpeg>\n&lt;png>0&lt;/png>\n&lt;qt>0&lt;/qt>\n&lt;rnwk>0&lt;/rnwk>\n&lt;flashDefaultName>0&lt;/flashDefaultName>\n&lt;generatorDefaultName>0&lt;/generatorDefaultName>\n&lt;projectorWinDefaultName>0&lt;/projectorWinDefaultName>\n&lt;projectorMacDefaultName>0&lt;/projectorMacDefaultName>\n&lt;htmlDefaultName>0&lt;/htmlDefaultName>\n&lt;gifDefaultName>0&lt;/gifDefaultName>\n&lt;jpegDefaultName>0&lt;/jpegDefaultName>\n&lt;pngDefaultName>0&lt;/pngDefaultName>\n&lt;qtDefaultName>0&lt;/qtDefaultName>\n&lt;rnwkDefaultName>0&lt;/rnwkDefaultName>\n&lt;flashFileName>%FILE_NAME%.swf&lt;/flashFileName>\n&lt;generatorFileName>%FILE_NAME%.swt&lt;/generatorFileName>\n&lt;projectorWinFileName>%FILE_NAME%.exe&lt;/projectorWinFileName>\n&lt;projectorMacFileName>%FILE_NAME%.app&lt;/projectorMacFileName>\n&lt;htmlFileName>%FILE_NAME%.html&lt;/htmlFileName>\n&lt;gifFileName>%FILE_NAME%.gif&lt;/gifFileName>\n&lt;jpegFileName>%FILE_NAME%.jpg&lt;/jpegFileName>\n &lt;pngFileName>%FILE_NAME%.png&lt;/pngFileName>\n&lt;qtFileName>%FILE_NAME%.mov&lt;/qtFileName>\n&lt;rnwkFileName>%FILE_NAME%.smil&lt;/rnwkFileName>\n&lt;/PublishFormatProperties>';
+				libPublishFormatProperties = libPublishFormatProperties.replace(/%FILE_NAME%/g, docName + '_lib____');
+				var libPublishProfile = publishProfile.replace(/\n/g, '%NEWLINE%').replace(/&lt;PublishFormatProperties.*?\/PublishFormatProperties>/, libPublishFormatProperties).replace(/%NEWLINE%/g, '\n').replace(/&lt;ExportSwc.*?\/ExportSwc>/, '&lt;ExportSwc>1&lt;/ExportSwc>');
+				libPublishProfileSource = getDocumentPath() + docName + '_lib____' + '_publishProfile.xml';
+				if(!FLfile.write(libPublishProfileSource,libPublishProfile))
+			  {
+					cleanup();
+					failErrorMessage = "The library publish profile could not be saved";
+					if(throwOnFail) throw failErrorMessage;
+					res = false;
+			  }
+				for(i=excludedClasses.length-1;i>0;i--) if(excludedClasses.indexOf(excludedClasses[i])!=i) excludedClasses.splice(i,1); //eliminate redundancies in excludes.
+		    dom.importPublishProfile(libPublishProfileSource); //set the new library publish profile
+				if(publish) dom.publish(); //publish the library fla to produce the swc file
+				for(i=0;i&lt;excludedClasses.length;i++) //rename/move excluded classes so that they aren't compiled into the swf
+				{
+					var classSource;
+					var searchDir;
+					var className = excludedClasses[i].replace(/\./g,"/") + ".as";
+					for(var j=0;j&lt;as3PackagePaths.length;j++) //find the location(s) of the class.
+					{
+						if(!as3PackagePaths[j]) continue;
+						searchDir = as3PackagePaths[j];
+						searchDir = unescape(searchDir.replace(/file\:\/\/\//,""));
+						searchDir = searchDir.replace(/c|/i,"");
+						searchDir = searchDir.replace(/\/\|\//,"/");
+						searchDir = searchDir.replace(/\\/g, '/');
+						searchDir = searchDir.replace(/\:/g,"/");
+						searchDir = searchDir.replace(/\/{2,}/g,"/");
+						if(searchDir.substr(0,1)==".")searchDir=getDocumentPath()+searchDir;
+						searchDir = searchDir.replace(/file\:\/\/\//,"");
+						if(os == "mac")
+						{
+							if(!publish) fl.trace("IN MAC");
+							if(searchDir.toLowerCase().indexOf("macintosh hd")&lt;0)searchDir="Macintosh HD/"+searchDir;
+						}
+						else if(os == "win")
+						{
+							if(!publish) fl.trace("IN WIN");
+							if(searchDir.toLowerCase().indexOf("c:")&lt;0)searchDir="C:/"+searchDir;
+						}
+						if(searchDir.lastIndexOf("/")&lt;searchDir.length-1) searchDir += "/";
+						searchDir = searchDir.replace(/\/{2,}/g,"/");
+						classSource = "file:///"+searchDir+className;
+						if(!publish) fl.trace("CLASS SOURCE");
+						if(!publish) fl.trace(classSource);
+						if(FLfile.exists(classSource))
+						{
+							if(!publish) fl.trace("FOUND FILE " + classSource);
+							renamedClasses.push(classSource);
+							if(!FLfile.copy(classSource,classSource+'.bkup')||!FLfile.remove(classSource)) //tmp rename class
+							{
+								cleanup();
+								res = false;
+								failErrorMessage = "Unable to rename file "+classSource;
+								if(throwOnFail) throw failErrorMessage;
+							}
+							break;
+						}
+					}
+				}
+				for(i=0;i&lt;items.length;i++) //alter library items that have exclude classes in first frame
+				{
+					item = items[i];
+					if((excludedClasses.indexOf(item.linkageClassName)!=-1)||(excludedClasses.indexOf(item.linkageBaseClass)!=-1))
+					{
+						if(item.linkageExportInFirstFrame)
+						{
+								modifiedLibraryItems.push(item);
+								item.linkageExportInFirstFrame = false;
+						}
+					}
+				}
+				res = true;
+				dom.importPublishProfile(publishProfileSource);
+				if(publish) dom.testMovie();
+				cleanup();
+			}
+			else
+			{
+				res = true;
+				traceMessage = "Nothing was excluded.";
+				if(publish) dom.testMovie(); //no excludes
+			}
+		}
+		else
+		{
+			res = true;
+			traceMessage = "Exclude classes must be declared in " + docName + "_exclude.xml";
+			if(publish) dom.testMovie(); //no _exclude.xml file
+		}
+	}
+	else fl.alert("In order to publish with excludes, the fla must be saved.");
+	if(traces && traceMessage) fl.trace(traceMessage);
+	return res;
+}
+//a result of true means ok
+//a result of false means errors.
+result = publishWithExcludes(true,true);
\ No newline at end of file
diff --git a/src/jsfl/publish with excludes.zip b/src/jsfl/publish with excludes.zip
new file mode 100644
index 0000000..cbd1726
Binary files /dev/null and b/src/jsfl/publish with excludes.zip differ
diff --git a/src/jsfl/selected items as public vars.jsfl b/src/jsfl/selected items as public vars.jsfl
new file mode 100644
index 0000000..a106b89
--- /dev/null
+++ b/src/jsfl/selected items as public vars.jsfl	
@@ -0,0 +1,22 @@
+/**
+ * Creates an output of symbol definitions as public vars
+ * and traces to the output panel.
+ */
+var items=fl.getDocumentDOM().selection;
+var finalDeclarations="";
+var li;
+for(var i=0;i&lt;items.length;i++)
+{
+	var item=items[i];
+	if(item.libraryItem)
+	{
+		li=item.libraryItem;
+		if(isComponent(item.libraryItem.name))finalDeclarations+="public var "+item.name+":"+getClassOfComponent(item.libraryItem.name)+";\n";
+		else if(li.linkageBaseClass)finalDeclarations+="public var "+item.name+":"+(li.linkageBaseClass.toString().split(".").pop())+";\n";
+		else if(item.name)finalDeclarations+="public var "+item.name+":MovieClip;\n";
+	}
+	else if(item.elementType=="text"&&item.name)finalDeclarations+="public var "+item.name+":TextField;\n";
+}
+function isComponent(libItemName){return libItemName.match(/Components\//i);}
+function getClassOfComponent(libItemName){return libItemName.match(/Components\/([a-zA-Z0-9_-]*)/i)[1];}
+fl.outputPanel.trace(finalDeclarations);
\ No newline at end of file
diff --git a/src/jsfl/selection to 0-0.jsfl b/src/jsfl/selection to 0-0.jsfl
new file mode 100644
index 0000000..b5ee83a
--- /dev/null
+++ b/src/jsfl/selection to 0-0.jsfl	
@@ -0,0 +1,15 @@
+/**
+ * Moves all selected items to 0,0
+ */
+var dom = fl.getDocumentDOM();
+var newSel = [];
+for(i=0;i&lt;dom.selection.length;i++)
+{
+	var item = dom.selection[i];
+	var mat = item.matrix;	
+	mat.tx = 0;
+	mat.ty = 0;
+	item.matrix = mat;
+	dom.setTransformationPoint({x:0, y:0});
+}
+dom.selectNone();
\ No newline at end of file
diff --git a/src/jsfl/unguide all.jsfl b/src/jsfl/unguide all.jsfl
new file mode 100644
index 0000000..5e39470
--- /dev/null
+++ b/src/jsfl/unguide all.jsfl	
@@ -0,0 +1,11 @@
+/**
+ * Unguide all "guide" layers.
+ */
+var doc=fl.getDocumentDOM();
+var tl=doc.getTimeline();
+var layers=tl.layers;
+for(var i=0;i&lt;layers.length;i++)
+{
+	if(layers[i].layerType=="mask")continue;
+	else layers[i].layerType="normal";
+}
\ No newline at end of file
diff --git a/src/jsfl/unlock all layers.jsfl b/src/jsfl/unlock all layers.jsfl
new file mode 100644
index 0000000..ee1478c
--- /dev/null
+++ b/src/jsfl/unlock all layers.jsfl	
@@ -0,0 +1,10 @@
+/**
+ * Unlocks all layers.
+ */
+var i=0;
+var l=fl.getDocumentDOM().getTimeline().layers.length;
+for(i;i&lt;l;i++)
+{
+	var layer = fl.getDocumentDOM().getTimeline().layers[i];
+	layer.locked = false;
+}
\ No newline at end of file
diff --git a/src/jsfl/update all baseclasses to new baseclass.jsfl b/src/jsfl/update all baseclasses to new baseclass.jsfl
new file mode 100644
index 0000000..0bcb5cc
--- /dev/null
+++ b/src/jsfl/update all baseclasses to new baseclass.jsfl	
@@ -0,0 +1,20 @@
+/**
+ * Updates all movie clips in the library whos ExportClass matches
+ * the target class, and updates it to the new one provided.
+ */
+var fld=fl.getDocumentDOM();
+var lib=fld.library;
+var items=lib.items;
+var xmui=fld.xmlPanel(fl.configURI+"Commands/xmui/update all baseclasses to new baseclasses.xml");
+if(xmui.dismiss=="accept")
+{
+	if(!xmui.currentBaseClass&&!xmui.newBaseClass)return;
+	var k=items.length;
+	var item;
+	var i=0;
+	for(i;i&lt;k;i++)
+	{
+		item=items[i];
+		if(item.linkageBaseClass==xmui.currentBaseClass)item.linkageBaseClass=xmui.newBaseClass;
+	}
+}
\ No newline at end of file
diff --git a/src/jsfl/update base class on selected.jsfl b/src/jsfl/update base class on selected.jsfl
new file mode 100644
index 0000000..f7e9c9e
--- /dev/null
+++ b/src/jsfl/update base class on selected.jsfl	
@@ -0,0 +1,19 @@
+/**
+ * Prompts for a new base class, that will be set
+ * on all selected items in the library.
+ */
+var newBaseClass=prompt("Enter the new base class","");
+if(newBaseClass)
+{
+	var items=fl.getDocumentDOM().library.getSelectedItems();
+	var i=0;
+	for(i;i&lt;items.length;i++)
+	{
+		var item=items[i];
+		var t=item.itemType;
+		if(t!="movie clip"&&t!="font"&&t!="sound"&&t!="bitmap")continue;
+		item.linkageExportForAS=true;
+		item.linkageBaseClass=newBaseClass;
+		item.linkageExportInFirstFrame=true;
+	}
+}
\ No newline at end of file
diff --git a/src/jsfl/whole pixels.jsfl b/src/jsfl/whole pixels.jsfl
new file mode 100644
index 0000000..b5ee18c
--- /dev/null
+++ b/src/jsfl/whole pixels.jsfl	
@@ -0,0 +1,9 @@
+/**
+ * Moves selected objects on the stage to whole pixels
+ */
+var objects = fl.getDocumentDOM().selection;
+for(var i = 0; i &lt; objects.length; i++)
+{
+	objects[i].x = Math.round(objects[i].x);
+	objects[i].y = Math.round(objects[i].y);
+}
\ No newline at end of file
diff --git a/src/jsfl/width height whole numbers.jsfl b/src/jsfl/width height whole numbers.jsfl
new file mode 100644
index 0000000..fa374e1
--- /dev/null
+++ b/src/jsfl/width height whole numbers.jsfl	
@@ -0,0 +1,10 @@
+/**
+ * Rounds the width and height properties on all
+ * selected objects.
+ */
+var objects=fl.getDocumentDOM().selection;
+for(var i=0;i&lt;objects.length;i++)
+{
+	objects[i].width=Math.round(objects[i].width);
+	objects[i].height=Math.round(objects[i].height);
+}
\ No newline at end of file
diff --git a/src/jsfl/wrap selected as new symbol.jsfl b/src/jsfl/wrap selected as new symbol.jsfl
new file mode 100755
index 0000000..cce2d25
--- /dev/null
+++ b/src/jsfl/wrap selected as new symbol.jsfl	
@@ -0,0 +1,117 @@
+﻿/**
+ * Wraps all selected items in the library in a movie
+ * clip, with registration point set to 0,0.
+ */
+ConvertAllToClips = function(){}
+var proto = ConvertAllToClips.prototype;
+proto.doc = fl.getDocumentDOM();
+proto.init = function()
+{
+	if(xmui.dismiss == "accept")
+	{
+		this.lib = this.doc.library;
+		var cItems = this.lib.getSelectedItems();
+		var cLength = cItems.length;
+		
+		//add a temporary clip to the library in which conversion takes place:
+		this.lib.addNewItem("movie clip", "_tmpConversionClip");
+		this.lib.editItem("_tmpConversionClip");
+		
+		//put selected library items to stage:
+		for(var i = 0; i &lt; cLength; i++)
+		{
+			//this.lib.selectItem(cItems[i].name);
+			this.lib.addItemToDocument({x:0, y:0}, cItems[i].name);
+		}
+		
+		//select all items:
+		this.doc.selectNone();
+		this.doc.selectAll();
+		this.doc.distributeToLayers();
+
+		//delete the first layer, it's empty now:
+		this.doc.getTimeline().deleteLayer(0);
+			
+		//get all layers again:
+		var currentLayers = this.doc.getTimeline().layers;
+		
+		//first lock all layers:
+		var i = 0;
+		for(i in currentLayers)
+		{
+			currentLayers[i].locked = true;
+		}
+			
+		//create folder:
+		this.lib.newFolder(xmui.folderName);
+			
+		//then unlock layer by layer, convert, then lock again:
+		var j = 0;
+		var cl = currentLayers.length; // use backwards counting value for layers so item order stays correct.
+		for(j in currentLayers)
+		{
+			cl--;
+			if(!currentLayers[cl])
+			{
+				fl.trace("NOT HERE");
+				break;
+			}
+			currentLayers[cl].locked = false;
+			this.doc.selectNone();
+			this.doc.selectAll();
+
+			//check if leading zeroes should be used:
+			if (xmui.leadingZeroes == "true")
+			{
+				//check how many zeroes are actually needed:
+				var tmpLength = currentLayers.length;
+				if(tmpLength &lt; 100)
+				{
+					if(j &lt; 10) var lz = "0";
+					else if(j >= 10) var lz = "";
+				}
+				else if(tmpLength >= 100 && tmpLength &lt; 1000)
+				{
+					if (j &lt; 10) var lz = "00";
+					else if (j >= 10 && j &lt; 100) var lz = "0";
+					else if (j >= 100) var lz = "";
+				}
+				else if (tmpLength >= 1000)
+				{
+					if (j &lt; 10) var lz = "000";
+					else if (j >= 10 && j &lt; 100) var lz = "00";
+					else if (j >= 100 && j &lt; 1000) var lz = "0";
+					else if (j >= 1000) var lz = "";
+				}
+			}
+			else
+			{
+				var lz = "";
+			}
+			
+			//finally convert selected item:
+			this.doc.convertToSymbol(xmui.itemType, xmui.itemName + lz + j, xmui.regPoint);
+			this.lib.moveToFolder(xmui.folderName);
+			this.doc.getTimeline().deleteLayer();
+		}
+		
+		//delete the rest:
+		this.doc.selectNone();
+		this.doc.selectAll();
+		if(this.doc.selection.length > 0) this.doc.deleteSelection();
+		this.doc.exitEditMode();
+		this.lib.deleteItem("_tmpConversionClip");
+	}
+}
+var theDoc = fl.getDocumentDOM();
+if (!theDoc) alert("You need to open a Flash file first!");
+else
+{
+	if(theDoc.library.getSelectedItems().length &lt;= 1) alert("Please select at least two items in the library!");
+	else
+	{
+		var xmui = theDoc.xmlPanel(fl.configURI + "Commands/xmui/wrap selected as new symbol.xml");
+		var obj = new ConvertAllToClips();
+		obj.init();
+	}
+}
\ No newline at end of file
diff --git a/src/jsfl/xmui/update all baseclasses to new baseclasses.xml b/src/jsfl/xmui/update all baseclasses to new baseclasses.xml
new file mode 100644
index 0000000..cab7c1d
--- /dev/null
+++ b/src/jsfl/xmui/update all baseclasses to new baseclasses.xml	
@@ -0,0 +1,14 @@
+&lt;dialog id="updateAllBaseClassesToNew" title="Update All Matching Base Classes" buttons="accept,cancel">
+	&lt;grid>
+		&lt;columns>
+			&lt;column/>
+			&lt;column/>
+		&lt;/columns>
+		&lt;row>
+			&lt;label value="Current Base Class " control="currentBaseClassControl" />&lt;textbox id="currentBaseClass" value="" maxlength="512" />
+		&lt;/row>
+		&lt;row>
+			&lt;label value="New Base Class " control="newBaseClassControl" />&lt;textbox id="newBaseClass" value="" maxlength="512" />
+		&lt;/row>
+	&lt;/grid>
+&lt;/dialog>
diff --git a/src/jsfl/xmui/wrap selected as new symbol.xml b/src/jsfl/xmui/wrap selected as new symbol.xml
new file mode 100755
index 0000000..829085a
--- /dev/null
+++ b/src/jsfl/xmui/wrap selected as new symbol.xml	
@@ -0,0 +1,43 @@
+&lt;dialog id="ConvertAllToClips" title="Wrap selected items as new symbol" buttons="accept,cancel">
+	&lt;grid>
+		&lt;columns>
+			&lt;column/>
+			&lt;column/>
+		&lt;/columns>
+		&lt;row>
+			&lt;label value="Item type " control="itemType" />
+			&lt;menulist id="itemType">
+				&lt;menupop>
+					&lt;menuitem label="movie clip" selected="true" />
+					&lt;menuitem label="button" selected="false" />
+					&lt;menuitem label="graphic" selected="false" />
+				&lt;/menupop>
+			&lt;/menulist>
+		&lt;/row>
+		&lt;row>
+			&lt;label value="Registration Point" control="regPoint" />
+			&lt;menulist id="regPoint">
+				&lt;menupop>
+					&lt;menuitem label="top left" selected="true" />
+					&lt;menuitem label="top center" selected="false" />
+					&lt;menuitem label="top right" selected="false" />
+					&lt;menuitem label="center left" selected="false" />
+					&lt;menuitem label="center" selected="false" />
+					&lt;menuitem label="center right" selected="false" />
+					&lt;menuitem label="bottom left" selected="false" />
+					&lt;menuitem label="bottom center" selected="false" />
+					&lt;menuitem label="bottom right" selected="false" />
+				&lt;/menupop>
+			&lt;/menulist>
+		&lt;/row>
+		&lt;row>
+			&lt;label value="Item name prefix " control="itemName" />&lt;textbox id="itemName" value="convertedItem_" maxlength="100" />
+		&lt;/row>
+		&lt;row>
+			&lt;label value="Folder name " control="folderName" />&lt;textbox id="folderName" value="_convertedItems" maxlength="100" />
+		&lt;/row>
+		&lt;row>
+			&lt;label value="Use leading zeroes " control="leadingZeroes" />&lt;checkbox id="leadingZeroes" />
+		&lt;/row>
+	&lt;/grid>
+&lt;/dialog>
diff --git a/todo b/todo
new file mode 100644
index 0000000..9d033cf
--- /dev/null
+++ b/todo
@@ -0,0 +1,94 @@
+-Add option in document controller for shell type (for multiple swfs that extend document controller but still need to run the entire setup chain).
+
+
+-optimizations ( cast objects when accessing array(].) , cast to ints in loops, only use ints in loops)
+-docs
+-tools
+-jsfls
+  -selected as public vars - update so that if the movie clip is linked to class, it uses that as the class type for the declaration.
+-key manager update.
+-dispose events in EM from context menus.
+-add delete dict[key] to anywhere dicts are used and cleaned up.
+-flex text stuff
+-other types of buttons - color tweened buttons, etc
+-FormFieldManager
+
+---guttershark tools
+-swc creation (air || flash tool)
+-doc command creation
+-bugs - sharedOBject bug, export classes bug, write XML
+-java scaffolding commandline tool
+-update all preferences to save to amf file
+-library tool (batch publish)
+-manage profiles
+-preferences - general guttershark tool preferences
+-scaffolding
+ -create projects
+ -code - (creating classes, clips, etc)
+-publish tools
+ -exclude classes
+ -publish patterns
+ -batch publishing
+-library tools - tools used against the current library
+-video tools
+ -preview player (loads an XML file, which set's up the player) (do we provide stats to? filesize, fps, etc.) 
+ -akamai
+  -test ident
+  -test connection
+  -test video stream
+  -statistics (bandwidth,etc)
+-tracking tools
+-service explorer
+ -remoting
+ -post/get
+ -wsdl
+ -file upload
+-locale tools
+ -language xml management (work with excel/xml)
+
+
+-full state assertions
+ALABAMA,ALASKA ,AMERICAN SAMOA                  
+ARIZONA,ARKANSAS                        
+CALIFORNIA                      
+COLORADO                        
+CONNECTICUT                     
+DELAWARE                        
+DISTRICT OF COLUMBIA            
+FEDERATED STATES OF MICRONESIA  
+FLORIDA,GEORGIA,GUAM   ,HAWAII ,IDAHO  ,ILLINOIS                        
+INDIANA,IOWA   ,KANSAS ,KENTUCKY                        
+LOUISIANA                       
+MAINE  ,MARSHALL ISLANDS                
+MARYLAND                        
+MASSACHUSETTS                   
+MICHIGAN                        
+MINNESOTA                       
+MISSISSIPPI                     
+MISSOURI                        
+MONTANA,NEBRASKA                        
+NEVADA ,NEW HAMPSHIRE                   
+NEW JERSEY                      
+NEW MEXICO                      
+NEW YORK                        
+NORTH CAROLINA                  
+NORTH DAKOTA                    
+NORTHERN MARIANA ISLANDS        
+OHIO   ,OKLAHOMA                        
+OREGON ,PALAU  ,PENNSYLVANIA                    
+PUERTO RICO                     
+RHODE ISLAND                    
+SOUTH CAROLINA                  
+SOUTH DAKOTA                    
+TENNESSEE                       
+TEXAS  ,UTAH   ,VERMONT,VIRGIN ISLANDS                  
+VIRGINIA                        
+WASHINGTON                      
+WEST VIRGINIA                   
+WISCONSIN                       
+WYOMING,ARMED FORCES AFRICA
+ARMED FORCES AMERICAS
+ARMED FORCES CANADA
+ARMED FORCES EUROPE
+ARMED FORCES MIDDLE EAST
+ARMED FORCES PACIFIC
\ No newline at end of file

</textarea>
<textarea id="diff" class="difftextarea">
</textarea>
<pre id="diffpre"><code id='updateddiff'></code></pre>
</body>